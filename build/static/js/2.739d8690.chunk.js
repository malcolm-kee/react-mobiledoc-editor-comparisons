/*! For license information please see 2.739d8690.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-mobiledoc-editor-comparisons"]=this["webpackJsonpreact-mobiledoc-editor-comparisons"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(15)},function(e,t,n){e.exports=n(20)()},function(e,t,n){"use strict";e.exports=n(25)},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(19);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(16)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return Sa})),n.d(t,"b",(function(){return Ta})),n.d(t,"c",(function(){return Wa}));var r,i,a,o,s,u=n(7),l=n.n(u),c=n(4),d=n.n(c),f=n(1),h=n.n(f),p=n(0),v=n.n(p),m=n(11),k=n.n(m),y=n(12),g=n.n(y),b=n(6),w=n.n(b),_=n(13),E=n.n(_),S=n(14),C=n.n(S),N=n(8),M=n.n(N),T=n(3),A=n.n(T);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if(Array.isArray(e))return e}function R(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(e){if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){return O(e)||R(e)||L(e)||I()}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return function(e){if(Array.isArray(e))return P(e)}(e)||R(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return!t||"object"!==V(t)&&"function"!==typeof t?F(e):t}function Q(e){var t=K();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function $(e,t,n){return($=K()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&j(i,n.prototype),i}).apply(null,arguments)}function G(e){var t="function"===typeof Map?new Map:void 0;return(G=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $(e,arguments,W(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),j(r,e)})(e)}function Y(e,t){return O(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||L(e,t)||I()}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),e}function ee(e,t){if("detect"in e)return e.detect(t);for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function te(e,t){if("any"in e)return e.any(t);for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function ne(e,t){if("forEach"in e)e.forEach(t);else for(var n=0;n<e.length;n++)t(e[n],n)}function re(e,t){var n=[];return ne(e,(function(e){t(e)&&n.push(e)})),n}function ie(e,t){for(var n=0;n<e.length&&n<t.length&&e[n]===t[n];)n++;return n}function ae(e,t,n){var r=n;return ne(e,(function(e,n){r=t(r,e,n)})),r}function oe(e){for(var t={},n=0;n<e.length;n+=2){var r=[e[n],e[n+1]],i=r[1];t[r[0]]=i}return t}function se(e){var t=Object.keys(e).sort(),n=[];return t.forEach((function(t){n.push(t),n.push(e[t])})),n}function ue(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return ne(re(Object.keys(e),(function(e){return-1!==t.indexOf(e)})),(function(t){return n[t]=e[t]})),n}function ce(e,t){return-1!==e.indexOf(t)}function de(e){return Object.keys(e).map((function(t){return e[t]}))}var fe=1,he=3,pe=8;function ve(e){return e.nodeType===he}function me(e){return e.nodeType===pe}function ke(e){return e.nodeType===fe}function ye(e,t){return e===t||!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)}function ge(e){var t={};return e.hasAttributes()&&ne(e.attributes,(function(e){var n=e.name,r=e.value;t[n]=r})),t}function be(e,t){e.classList.add(t)}function we(e){return e.toLowerCase()}function _e(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var Ee=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};X(this,e),this.isShowing=!1,this.isDestroyed=!1,n.tagName=n.tagName||"div",n.container=n.container||document.body,this.element=document.createElement(n.tagName),this.container=n.container;var r=n.classNames||[];r.forEach((function(e){return be(t.element,e)})),this._eventListeners=[]}return Z(e,[{key:"addEventListener",value:function(e,t,n){e.addEventListener(t,n),this._eventListeners.push([e,t,n])}},{key:"removeAllEventListeners",value:function(){this._eventListeners.forEach((function(e){var t=Y(e,3),n=t[0],r=t[1],i=t[2];n.removeEventListener(r,i)}))}},{key:"show",value:function(){if(!this.isShowing)return this.container.appendChild(this.element),this.isShowing=!0,!0}},{key:"hide",value:function(){if(this.isShowing)return this.container.removeChild(this.element),this.isShowing=!1,!0}},{key:"destroy",value:function(){this.removeAllEventListeners(),this.hide(),this.isDestroyed=!0}}]),e}();function Se(e,t){var n=e.lastIndexOf(t);return-1!==n&&n===e.length-t.length}function Ce(e,t,n,r){var i,a,o=function(e){var t,n={left:0,top:-window.pageYOffset},r=e.offsetParent;return"relative"===window.getComputedStyle(r).position&&(t=r.getBoundingClientRect(),n.left=t.left,n.top=t.top),n}(e),s=e.style,u=Math.round;return n=n||0,r=r||0,i=u(t.left-o.left-r),a=u(t.top+t.height-o.top-n),s.left="".concat(i,"px"),s.top="".concat(a,"px"),{left:i,top:a}}function Ne(e,t){var n=function(e,t){return parseFloat(window.getComputedStyle(e)[t])}(e,"marginTop");return function(e,t,n){return Ce(e,t,n,e.offsetWidth/2-t.width/2)}(e,t.getBoundingClientRect(),-n)}var Me=function(){function e(){X(this,e),this.markups=[],this.prev=null,this.next=null,this.isAtom=!1,this.isMarker=!1,this.section=null,this.parent=null,this.renderNode=null}return Z(e,[{key:"charAt",value:function(e){return this.value.slice(e,e+1)}},{key:"clearMarkups",value:function(){this.markups=[]}},{key:"addMarkup",value:function(e){this.markups.push(e)}},{key:"addMarkupAtIndex",value:function(e,t){this.markups.splice(t,0,e)}},{key:"removeMarkup",value:function(e){var t,n=this;if("function"===typeof e)t=e;else{var r=e;t=function(e){return e===r}}ne(re(this.markups,t),(function(e){return n._removeMarkup(e)}))}},{key:"_removeMarkup",value:function(e){var t=this.markups.indexOf(e);-1!==t&&this.markups.splice(t,1)}},{key:"hasMarkup",value:function(e){return!!this.getMarkup(e)}},{key:"getMarkup",value:function(e){if("string"===typeof e){var t=we(e);return ee(this.markups,(function(e){return e.tagName===t}))}var n=e;return ee(this.markups,(function(e){return e===n}))}},{key:"openedMarkups",get:function(){var e=0;return this.prev&&(e=ie(this.markups,this.prev.markups)),this.markups.slice(e)}},{key:"closedMarkups",get:function(){var e=0;return this.next&&(e=ie(this.markups,this.next.markups)),this.markups.slice(e)}}]),e}(),Te=function(e){z(n,e);var t=Q(n);function n(){return X(this,n),t.apply(this,arguments)}return n}(G(Error));function Ae(e,t){if(!t)throw new Te(e)}function xe(e,t,n){Ae(e,t in n)}function Oe(e,t){if(null===t)throw new Te(e)}function Re(e,t,n){Ae(e,n)}function Pe(e,t){if(null===e||void 0===e)throw new Te(t);return e}function Le(e){return Pe(e,"expected value to not be null or undefined")}var Ie=[55296,56319],De=[56320,57343],Fe=function(e){z(n,e);var t=Q(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return X(this,n),(e=t.call(this)).type="marker",e.isMarker=!0,e.markups=[],e.renderNode=null,e.value=r,Ae("Marker must have value",void 0!==r&&null!==r),i.forEach((function(t){return e.addMarkup(t)})),e}return Z(n,[{key:"clone",value:function(){var e=this.markups.slice();return this.builder.createMarker(this.value,e)}},{key:"isEmpty",get:function(){return this.isBlank}},{key:"isBlank",get:function(){return 0===this.length}},{key:"text",get:function(){return this.value}},{key:"length",get:function(){return this.value.length}},{key:"deleteValueAtOffset",value:function(e){Ae("Cannot delete value at offset outside bounds",e>=0&&e<=this.length);var t=1,n=this.value.charCodeAt(e);n>=Ie[0]&&n<=Ie[1]?t=2:n>=De[0]&&n<=De[1]&&(t=2,e-=1);var r=[this.value.slice(0,e),this.value.slice(e+t)],i=r[0],a=r[1];return this.value=i+a,t}},{key:"canJoin",value:function(e){return e&&e.isMarker&&ue(this.markups,e.markups)}},{key:"textUntil",value:function(e){return this.value.slice(0,e)}},{key:"split",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[this.builder.createMarker(this.value.substring(0,e)),this.builder.createMarker(this.value.substring(e,t)),this.builder.createMarker(this.value.substring(t))];return this.markups.forEach((function(e){return n.forEach((function(t){return t.addMarkup(e)}))})),n}},{key:"splitAtOffset",value:function(e){Ae("Cannot split a marker at an offset > its length",e<=this.length);var t=this.value,n=this.builder,r=n.createMarker(t.substring(0,e)),i=n.createMarker(t.substring(e));return this.markups.forEach((function(e){r.addMarkup(e),i.addMarkup(e)})),[r,i]}}]),n}(Me);var Be,Ue={BACKSPACE:8,SPACE:32,ENTER:13,SHIFT:16,ESC:27,DELETE:46,0:48,9:57,A:65,Z:90,a:97,z:122,NUMPAD_0:186,NUMPAD_9:111,";":186,".":190,"`":192,"[":219,'"':222,IME:229,TAB:9,CLEAR:12,PAUSE:19,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,META:91,ALT:18,CTRL:17},He={BACKSPACE:"Backspace",SPACE:" ",ENTER:"Enter",SHIFT:"Shift",ESC:"Escape",DELETE:"Delete",INS:"Insert",HOME:"Home",END:"End",PAGEUP:"PageUp",PAGEDOWN:"PageDown",CLEAR:"Clear",PAUSE:"Pause",TAB:"Tab",ALT:"Alt",CTRL:"Control",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"};!function(e){e[e.FORWARD=1]="FORWARD",e[e.BACKWARD=-1]="BACKWARD"}(Be||(Be={}));var je={META:1,CTRL:2,SHIFT:4,ALT:8};var ze={BACKSPACE:Ue.BACKSPACE,TAB:Ue.TAB,ENTER:Ue.ENTER,ESC:Ue.ESC,SPACE:Ue.SPACE,PAGEUP:Ue.PAGEUP,PAGEDOWN:Ue.PAGEDOWN,END:Ue.END,HOME:Ue.HOME,LEFT:Ue.LEFT,UP:Ue.UP,RIGHT:Ue.RIGHT,DOWN:Ue.DOWN,INS:Ue.INS,DEL:Ue.DELETE};var We=function(){function e(t){X(this,e),this.key=t.key,this.keyCode=t.keyCode,this.charCode=t.charCode,this.event=t,this.modifierMask=function(e){var t=e.metaKey,n=e.shiftKey,r=e.ctrlKey,i=e.altKey,a=function(e,t){return e&&t||0};return a(t,je.META)+a(n,je.SHIFT)+a(r,je.CTRL)+a(i,je.ALT)}(t)}return Z(e,[{key:"toString",value:function(){return this.isTab()?"\t":String.fromCharCode(this.charCode)}},{key:"isKeySupported",value:function(){return this.key}},{key:"isKey",value:function(e){return this.isKeySupported()?(Ae("Must define Keys.".concat(e,"."),!!He[e]),this.key===He[e]):(Ae("Must define Keycodes.".concat(e,"."),!!Ue[e]),this.keyCode===Ue[e])}},{key:"isEscape",value:function(){return this.isKey("ESC")}},{key:"isDelete",value:function(){return this.isKey("BACKSPACE")||this.isForwardDelete()}},{key:"isForwardDelete",value:function(){return this.isKey("DELETE")}},{key:"isArrow",value:function(){return this.isHorizontalArrow()||this.isVerticalArrow()}},{key:"isHorizontalArrow",value:function(){return this.isLeftArrow()||this.isRightArrow()}},{key:"isHorizontalArrowWithoutModifiersOtherThanShift",value:function(){return this.isHorizontalArrow()&&!(this.ctrlKey||this.metaKey||this.altKey)}},{key:"isVerticalArrow",value:function(){return this.isKey("UP")||this.isKey("DOWN")}},{key:"isLeftArrow",value:function(){return this.isKey("LEFT")}},{key:"isRightArrow",value:function(){return this.isKey("RIGHT")}},{key:"isHome",value:function(){return this.isKey("HOME")}},{key:"isEnd",value:function(){return this.isKey("END")}},{key:"isPageUp",value:function(){return this.isKey("PAGEUP")}},{key:"isPageDown",value:function(){return this.isKey("PAGEDOWN")}},{key:"isInsert",value:function(){return this.isKey("INS")}},{key:"isClear",value:function(){return this.isKey("CLEAR")}},{key:"isPause",value:function(){return this.isKey("PAUSE")}},{key:"isSpace",value:function(){return this.isKey("SPACE")}},{key:"isTab",value:function(){return!this.hasAnyModifier()&&this.isKey("TAB")}},{key:"isEnter",value:function(){return this.isKey("ENTER")}},{key:"isShiftKey",value:function(){return this.isKey("SHIFT")}},{key:"isAltKey",value:function(){return this.isKey("ALT")}},{key:"isCtrlKey",value:function(){return this.isKey("CTRL")}},{key:"isIME",value:function(){return this.keyCode===Ue.IME}},{key:"direction",get:function(){switch(!0){case this.isDelete():return this.isForwardDelete()?Be.FORWARD:Be.BACKWARD;case this.isHorizontalArrow():return this.isRightArrow()?Be.FORWARD:Be.BACKWARD;default:return Be.FORWARD}}},{key:"isShift",value:function(){return this.shiftKey}},{key:"hasModifier",value:function(e){return e&this.modifierMask}},{key:"hasAnyModifier",value:function(){return!!this.modifierMask}},{key:"ctrlKey",get:function(){return je.CTRL&this.modifierMask}},{key:"metaKey",get:function(){return je.META&this.modifierMask}},{key:"shiftKey",get:function(){return je.SHIFT&this.modifierMask}},{key:"altKey",get:function(){return je.ALT&this.modifierMask}},{key:"isPrintableKey",value:function(){return!(this.isArrow()||this.isHome()||this.isEnd()||this.isPageUp()||this.isPageDown()||this.isInsert()||this.isClear()||this.isPause()||this.isEscape())}},{key:"isNumberKey",value:function(){if(this.isKeySupported())return this.key>="0"&&this.key<="9";var e=this.keyCode;return e>=Ue[0]&&e<=Ue[9]||e>=Ue.NUMPAD_0&&e<=Ue.NUMPAD_9}},{key:"isLetterKey",value:function(){if(this.isKeySupported()){var e=this.key;return e>="a"&&e<="z"||e>="A"&&e<="Z"}var t=this.keyCode;return t>=Ue.A&&t<=Ue.Z||t>=Ue.a&&t<=Ue.z}},{key:"isPunctuation",value:function(){if(this.isKeySupported()){var e=this.key;return e>=";"&&e<="`"||e>="["&&e<='"'}var t=this.keyCode;return t>=Ue[";"]&&t<=Ue["`"]||t>=Ue["["]&&t<=Ue['"']}},{key:"isPrintable",value:function(){return!this.ctrlKey&&!this.metaKey&&(!!this.isPrintableKey()&&(0!==this.keyCode||this.toString().length>0||this.isNumberKey()||this.isSpace()||this.isTab()||this.isEnter()||this.isLetterKey()||this.isPunctuation()||this.isIME()))}}],[{key:"fromEvent",value:function(t){return Ae("Must pass a Key event to Key.fromEvent",t&&function(e){return/^key/.test(e.type)}(t)),new e(t)}}]),e}();function Ke(e){var t=document.createRange();return t.setEnd(e,e.nodeValue.length),t.setStart(e,0),t.getClientRects()}function Ve(e,t){for(var n,r,i=1e8,a=0,o=e.firstChild;o;o=o.nextSibling){var s=void 0;if(ke(o))s=o.getClientRects();else{if(!ve(o))continue;s=Ke(o)}for(var u=0;u<s.length;u++){var l=s[u];if(l.left<=t.left&&l.right>=t.left){var c=l.top>t.top?l.top-t.top:l.bottom<t.top?t.top-l.bottom:0;if(c<i){n=o,i=c,r=c?{left:t.left,top:l.top}:t,ke(o)&&!o.firstChild&&(a=u+(t.left>=(l.left+l.right)/2?1:0));continue}}!n&&(t.top>=l.bottom||t.top>=l.top&&t.left>=l.right)&&(a=u+1)}}return n?ve(n)?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);var a=r.getBoundingClientRect();if(a.top!==a.bottom&&a.left<=t.left&&a.right>=t.left&&a.top<=t.top&&a.bottom>=t.top)return{node:e,offset:i+(t.left>=(a.left+a.right)/2?1:0)}}return{node:e,offset:0}}(n,r):n.firstChild?Ve(n,r):{node:e,offset:a}:{node:e,offset:a}}function qe(e,t,n){var r=t.compareDocumentPosition(e);if(r&Node.DOCUMENT_POSITION_CONTAINED_BY)return{node:e,offset:n};if(r&Node.DOCUMENT_POSITION_CONTAINS)return{node:e,offset:n};if(r&Node.DOCUMENT_POSITION_PRECEDING){for(var i=t.firstChild;i&&i.firstChild;)i=i.firstChild;return{node:i,offset:0}}if(r&Node.DOCUMENT_POSITION_FOLLOWING){for(var a=t.lastChild;a.lastChild;)a=a.lastChild;return{node:a,offset:ve(a)?a.textContent.length:1}}return{node:e,offset:n}}function Qe(e){return e instanceof Selection}function $e(e){Oe("selection anchorNode should not be null",e.anchorNode),Oe("selection focusNode should not be null",e.focusNode);var t,n,r,i,a,o=e.anchorNode,s=e.focusNode,u=e.anchorOffset,l=e.focusOffset,c=o.compareDocumentPosition(s);if(c&Node.DOCUMENT_POSITION_CONTAINS){if(l<s.childNodes.length)s=s.childNodes[l],l=0;else{for(;s.lastChild;)s=s.lastChild;l=s.textContent.length}return $e({focusNode:s,focusOffset:l,anchorNode:o,anchorOffset:u})}if(c&Node.DOCUMENT_POSITION_CONTAINED_BY){var d=u-1;return d<0&&(d=0),$e({anchorNode:o.childNodes[d],anchorOffset:0,focusNode:s,focusOffset:l})}return c&Node.DOCUMENT_POSITION_FOLLOWING?(t=o,n=s,r=u,i=l,a=Be.FORWARD):c&Node.DOCUMENT_POSITION_PRECEDING?(t=s,n=o,r=l,i=u,a=Be.BACKWARD):(t=n=o,(i=l)<(r=u)?(r=l,i=u,a=Be.BACKWARD):a=r<i?Be.FORWARD:null),{headNode:t,headOffset:r,tailNode:n,tailOffset:i,direction:a}}var Ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;X(this,e),this.head=t,this.tail=n,this.direction=r}return Z(e,[{key:"trimTo",value:function(t){var n=t.length,r=t===this.head.section?Math.min(this.head.offset,n):0,i=t===this.tail.section?Math.min(this.tail.offset,n):n;return e.create(t,r,t,i)}},{key:"extend",value:function(t){if(Ae("Must pass integer to Range#extend","number"===typeof t),0===t)return this;var n=this.head,r=this.tail,i=this.direction;switch(i){case Be.FORWARD:return new e(n,r.move(t),i);case Be.BACKWARD:return new e(n.move(t),r,i);default:return new e(n,r,t>0?Be.FORWARD:Be.BACKWARD).extend(t)}}},{key:"move",value:function(t){Ae("Must pass DIRECTION.FORWARD (".concat(Be.FORWARD,") or DIRECTION.BACKWARD (").concat(Be.BACKWARD,") to Range#move"),t===Be.FORWARD||t===Be.BACKWARD);var n=this.focusedPosition;return this.isCollapsed?new e(n.move(t)):this._collapse(t)}},{key:"expandByMarker",value:function(e){var t=this.head,n=this.tail,r=this.direction,i=t.section;if(Oe("expected range section to not be null",i),Ye(i),i!==n.section)throw new Error("#expandByMarker does not work across sections. Perhaps you should confirm the range is collapsed");var a=function(t){return!e(t)},o=i.markers.detect(a,t.marker,!0);o=!o&&e(i.markers.head)?i.markers.head:Le(o).next||t.marker;var s=new ht(i,i.offsetOfMarker(Le(o)));Ye(n.section);var u=n.section.markers.detect(a,n.marker);u=!u&&e(Le(i.markers.tail))?Le(i.markers.tail):Le(u).prev||Le(n.marker);var l=new ht(n.section,n.section.offsetOfMarker(u)+u.length);return s.toRange(l,r)}},{key:"_collapse",value:function(t){return new e(t===Be.BACKWARD?this.head:this.tail)}},{key:"focusedPosition",get:function(){return this.direction===Be.BACKWARD?this.head:this.tail}},{key:"isEqual",value:function(e){return e&&this.head.isEqual(e.head)&&this.tail.isEqual(e.tail)}},{key:"isBlank",get:function(){return this.head.isBlank&&this.tail.isBlank}},{key:"headSection",get:function(){return this.head.section}},{key:"tailSection",get:function(){return this.tail.section}},{key:"headSectionOffset",get:function(){return this.head.offset}},{key:"tailSectionOffset",get:function(){return this.tail.offset}},{key:"isCollapsed",get:function(){return this.head.isEqual(this.tail)}},{key:"headMarker",get:function(){return this.head.marker}},{key:"tailMarker",get:function(){return this.tail.marker}},{key:"headMarkerOffset",get:function(){return this.head.offsetInMarker}},{key:"tailMarkerOffset",get:function(){return this.tail.offsetInMarker}}],[{key:"create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new e(new ht(t,n),new ht(r,i),a)}},{key:"blankRange",value:function(){return new e(ht.blankPosition(),ht.blankPosition())}}]),e}();function Ye(e){if(!("markers"in e))throw new Te("Expected position section to be markerable")}var Xe=function e(){X(this,e),this.next=null,this.prev=null};function Je(e){return"items"in e&&e.items}var Ze,et=function(e){z(n,e);var t=Q(n);function n(e){var r;return X(this,n),(r=t.call(this)).isSection=!0,r.isMarkerable=!1,r.isNested=!1,r.isListItem=!1,r.isListSection=!1,r.isLeafSection=!0,r.isCardSection=!1,r._parent=null,Ae("Cannot create section without type",!!e),r.type=e,r}return Z(n,[{key:"parent",get:function(){return Pe(this._parent,"expected section parent to be assigned")}},{key:"isBlank",get:function(){return!1}},{key:"length",get:function(){return 0}},{key:"headPosition",value:function(){return this.toPosition(0)}},{key:"tailPosition",value:function(){return this.toPosition(this.length)}},{key:"toPosition",value:function(e){return Ae("Must pass number to `toPosition`","number"===typeof e),Ae("Cannot call `toPosition` with offset > length",e<=this.length),new ht(this,e)}},{key:"toRange",value:function(){return this.headPosition().toRange(this.tailPosition())}},{key:"splitMarkerAtOffset",value:function(e){return{added:[],removed:[]}}},{key:"nextLeafSection",value:function(){var e=this.next;return e?Je(e)?e.items.head:e:tt(this)?this.parent.nextLeafSection():null}},{key:"immediatelyNextMarkerableSection",value:function(){for(var e=this.nextLeafSection();e&&!e.isMarkerable;)e=e.nextLeafSection();return e}},{key:"previousLeafSection",value:function(){var e=this.prev;return e?Je(e)?e.items.tail:e:tt(this)?this.parent.previousLeafSection():null}}]),n}(Xe);function tt(e){return e.isNested}!function(e){e.DISPLAY="display",e.EDIT="edit"}(Ze||(Ze={}));function nt(e){return e.isCardSection}var rt=function(e){z(n,e);var t=Q(n);function n(e,r){var i;return X(this,n),(i=t.call(this,"card-section"))._initialMode=Ze.DISPLAY,i.isCardSection=!0,i.name=e,i.payload=r,i.isCardSection=!0,i}return Z(n,[{key:"textUntil",value:function(){return""}},{key:"canJoin",value:function(){return!1}},{key:"length",get:function(){return 1}},{key:"clone",value:function(){var e=H({},this.payload),t=this.builder.createCardSection(this.name,e),n=this._initialMode;return this.renderNode&&this.renderNode.cardNode&&(n=this.renderNode.cardNode.mode),t.setInitialMode(n),t}},{key:"setInitialMode",value:function(e){this._initialMode=e}}]),n}(et),it=function(e){z(n,e);var t=Q(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return X(this,n),(a=t.call(this)).type="atom",a.isAtom=!0,a.name=e,a.value=r,a.text="",Ae("Atom must have value",void 0!==r&&null!==r),a.payload=i,a.type="atom",a.isMarker=!1,a.isAtom=!0,a.markups=[],o.forEach((function(e){return a.addMarkup(e)})),a}return Z(n,[{key:"clone",value:function(){var e=this.markups.slice();return this.builder.createAtom(this.name,this.value,this.payload,e)}},{key:"isBlank",get:function(){return!1}},{key:"length",get:function(){return 1}},{key:"canJoin",value:function(){return!1}},{key:"textUntil",value:function(){return""}},{key:"split",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=[];return 0===t&&n.push(this.builder.createMarker("",this.markups.slice())),n.push(this.clone()),1===e&&n.push(this.builder.createMarker("",this.markups.slice())),n}},{key:"splitAtOffset",value:function(e){Ae("Cannot split a marker at an offset > its length",e<=this.length);var t,n,r=this.builder,i=this.clone(),a=r.createMarker("");return 0===e?(t=a,n=i):1===e?(t=i,n=a):Ae('Invalid offset given to Atom#splitAtOffset: "'.concat(e,'"'),!1),this.markups.forEach((function(e){t.addMarkup(e),n.addMarkup(e)})),[t,n]}}]),n}(Me);function at(e){return"atom"===e.type}var ot=Be,st=ot.FORWARD,ut=ot.BACKWARD,lt=/[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0345\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05b0-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0657\u0659-\u065f\u066e-\u06d3\u06d5-\u06dc\u06e1-\u06e8\u06ed-\u06ef\u06fa-\u06fc\u06ff\u0710-\u073f\u074d-\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0817\u081a-\u082c\u0840-\u0858\u08a0-\u08b4\u08e3-\u08e9\u08f0-\u093b\u093d-\u094c\u094e-\u0950\u0955-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd-\u09c4\u09c7\u09c8\u09cb\u09cc\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3e-\u0a42\u0a47\u0a48\u0a4b\u0a4c\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd-\u0ac5\u0ac7-\u0ac9\u0acb\u0acc\u0ad0\u0ae0-\u0ae3\u0af9\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d-\u0b44\u0b47\u0b48\u0b4b\u0b4c\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4c\u0c55\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccc\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d5f-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e46\u0e4d\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ecd\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f71-\u0f81\u0f88-\u0f97\u0f99-\u0fbc\u1000-\u1036\u1038\u103b-\u103f\u1050-\u1062\u1065-\u1068\u106e-\u1086\u108e\u109c\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135f\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17b3\u17b6-\u17c8\u17d7\u17dc\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u1938\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a61-\u1a74\u1aa7\u1b00-\u1b33\u1b35-\u1b43\u1b45-\u1b4b\u1b80-\u1ba9\u1bac-\u1baf\u1bba-\u1be5\u1be7-\u1bf1\u1c00-\u1c35\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1d00-\u1dbf\u1de7-\u1df4\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua674-\ua67b\ua67f-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ad\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua827\ua840-\ua873\ua880-\ua8c3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua92a\ua930-\ua952\ua960-\ua97c\ua980-\ua9b2\ua9b4-\ua9bf\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a\uaa7e-\uaabe\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabea\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|[0-9]|_|:/;function ct(e,t){var n=e.findRenderNodeFromElement(t,(function(e){return e.postNode.isSection}));return n&&n.postNode}function dt(e){if(!e)throw new Error("expected marker to have render node")}function ft(e,t,n){return function(e){return e.isMarkerable}(e)?function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,i=e.markers.head;i;){if(dt(i.renderNode),i.renderNode.element===t)return r+n;if(i.isAtom){if(i.renderNode.headTextNode===t)return r;if(i.renderNode.tailTextNode===t)return r+1}r+=i.length,i=i.next}return r}(e,t,n):(function(e){Ae("findOffsetInSection must be called with markerable or card section",e&&e.isCardSection)}(e),dt(e.renderNode),t===e.renderNode.element.lastChild?1:0)}var ht=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];X(this,e),r||(Ae("Position must have a section that is addressable by the cursor",t&&t.isLeafSection),Ae("Position must have numeric offset","number"===typeof n)),this.section=t,this.offset=n,this.isBlank=r}return Z(e,[{key:"toRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Ge(this,e,t)}},{key:"leafSectionIndex",get:function(){var e,t=this;return this.section.post.walkAllLeafSections((function(n,r){n===t.section&&(e=r)})),e}},{key:"isMarkerable",get:function(){return this.section&&this.section.isMarkerable}},{key:"marker",get:function(){return this.isMarkerable&&this.markerPosition.marker||null}},{key:"markerIn",value:function(e){if(this.isMarkerable){var t=this.marker,n=this.offsetInMarker;if(t)return n>0&&n<t.length?t:0===n?e===ut?t:t.prev:n===t.length?e===st?t.next:t:void 0}}},{key:"offsetInMarker",get:function(){return this.markerPosition.offset}},{key:"isEqual",value:function(e){return this.section===e.section&&this.offset===e.offset}},{key:"isHeadOfPost",value:function(){return this.move(ut).isEqual(this)}},{key:"isTailOfPost",value:function(){return this.move(st).isEqual(this)}},{key:"isHead",value:function(){return this.isEqual(this.section.headPosition())}},{key:"isTail",value:function(){return this.isEqual(this.section.tailPosition())}},{key:"move",value:function(e){return Ae("Must pass integer to Position#move","number"===typeof e),e<0?this.moveLeft().move(++e):e>0?this.moveRight().move(--e):this}},{key:"moveWord",value:function(e){if(e===ut?this.isHeadOfPost():this.isTailOfPost())return this;if(!this.isMarkerable)return this.move(e);var t=this,n=function(e,t){return t===ut?e.isHead():e.isTail()},r=function(e){var t=e.marker,n=e.offsetInMarker;return t.charAt(n)},i=function(e,t){return r(t===ut?e.move(ut):e)},a=function(e,t){return!(t!==ut||!e.isTail()||!e.marker.isAtom)||(t===ut?e.move(ut).marker.isAtom:e.marker.isAtom)};if(n(t,e))return t.move(e).moveWord(e);for(var o=function(t){return!n(t,e)&&!a(t,e)&&!lt.test(i(t,e))};o(t);)t=t.move(e);if(a(t,e))return t.move(e);for(var s=function(t){return!n(t,e)&&!a(t,e)&&lt.test(i(t,e))};s(t);)t=t.move(e);return t}},{key:"moveLeft",value:function(){if(this.isHead()){var t=this.section.previousLeafSection();return t?t.tailPosition():this}var n=this.offset-1;if(this.isMarkerable&&this.marker){var r=this.marker.value.charCodeAt(n);r>=De[0]&&r<=De[1]&&(n-=1)}return new e(this.section,n)}},{key:"moveRight",value:function(){if(this.isTail()){var t=this.section.nextLeafSection();return t?t.headPosition():this}var n=this.offset+1;if(this.isMarkerable&&this.marker){var r=this.marker.value.charCodeAt(n-1);r>=Ie[0]&&r<=Ie[1]&&(n+=1)}return new e(this.section,n)}},{key:"markerPosition",get:function(){return Ae("Cannot get markerPosition without a section",!!this.section),Re("cannot get markerPosition of a non-markerable",this.section,!!this.section.isMarkerable),this.section.markerPositionAtOffset(this.offset)}}],[{key:"atPoint",value:function(t,n,r){var i=r._renderTree,a=r.element,o=document.elementFromPoint(t,n);if(!o||!ye(a,o))return null;var s=Ve(o,{left:t,top:n}),u=s.node,l=s.offset;return e.fromNode(i,u,l)}},{key:"blankPosition",value:function(){return new pt}},{key:"fromNode",value:function(t,n,r){return ve(n)?e.fromTextNode(t,n,r):ke(n)?e.fromElementNode(t,n,r):void Ae("Positions can only be created from text nodes or elements",!1)}},{key:"fromTextNode",value:function(t,n,r){var i,a,o=t.getElementRenderNode(n);if(o){var s=o.postNode;i=s.section,Ae('Could not find parent section for mapped text node "'.concat(n.textContent,'"'),!!i),a=s.section.offsetOfMarker(s,r)}else i=ct(t,n),Ae('Could not find parent section for un-mapped text node "'.concat(n.textContent,'"'),!!i),a=ft(i,n,r);return new e(i,a)}},{key:"fromElementNode",value:function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n===t.rootElement){var a=t.rootNode.postNode;r=0===i?a.headPosition():a.tailPosition()}else{var o=ct(t,n);if(Ae("Could not find parent section from element node",!!o),nt(o))r=i<2?o.headPosition():o.tailPosition();else{var s=t.getElementRenderNode(n),u=s&&s.postNode;if(u&&at(u)){var l=o.offsetOfMarker(u);i>1&&(l+=u.length),r=new e(o,l)}else r=i>=n.childNodes.length?o.tailPosition():o.headPosition()}}return r}}]),e}(),pt=function(e){z(n,e);var t=Q(n);function n(){return X(this,n),t.call(this,null,0,!0)}return Z(n,[{key:"isEqual",value:function(e){return e&&e.isBlank}},{key:"toRange",value:function(){return Ge.blankRange()}},{key:"leafSectionIndex",get:function(){throw new Error("must implement get leafSectionIndex")}},{key:"isMarkerable",get:function(){return!1}},{key:"marker",get:function(){return null}},{key:"isHeadOfPost",value:function(){return!1}},{key:"isTailOfPost",value:function(){return!1}},{key:"isHead",value:function(){return!1}},{key:"isTail",value:function(){return!1}},{key:"move",value:function(){return this}},{key:"moveWord",value:function(){return this}},{key:"markerPosition",get:function(){return{}}}]),n}(ht),vt=function(e,t,n){return n(window.prompt(e,t))};function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt;if(!e.range.isCollapsed){var n=e.cursor.selectedText(),r="";-1!==n.indexOf("http")&&(r=n);var i=e.range,a=e.detectMarkupInRange(i,"a");a?e.toggleMarkup("a"):t("Enter a URL",r,(function(t){t&&e.toggleMarkup("a",{href:t})}))}}function kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt;n("Enter a URL",e.href,(function(n){if(n){var r=ht.fromNode(t._renderTree,e.firstChild),i=new Ge(r,new ht(r.section,r.offset+e.textContent.length));t.run((function(e){var r=t.builder.createMarkup("a",{href:n});e.toggleMarkup(r,i),e.toggleMarkup(r,i)}))}}))}var yt={toggleLink:mt,editLink:kt},gt=function(e){z(n,e);var t=Q(n);function n(e){var r;return X(this,n),(r=t.call(this,H(H({},e),{},{classNames:["__mobiledoc-tooltip"]}))).elementObserver=null,r.rootElement=e.rootElement,r.editor=e.editor,r.addListeners(e),r}return Z(n,[{key:"showLink",value:function(e){var t=this,n=this.editor,r=this.element;n.tooltipPlugin.renderLink(r,e,{editLink:function(){kt(e,n),t.hide()}}),this.show(),Ne(this.element,e),this.elementObserver=function(e,t){var n=!1;return function r(){n||(e.parentNode?window.requestAnimationFrame(r):t())}(),{cancel:function(){return n=!0}}}(e,(function(){return t.hide()}))}},{key:"addListeners",value:function(e){var t,n,r=this,i=this.rootElement,a=this.element,o=function(){clearTimeout(n),n=setTimeout((function(){r.hide()}),600)};this.addEventListener(a,"mouseenter",(function(){clearTimeout(n)})),this.addEventListener(a,"mouseleave",(function(){o()})),this.addEventListener(i,"mouseover",(function(a){var o=function(e,t,n){for(e=we(e);t&&t!==n;){if(we(t.tagName)===e)return t;t=t.parentElement}}(e.showForTag,a.target,i);o&&o.isContentEditable&&(clearTimeout(n),t=setTimeout((function(){o&&r.showLink(o)}),200))})),this.addEventListener(i,"mouseout",(function(){clearTimeout(t),r.elementObserver&&r.elementObserver.cancel(),o()}))}}]),n}(Ee),bt={renderLink:function(e,t,n){var r=n.editLink,i=t.href;e.innerHTML='<a href="'.concat(i,'" target="_blank">').concat(i,"</a>");var a=document.createElement("button");a.classList.add("__mobiledoc-tooltip__edit-link"),a.innerText="Edit Link",a.addEventListener("click",r),e.append(a)}},wt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];X(this,e),this.callbackQueues={},this.removalQueues={},n.forEach((function(e){t.callbackQueues[e]=[],t.removalQueues[e]=[]}))}return Z(e,[{key:"runCallbacks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this._getQueue(e);n.forEach((function(e){return e.apply(void 0,B(t))}));var r=this.removalQueues[e];r.forEach((function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})),this.removalQueues[e]=[]}},{key:"addCallback",value:function(e,t){this._getQueue(e).push(t)}},{key:"_scheduleCallbackForRemoval",value:function(e,t){this.removalQueues[e].push(t)}},{key:"addCallbackOnce",value:function(e,t){var n=this._getQueue(e);-1===n.indexOf(t)&&(n.push(t),this._scheduleCallbackForRemoval(e,t))}},{key:"_getQueue",value:function(e){var t=this.callbackQueues[e];return Ae('No queue found for "'.concat(e,'"'),!!t),t}}]),e}();function _t(e){return"sections"in e}var Et="markerable",St="nested_markerable",Ct="non_markerable",Nt=function(){function e(t,n){var r=t.postEditor,i=t.post;X(this,e),this.postEditor=r,this._post=i,this.cursorPosition=n,this.builder=this.postEditor.builder,this._hasInsertedFirstLeafSection=!1}return Z(e,[{key:"cursorPosition",get:function(){return this._cursorPosition},set:function(e){this._cursorPosition=e,this.postEditor.setRange(e)}},{key:"visit",value:function(e){var t=e.type;Re("Cannot visit node of type ".concat(e.type),0,t in this),this[t](e)}},{key:"_canMergeSection",value:function(e){return!this._hasInsertedFirstLeafSection&&(this._isMarkerable&&e.isMarkerable)}},{key:"_isMarkerable",get:function(){return this.cursorSection.isMarkerable}},{key:"cursorSection",get:function(){return this.cursorPosition.section}},{key:"cursorOffset",get:function(){return this.cursorPosition.offset}},{key:"_isNested",get:function(){return this.cursorSection.isNested}},{key:"post",value:function(e){var t=this,n=this.cursorSection;if(n.isBlank&&!n.isNested){var r=e.sections.map((function(e){return e.clone()}));this._replaceSection(n,r)}else e.sections.forEach((function(e){return t.visit(e)}))}},{key:"markup-section",value:function(e){this.markerable(e)}},{key:"list-section",value:function(e){var t=this,n=!!e.next;e.items.forEach((function(e){return t.visit(e)})),this._isNested&&n&&this._breakNestedAtCursor()}},{key:"list-item",value:function(e){this.nested_markerable(e)}},{key:"card-section",value:function(e){this.non_markerable(e)}},{key:"image-section",value:function(e){this.non_markerable(e)}},{key:Ct,value:function(e){this._isNested?this._breakNestedAtCursor():this.cursorSection.isBlank||this._breakAtCursor(),this._insertLeafSection(e)}},{key:Et,value:function(e){if(this._canMergeSection(e))this._mergeSection(e);else if(this._isNested&&this._isMarkerable){this._breakAtCursor();var t=this.cursorSection.next.headPosition();this.cursorPosition=t,this._mergeSection(e)}else this._breakAtCursor(),this._insertLeafSection(e)}},{key:St,value:function(e){if(this._canMergeSection(e))this._mergeSection(e);else{var t=this._isNested?e:this._wrapNestedSection(e);this._breakAtCursor(),this._insertLeafSection(t)}}},{key:"_breakNestedAtCursor",value:function(){Ae("Cannot call _breakNestedAtCursor if not nested",this._isNested);var e=this.cursorSection.parent;if(this.cursorPosition.isEqual(e.tailPosition())){var t=this.builder.createMarkupSection();this._insertSectionAfter(t,e)}else{var n=Y(this._breakListAtCursor(),2)[1];this.cursorPosition=n.tailPosition()}}},{key:"_breakListAtCursor",value:function(){Ae("Cannot _splitParentSection if cursor position is not nested",this._isNested);var e=this.cursorSection.parent,t=this.cursorPosition,n=this.builder.createMarkupSection(),r=Y(this.postEditor._splitListAtPosition(e,t),2),i=r[0],a=r[1],o=this._post.sections,s=a;return this.postEditor.insertSectionBefore(o,n,s),[i,n,a]}},{key:"_wrapNestedSection",value:function(e){var t=e.parent.tagName,n=this.builder.createListSection(t);return n.items.append(e.clone()),n}},{key:"_mergeSection",value:function(e){Ae("Can only merge markerable sections",this._isMarkerable&&e.isMarkerable),this._hasInsertedFirstLeafSection=!0;var t=e.markers.map((function(e){return e.clone()})),n=this.postEditor.insertMarkers(this.cursorPosition,t);this.cursorPosition=n}},{key:"_breakAtCursor",value:function(){this.cursorSection.isBlank||(this._isMarkerable?this._breakMarkerableAtCursor():this._breakNonMarkerableAtCursor())}},{key:"_breakNonMarkerableAtCursor",value:function(){var e=this._post.sections,t=this.builder.createMarkupSection(),n=this.cursorPosition.isHead()?this.cursorSection:this.cursorSection.next;this.postEditor.insertSectionBefore(e,t,n),this.cursorPosition=t.tailPosition()}},{key:"_breakMarkerableAtCursor",value:function(){var e=Y(this.postEditor.splitSection(this.cursorPosition),1)[0];this.cursorPosition=e.tailPosition()}},{key:"_replaceSection",value:function(e,t){var n=this;Ae("Cannot replace section that does not have parent.sections",_t(e.parent)),Ae("Must pass enumerable to _replaceSection",!!t.forEach);var r=e.parent.sections,i=e.next;this.postEditor.removeSection(e),t.forEach((function(e){n.postEditor.insertSectionBefore(r,e,i)}));var a=t[t.length-1];this.cursorPosition=a.tailPosition()}},{key:"_insertSectionBefore",value:function(e,t){Ae("Cannot insert into section that does not have parent.sections",_t(this.cursorSection.parent));var n=this.cursorSection.parent.sections;this.postEditor.insertSectionBefore(n,e,t),this.cursorPosition=e.tailPosition()}},{key:"_insertSectionAfter",value:function(e,t){Ae("Cannot _insertSectionAfter nested section",!t.isNested);var n=t.next,r=this._post.sections;this.postEditor.insertSectionBefore(r,e,n),this.cursorPosition=e.tailPosition()}},{key:"_insertLeafSection",value:function(e){if(Ae("Can only _insertLeafSection when cursor is at end of section",this.cursorPosition.isTail()),this._hasInsertedFirstLeafSection=!0,e=e.clone(),this.cursorSection.isBlank)Ae("Cannot insert leaf non-markerable section when cursor is nested",!(e.isMarkerable&&this._isNested)),this._replaceSection(this.cursorSection,[e]);else if(this.cursorSection.next&&this.cursorSection.next.isBlank)this._replaceSection(this.cursorSection.next,[e]);else{var t=this.cursorSection.next;this._insertSectionBefore(e,t)}}}]),e}(),Mt=function(){function e(t,n){X(this,e),this.postEditor=t,this.post=n}return Z(e,[{key:"insert",value:function(e,t){var n=new Nt(this,e);return t.isBlank||n.visit(t),n.cursorPosition}}]),e}();function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||console.log("[mobiledoc-kit] [DEPRECATED]: ".concat(e))}function At(e){return Ae('Must pass non-blank object to "toRange"',!!e),e instanceof Ge?e:e instanceof ht?e.toRange():void Ae("Incorrect structure for rangeLike: ".concat(e),!1)}var xt=function(){function e(t){X(this,e),this.editor=t,this.renderTree=t._renderTree,this.post=t.post}return Z(e,[{key:"clearSelection",value:function(){!function(){var e=window.getSelection();e&&e.removeAllRanges()}()}},{key:"hasCursor",value:function(){return this.editor.hasRendered&&(this._hasCollapsedSelection()||this._hasSelection())}},{key:"hasSelection",value:function(){return this.editor.hasRendered&&this._hasSelection()}},{key:"isAddressable",value:function(e){var t=this.renderTree.findRenderNodeFromElement(e);if(t&&t.postNode.isCardSection){var n=t.element;if(e!==n&&e!==n.firstChild&&e!==n.lastChild)return!1}return!!t}},{key:"offsets",get:function(){if(!this.hasCursor())return Ge.blankRange();var e=this.renderTree,t=Le(this.editor.element),n=$e(function(e,t){Oe("selection anchorNode should not be null",e.anchorNode),Oe("selection focusNode should not be null",e.focusNode);var n=qe(e.anchorNode,t,e.anchorOffset),r=n.node,i=n.offset,a=qe(e.focusNode,t,e.focusOffset);return{anchorNode:r,anchorOffset:i,focusNode:a.node,focusOffset:a.offset}}(this.selection,t)),r=n.headNode,i=n.headOffset,a=n.tailNode,o=n.tailOffset,s=n.direction,u=ht.fromNode(e,r,i),l=ht.fromNode(e,a,o);return new Ge(u,l,s)}},{key:"_findNodeForPosition",value:function(e){var t,n,r=Le(e.section);if(Oe("expected section to have render node",r.renderNode),nt(r))n=0,t=0===e.offset?r.renderNode.element.firstChild:r.renderNode.element.lastChild;else if(r.isBlank||"image-section"===r.type)t=r.renderNode.cursorElement,n=0;else{var i=e.marker,a=e.offsetInMarker;Oe("expected position to have marker",i),Oe("expected marker to have render node",i.renderNode),i.isAtom?a>0?(n=0,t=i.renderNode.tailTextNode):(n=0,t=i.renderNode.headTextNode):(t=i.renderNode.element,n=a)}return{node:t,offset:n}}},{key:"selectRange",value:function(e){if(e.isBlank)this.clearSelection();else{var t=e.head,n=e.tail,r=e.direction,i=this._findNodeForPosition(t),a=i.node,o=i.offset,s=this._findNodeForPosition(n),u=s.node,l=s.offset;this._moveToNode(a,o,u,l,r),this.editor._ensureFocus()}}},{key:"selection",get:function(){return Pe(window.getSelection(),"expected window selection to not be null")}},{key:"selectedText",value:function(){return this.selection.toString()}},{key:"_moveToNode",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Be.FORWARD;if(this.clearSelection(),i===Be.BACKWARD){var a=[n,r,e,t];e=a[0],t=a[1],n=a[2],r=a[3]}var o=document.createRange();o.setStart(e,t),i===Be.BACKWARD&&Qe(this.selection)?(this.selection.addRange(o),this.selection.extend(n,r)):(o.setEnd(n,r),this.selection.addRange(o))}},{key:"_hasSelection",value:function(){var e=Le(this.editor.element),t=this._selectionRange;return!(!t||t.collapsed)&&(ye(e,Le(this.selection.anchorNode))&&ye(e,Le(this.selection.focusNode)))}},{key:"_hasCollapsedSelection",value:function(){return!!this._selectionRange&&ye(Le(this.editor.element),Le(this.selection.anchorNode))}},{key:"_selectionRange",get:function(){var e=this.selection;return 0===e.rangeCount?null:e.getRangeAt(0)}}]),e}(),Ot=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];X(this,e),this.items=[],n.forEach((function(e){return t.add(e)}))}return Z(e,[{key:"add",value:function(e){this.has(e)||this.items.push(e)}},{key:"length",get:function(){return this.items.length}},{key:"has",value:function(e){return-1!==this.items.indexOf(e)}},{key:"toArray",value:function(){return this.items}}]),e}(),Rt=function(){function e(t){if(X(this,e),this.head=null,this.tail=null,this.length=0,t){var n=t.adoptItem,r=t.freeItem;this._adoptItem=n,this._freeItem=r}}return Z(e,[{key:"adoptItem",value:function(e){e.__parent=this,this.length++,this._adoptItem&&this._adoptItem(e)}},{key:"freeItem",value:function(e){e.__parent=null,this.length--,this._freeItem&&this._freeItem(e)}},{key:"isEmpty",get:function(){return 0===this.length}},{key:"prepend",value:function(e){this.insertBefore(e,this.head)}},{key:"append",value:function(e){this.insertBefore(e,null)}},{key:"insertAfter",value:function(e,t){var n=t?t.next:this.head;this.insertBefore(e,n)}},{key:"_ensureItemIsNotAlreadyInList",value:function(e){Ae("Cannot insert an item into a list if it is already in a list",!e.next&&!e.prev&&this.head!==e)}},{key:"insertBefore",value:function(e,t){switch(this._ensureItemIsNotInList(e),this.adoptItem(e),t&&t.prev?"middle":t?"start":"end"){case"start":this.head&&(e.next=this.head,this.head.prev=e),this.head=e;break;case"middle":var n=t.prev;e.next=t,e.prev=n,t.prev=e,n.next=e;break;case"end":var r=this.tail;e.prev=r,r?r.next=e:this.head=e,this.tail=e}}},{key:"remove",value:function(e){if(Pt(e)){this._ensureItemIsInThisList(e),this.freeItem(e);var t=[e.prev,e.next],n=t[0],r=t[1];e.prev=null,e.next=null,n?n.next=r:this.head=r,r?r.prev=n:this.tail=n}}},{key:"forEach",value:function(e){for(var t=this.head,n=0;t;)e(t,n++),t=t.next}},{key:"map",value:function(e){var t=[];return this.forEach((function(n){return t.push(e(n))})),t}},{key:"walk",value:function(e,t,n){for(var r=e||this.head;r&&(n(r),r!==t);)r=r.next}},{key:"readRange",value:function(e,t){var n=[];return this.walk(e,t,(function(e){n.push(e)})),n}},{key:"toArray",value:function(){return this.readRange()}},{key:"detect",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.head,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t;){if(e(t))return t;t=n?t.prev:t.next}}},{key:"any",value:function(e){return!!this.detect(e)}},{key:"every",value:function(e){for(var t=this.head;t;){if(!e(t))return!1;t=t.next}return!0}},{key:"objectAt",value:function(e){var t=-1;return this.detect((function(){return t++,e===t}))}},{key:"splice",value:function(e,t,n){for(var r=this,i=e,a=i.next,o=0;i&&o<t;)o++,a=i.next,this.remove(i),i=a;n.forEach((function(e){r.insertBefore(e,a)}))}},{key:"removeBy",value:function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.remove(t),t=n}}},{key:"_ensureItemIsNotInList",value:function(e){Ae("Cannot insert an item into a list if it is already in a list",!e.__parent)}},{key:"_ensureItemIsInThisList",value:function(e){Ae("Cannot remove item that is in another list",Pt(e)===this)}}]),e}();function Pt(e){return e.__parent||null}function Lt(e){return function(e){z(n,e);var t=Q(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments))._tagName=null,e}return Z(n,[{key:"tagName",get:function(){return this._tagName},set:function(e){var t=we(e);Ae("Cannot set section tagName to ".concat(e),this.isValidTagName(t)),this._tagName=t}}]),n}(e)}var It=function(e){z(n,e);var t=Q(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return X(this,n),(i=t.call(this,e)).type=e,i.isMarkerable=!0,i.tagName=r,i.markers=new Rt({adoptItem:function(e){Ae("Can only insert markers and atoms into markerable (was: ".concat(e.type,")"),e.isMarker||e.isAtom),e.section=e.parent=F(i)},freeItem:function(e){return e.section=e.parent=null}}),a.forEach((function(e){return i.markers.append(e)})),i}return Z(n,[{key:"canJoin",value:function(e){return e.isMarkerable&&e.type===this.type&&e.tagName===this.tagName}},{key:"clone",value:function(){var e=this.markers.map((function(e){return e.clone()}));return this.builder.createMarkerableSection(this.type,this.tagName,e)}},{key:"isBlank",get:function(){return!this.markers.length||this.markers.every((function(e){return e.isBlank}))}},{key:"textUntil",value:function(e){Ae("Cannot get textUntil for a position not in this section",e.section===this);for(var t=e.marker,n=e.offsetInMarker,r="",i=this.markers.head;i;){if(i===t){r+=i.textUntil(n);break}r+=i.text,i=i.next}return r}},{key:"offsetOfMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ae("Cannot get offsetOfMarker for marker that is not child of this",e.section===this);for(var n=0,r=this.markers.head;r&&r!==e.next;){var i=r===e?t:r.length;n+=i,r=r.next}return n}},{key:"_redistributeMarkers",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e;return ne(this.markers,(function(a){if(a===n){var o=D(n.split(r)),s=o[0],u=o.slice(1);e.markers.append(s),ne(u,(function(e){return t.markers.append(e)})),i=t}else i.markers.append(a.clone())})),[e,t]}},{key:"splitMarkerAtOffset",value:function(e){var t;Ae("Cannot splitMarkerAtOffset when offset is > length",e<=this.length);var n=0,r=this.markers.head,i={added:[],removed:[]};if(r)for(;r&&(n+=r.length)!==e;){if(n>e){var a;t=r.length-(n-e);var o=r.splitAtOffset(t);(a=i.added).push.apply(a,B(o)),i.removed.push(r),this.markers.splice(r,1,o);break}r=r.next}else{var s=this.builder.createMarker();this.markers.prepend(s),i.added.push(s)}return i}},{key:"splitAtPosition",value:function(e){var t=e.marker,n=e.offsetInMarker;return this.splitAtMarker(t,n)}},{key:"markerBeforeOffset",value:function(e){for(var t=0,n=this.markers.head;n;){if((t+=n.length)===e)return n;Ae("markerBeforeOffset called with sectionOffset not between markers",t<e),n=n.next}}},{key:"markerPositionAtOffset",value:function(e){var t=0,n=null,r=e;return this.markers.detect((function(e){return t=Math.min(r,e.length),0===(r-=t)&&(n=e,!0)})),{marker:n,offset:t}}},{key:"text",get:function(){return ae(this.markers,(function(e,t){return e+t.value}),"")}},{key:"length",get:function(){return ae(this.markers,(function(e,t){return e+t.length}),0)}},{key:"markersFor",value:function(e,t){var n=Ge.create(this,e,this,t),r=[];return this._markersInRange(n,(function(e,t){var n=t.markerHead,i=t.markerTail,a=t.isContained,o=e.clone();a||(o.value=e.value.slice(n,i)),r.push(o)})),r}},{key:"markupsInRange",value:function(e){var t=new Ot;return this._markersInRange(e,(function(e){e.markups.forEach((function(e){return t.add(e)}))})),t.toArray()}},{key:"_markersInRange",value:function(e,t){var n=e.head,r=e.tail;Ae("Cannot call #_markersInRange if range expands beyond this section",n.section===this&&r.section===this);for(var i=n.offset,a=r.offset,o=0,s=0,u=this.markers.head;u;){if((s+=u.length)>i&&o<a){var l=Math.max(i-o,0),c=u.length-Math.max(s-a,0);t(u,{markerHead:l,markerTail:c,isContained:0===l&&c===u.length})}if(o+=u.length,u=u.next,o>a)break}}},{key:"join",value:function(e){var t=this,n=this.markers.tail,r=null;return e.markers.forEach((function(e){e.isBlank||(e=e.clone(),t.markers.append(e),r||(r=e))})),{beforeMarker:n,afterMarker:r}}}]),n}(Lt(et));function Dt(e){return e.isMarkerable}var Ft="markup-section",Bt="list-section",Ut="markup",Ht="list-item";function jt(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var zt=["data-md-text-align"];function Wt(e){return function(e){z(n,e);var t=Q(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).attributes={},e}return Z(n,[{key:"hasAttribute",value:function(e){return e in this.attributes}},{key:"setAttribute",value:function(e,t){if(!ce(zt,e))throw new Error('Invalid attribute "'.concat(e,'" was passed. Constrain attributes to the spec-compliant whitelist.'));this.attributes[e]=t}},{key:"removeAttribute",value:function(e){delete this.attributes[e]}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"eachAttribute",value:function(e){jt(this.attributes).forEach((function(t){var n=Y(t,2),r=n[0],i=n[1];return e(r,i)}))}}]),n}(e)}var Kt=["ul","ol"].map(we),Vt=Kt[0],qt=function(e){z(n,e);var t=Q(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X(this,n),(e=t.call(this,Bt)).isListSection=!0,e.isLeafSection=!1,e.tagName=r,jt(a).forEach((function(t){var n=Y(t,2),r=n[0],i=n[1];return e.setAttribute(r,i)})),e.items=new Rt({adoptItem:function(t){Ae("Cannot insert non-list-item to list (is: ".concat(t.type,")"),t.isListItem),t.section=t._parent=F(e)},freeItem:function(e){return e.section=e._parent=null}}),e.sections=e.items,i.forEach((function(t){return e.items.append(t)})),e}return Z(n,[{key:"canJoin",value:function(){return!1}},{key:"isValidTagName",value:function(e){return ce(Kt,e)}},{key:"headPosition",value:function(){return this.items.head.headPosition()}},{key:"tailPosition",value:function(){return this.items.tail.tailPosition()}},{key:"isBlank",get:function(){return this.items.isEmpty}},{key:"clone",value:function(){var e=this.builder.createListSection(this.tagName);return ne(this.items,(function(t){return e.items.append(t.clone())})),e}},{key:"join",value:function(e){var t=this;if(Qt(e))e.items.forEach((function(e){return t.join(e)}));else if(e.isMarkerable){var n=this.builder.createListItem();n.join(e),this.items.append(n)}}}]),n}(Wt(Lt(et)));function Qt(e){return e.isListSection}var $t=["li"].map(we),Gt=function(e){z(n,e);var t=Q(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return X(this,n),(r=t.call(this,"list-item",e,i)).isListItem=!0,r.isNested=!0,r.section=null,r}return Z(n,[{key:"isValidTagName",value:function(e){return ce($t,e)}},{key:"splitAtMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!this.next,r=!e&&0===t&&n,i=[this.builder.createListItem(),r?this.builder.createMarkupSection():this.builder.createListItem()],a=i[0],o=i[1];return this._redistributeMarkers(a,o,e,t)}},{key:"post",get:function(){return Pe(this.section,"expected list item to have section").post}}]),n}(It);function Yt(e){return e.isListItem}var Xt=["aside","blockquote","h1","h2","h3","h4","h5","h6","p"].map(we),Jt=["aside","blockquote","h1","h2","h3","h4","h5","h6","p"].map(we),Zt=Xt[8],en=function(e){z(n,e);var t=Q(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X(this,n),(e=t.call(this,Ft,r,i)).isMarkupSection=!0,e.isGenerated=!1,e._inferredTagName=!1,jt(a).forEach((function(t){var n=Y(t,2),r=n[0],i=n[1];return e.setAttribute(r,i)})),e}return Z(n,[{key:"isValidTagName",value:function(e){return ce(Xt,e)}},{key:"splitAtMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[this.builder.createMarkupSection(this.tagName,[],!1,this.attributes),this.builder.createMarkupSection()],r=n[0],i=n[1];return this._redistributeMarkers(r,i,e,t)}}]),n}(Wt(It));function tn(e){return e.isMarkupSection}function nn(e){return tn(e)&&e._inferredTagName}var rn=Be,an=rn.FORWARD,on=rn.BACKWARD;function sn(e){var t=e.head,n=e.tail;return 0===n.offset&&t.section!==n.section&&(e.tail=new ht(n.section.prev,n.section.prev.length)),e}var un={BEFORE_COMPLETE:"beforeComplete",COMPLETE:"complete",AFTER_COMPLETE:"afterComplete"},ln=function(){function e(t){var n=this;X(this,e),this.editor=t,this.builder=this.editor.builder,this._callbacks=new wt(de(un)),this._didComplete=!1,this.editActionTaken=null,this._renderRange=function(){return n.editor.selectRange(n._range)},this._postDidChange=function(){return n.editor._postDidChange()},this._rerender=function(){return n.editor.rerender()}}return Z(e,[{key:"addCallback",value:function(e,t){this._callbacks.addCallback(e,t)}},{key:"addCallbackOnce",value:function(e,t){this._callbacks.addCallbackOnce(e,t)}},{key:"runCallbacks",value:function(e){this._callbacks.runCallbacks(e)}},{key:"begin",value:function(){this._range=this.editor.range}},{key:"setRange",value:function(e){e=At(e),this._range=e,this.scheduleAfterRender(this._renderRange,!0)}},{key:"deleteRange",value:function(e){Ae("Must pass MobiledocKit Range to `deleteRange`",e instanceof Ge),this.editActionTaken=2;var t=e.head,n=e.tail,r=t.section,i=n.section,a=this.editor.post;if(r===i)return this.cutSection(r,t,n);var o=r.nextLeafSection(),s=this.cutSection(r,t,r.tailPosition());for(r=s.section;o!==i;){var u=o;o=o.nextLeafSection(),this.removeSection(u)}var l=this.cutSection(i,i.headPosition(),n);return(i=l.section).isBlank?this.removeSection(i):Dt(r)&&Dt(i)?(r.join(i),this._markDirty(r),this.removeSection(i)):r.isBlank&&(this.removeSection(r),s=l),a.isBlank&&(a.sections.append(this.builder.createMarkupSection("p")),s=a.headPosition()),s}},{key:"cutSection",value:function(e,t,n){var r=this;if(Ae("Must pass head position and tail position to `cutSection`",t instanceof ht&&n instanceof ht),Ae("Must pass positions within same section to `cutSection`",t.section===n.section),e.isBlank||t.isEqual(n))return t;if(e.isCardSection){if(t.isHead()&&n.isTail()){var i=this.builder.createMarkupSection();return this.replaceSection(e,i),i.headPosition()}return n}var a=t.toRange(n);return this.splitMarkers(a).forEach((function(e){return r.removeMarker(e)})),t}},{key:"_coalesceMarkers",value:function(e){Dt(e)&&(this._removeBlankMarkers(e),this._joinSimilarMarkers(e))}},{key:"_removeBlankMarkers",value:function(e){var t=this;ne(re(e.markers,(function(e){return e.isBlank})),(function(e){return t.removeMarker(e)}))}},{key:"_joinSimilarMarkers",value:function(e){for(var t,n=e.markers.head;n&&n.next;)t=n.next,n.canJoin(t)&&(t.value=n.value+t.value,this._markDirty(t),this.removeMarker(n)),n=t}},{key:"removeMarker",value:function(e){this._scheduleForRemoval(e),e.section&&(this._markDirty(e.section),e.section.markers.remove(e))}},{key:"_scheduleForRemoval",value:function(e){var t=this;e.renderNode&&(e.renderNode.scheduleForRemoval(),this.scheduleRerender(),this.scheduleDidUpdate()),(e.prev&&Qt(e.prev)||e.next&&Qt(e.next))&&this.addCallback(un.BEFORE_COMPLETE,(function(){return t._joinContiguousListSections()}))}},{key:"_joinContiguousListSections",value:function(){var e,t,n=this,r=this.editor.post,i=this._range,a=[],o=null;ne(r.sections,(function(n){e&&Qt(e)&&Qt(n)&&e.tagName===n.tagName?(t=t||[e]).push(n):(t&&a.push(t),t=null),e=n})),t&&a.push(t),ne(a,(function(e){var t=e[0];ne(e,(function(e){if(e!==t){var r,a=i.head;!i.isBlank&&Yt(a.section)&&a.section.parent===e&&(r=t.tailPosition()),n._joinListSections(t,e),r&&(o=r.move(an))}}))})),o&&this.setRange(o)}},{key:"_joinListSections",value:function(e,t){e.join(t),this._markDirty(e),this.removeSection(t)}},{key:"_markDirty",value:function(e){var t=this;e.renderNode&&(e.renderNode.markDirty(),this.scheduleRerender(),this.scheduleDidUpdate()),"section"in e&&e.section&&this._markDirty(e.section),Dt(e)&&this.addCallback(un.BEFORE_COMPLETE,(function(){return t._coalesceMarkers(e)}))}},{key:"deleteFrom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.BACKWARD;return Tt("`postEditor#deleteFrom is deprecated. Use `deleteAtPosition(position, direction=BACKWARD, {unit}={unit: 'char'})` instead"),this.deleteAtPosition(e,t,{unit:sa.CHAR})}},{key:"deleteAtPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.BACKWARD,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{unit:sa.CHAR},r=n.unit;return t===Be.BACKWARD?this._deleteAtPositionBackward(e,r):this._deleteAtPositionForward(e,r)}},{key:"_deleteAtPositionBackward",value:function(e,t){if(e.isHead()&&Yt(e.section))return this.toggleSection("p",e),this._range.head;var n=("word"===t?e.moveWord(on):e.move(on)).toRange(e);return this.deleteRange(n)}},{key:"_deleteAtPositionForward",value:function(e,t){var n="word"===t?e.moveWord(an):e.move(an),r=e.toRange(n);return this.deleteRange(r)}},{key:"splitMarkers",value:function(e){var t=this.editor.post,n=e.head,r=e.tail;return this.splitSectionMarkerAtOffset(n.section,n.offset),this.splitSectionMarkerAtOffset(r.section,r.offset),t.markersContainedByRange(e)}},{key:"splitSectionMarkerAtOffset",value:function(e,t){var n=this;e.splitMarkerAtOffset(t).removed.forEach((function(e){return n.removeMarker(e)}))}},{key:"splitSection",value:function(e){var t=this,n=e.section;if(nt(n))return this._splitCardSection(n,e);if(Yt(n)){if(n.isBlank&&!n.next){var r=n.parent,i=this.editor.post.sections,a=this.builder.createMarkupSection();return this.removeSection(n),this.insertSectionBefore(i,a,r.next),[null,a]}var o=Y(this._splitListItem(n,e),2);return[o[0],o[1]]}var s=n.splitAtPosition(e);return s.forEach((function(e){return t._coalesceMarkers(e)})),this._replaceSection(n,s),s}},{key:"_splitCardSection",value:function(e,t){var n=t.offset;Ae("Cards section must be split at offset 0 or 1",0===n||1===n);var r,i,a=this.builder.createMarkupSection();0===n?(r=e,i=[a,e]):(r=e.next,i=[e,a]);var o=this.editor.post.sections;return this.insertSectionBefore(o,a,r),i}},{key:"replaceSection",value:function(e,t){e?this._replaceSection(e,[t]):this.insertSectionBefore(this.editor.post.sections,t,null)}},{key:"moveSectionBefore",value:function(e,t,n){var r=t.clone();return this.removeSection(t),this.insertSectionBefore(e,r,n),r}},{key:"moveSectionUp",value:function(e){if(!e.prev)return e;var t=e.parent.sections,n=e.prev;return this.moveSectionBefore(t,e,n)}},{key:"moveSectionDown",value:function(e){if(!e.next)return e;var t=e.next.next,n=e.parent.sections;return this.moveSectionBefore(n,e,t)}},{key:"insertMarkers",value:function(e,t){var n=this,r=e.section,i=e.offset;Ae("Cannot insert markers at non-markerable position",r.isMarkerable),this.editActionTaken=1,r.splitMarkerAtOffset(i).removed.forEach((function(e){return n._scheduleForRemoval(e)}));var a=r.markerBeforeOffset(i);t.forEach((function(e){r.markers.insertAfter(e,a),i+=e.length,a=e})),this._coalesceMarkers(r),this._markDirty(r);var o=r.toPosition(i);return this.setRange(o),o}},{key:"insertTextWithMarkup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.section;if(r.isMarkerable){var i=this.builder.createMarker(t,n);return this.insertMarkers(e,[i])}}},{key:"insertText",value:function(e,t){if(e.section.isMarkerable){var n=e.marker&&e.marker.markups;return n=n||[],this.insertTextWithMarkup(e,t,n)}}},{key:"_replaceSection",value:function(e,t){var n=this,r=e.next,i=e.parent.sections;tn(t[0])&&Yt(e)&&(i=e.parent.parent.sections,r=e.parent.next),t.forEach((function(e){return n.insertSectionBefore(i,e,r)})),this.removeSection(e)}},{key:"addMarkupToRange",value:function(e,t){var n=this;if(!e.isCollapsed){var r=this.splitMarkers(e);if(r.length){var i=ae(r,(function(e,t){return function(e,t){for(var n=0;n<e.length&&n<t.length&&e[n]===t[n];)n++;return e.slice(0,n)}(e,t.markups)}),r[0].markups).length;r.forEach((function(e){e.addMarkupAtIndex(t,i),n._markDirty(e)}))}}}},{key:"removeMarkupFromRange",value:function(e,t){var n=this;e.isCollapsed||this.splitMarkers(e).forEach((function(e){e.removeMarkup(t),n._markDirty(e)}))}},{key:"toggleMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._range;t=At(t);var n="string"===typeof e?this.builder.createMarkup(e):e,r=this.editor.detectMarkupInRange(t,n.tagName);r?this.removeMarkupFromRange(t,r):this.addMarkupToRange(t,n),this.setRange(t)}},{key:"toggleSection",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._range;n=sn(At(n)),e=we(e);var r=this.editor.post,i=!0;r.walkMarkerableSections(n,(function(n){t._isSameSectionType(n,e)||(i=!1)}));var a=i?"p":e,o=[];r.walkMarkerableSections(n,(function(e){var n=t.changeSectionTagName(e,a);o.push({from:e,to:n})}));var s=this._determineNextRangeAfterToggleSection(n,o);this.setRange(s)}},{key:"_determineNextRangeAfterToggleSection",value:function(e,t){if(t.length){var n=ee(t,(function(t){return t.from===e.headSection})).to,r=ee(t,(function(t){return t.from===e.tailSection})).to;return n.isListSection||r.isListSection?t[0].to.headPosition().toRange():Ge.create(n,e.headSectionOffset,r,e.tailSectionOffset,e.direction)}return e}},{key:"setAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._range;this._mutateAttribute(e,n,(function(e,n){if(e.getAttribute(n)!==t)return e.setAttribute(n,t),!0}))}},{key:"removeAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._range;this._mutateAttribute(e,t,(function(e,t){if(e.hasAttribute(t))return e.removeAttribute(t),!0}))}},{key:"_mutateAttribute",value:function(e,t,n){var r=this;t=At(t);var i=this.editor.post,a="data-md-".concat(e);i.walkMarkerableSections(t,(function(e){var t=Yt(e)?e.parent:e;!0===n(t,a)&&r._markDirty(e)})),this.setRange(t)}},{key:"_isSameSectionType",value:function(e,t){return Yt(e)?e.parent.tagName===t:e.tagName===t}},{key:"changeSectionTagName",value:function(e,t){return Ae("Cannot pass non-markerable section to `changeSectionTagName`",e.isMarkerable),"ul"===(n=t)||"ol"===n?this._changeSectionToListItem(e,t):Yt(e)?this._changeSectionFromListItem(e,t):(e.tagName=t,this._markDirty(e),e);var n}},{key:"_splitListItem",value:function(e,t){var n=t.section,r=t.offset;Ae("Cannot split list item at position that does not include item",e===n),e.splitMarkerAtOffset(r);var i=e.markerBeforeOffset(r),a=this.builder.createListItem(),o=this.builder.createListItem(),s=a;return e.markers.forEach((function(e){s.markers.append(e.clone()),e===i&&(s=o)})),this._replaceSection(e,[a,o]),[a,o]}},{key:"_splitListAtPosition",value:function(e,t){if(Ae("Cannot split list at position not in list",t.section.parent===e),!t.isHead()&&!t.isTail()){var n=t.section,r=Y(this._splitListItem(n,t),1)[0];t=r.tailPosition()}var i=this.builder.createListSection(e.tagName),a=this.builder.createListSection(e.tagName),o=t.section,s=i;return e.items.forEach((function(e){e===o&&t.isEqual(e.headPosition())&&(s=a),s.items.append(e.clone()),e===o&&(s=a)})),this._replaceSection(e,[i,a]),[i,a]}},{key:"_splitListAtItem",value:function(e,t){var n=this,r=e,i=this.builder.createListSection(r.tagName,[],r.attributes),a=this.builder.createListSection(r.tagName),o=!0;r.items.toArray().forEach((function(e){var r;if(e===t)o=!1,r=a;else{if(!o)return;r=i}r.join(e),n.removeSection(e)})),Ae("Cannot split list at item that is not present in the list",!o);var s=this.editor.post.sections;return this.insertSectionBefore(s,a,r),this.insertSectionBefore(s,i,a),this.addCallback(un.BEFORE_COMPLETE,(function(){[i,r].forEach((function(e){var t=!!e._parent;e.isBlank&&t&&n.removeSection(e)}))})),[i,a,r]}},{key:"_changeSectionFromListItem",value:function(e,t){Re("Must pass list item to `_changeSectionFromListItem`",0,Yt(e));var n=e.parent,r=this.builder.createMarkupSection(t);r.join(e);var i=Y(this._splitListAtItem(n,e),2)[1];return this.replaceSection(i,r),r}},{key:"_changeSectionToListItem",value:function(e,t){if(e.isListItem&&e.parent.tagName===t)return e;var n,r=this.builder.createListSection(t);(r.join(e),Yt(e))?n=Y(this._splitListAtItem(e.parent,e),2)[1]:n=e;return this.replaceSection(n,r),r}},{key:"insertSectionBefore",value:function(e,t,n){e.insertBefore(t,n),this._markDirty(t.parent)}},{key:"insertSection",value:function(e){var t=this.editor.activeSection,n=t&&t.next,r=this.editor.post.sections;this.insertSectionBefore(r,e,n)}},{key:"insertSectionAtEnd",value:function(e){this.insertSectionBefore(this.editor.post.sections,e,null)}},{key:"insertPost",value:function(e,t){var n=this.editor.post;return new Mt(this,n).insert(e,t)}},{key:"removeSection",value:function(e){var t=e.parent;Re("expected section to have child sections",0,_t(t)),this._scheduleForRemoval(e),t.sections.remove(e),Qt(t)&&this._scheduleListRemovalIfEmpty(t)}},{key:"removeAllSections",value:function(){var e=this;this.editor.post.sections.toArray().forEach((function(t){e.removeSection(t)}))}},{key:"migrateSectionsFromPost",value:function(e){var t=this;e.sections.toArray().forEach((function(n){e.sections.remove(n),t.insertSectionBefore(t.editor.post.sections,n,null)}))}},{key:"_scheduleListRemovalIfEmpty",value:function(e){var t=this;this.addCallback(un.BEFORE_COMPLETE,(function(){!!e._parent&&e.isBlank&&t.removeSection(e)}))}},{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ae("Work can only be scheduled before a post edit has completed",!this._didComplete),t?this.addCallbackOnce(un.COMPLETE,e):this.addCallback(un.COMPLETE,e)}},{key:"scheduleOnce",value:function(e){this.schedule(e,!0)}},{key:"scheduleRerender",value:function(){this.scheduleOnce(this._rerender)}},{key:"scheduleDidUpdate",value:function(){this.scheduleOnce(this._postDidChange)}},{key:"scheduleAfterRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this.addCallbackOnce(un.AFTER_COMPLETE,e):this.addCallback(un.AFTER_COMPLETE,e)}},{key:"complete",value:function(){Ae("Post editing can only be completed once",!this._didComplete),this.runCallbacks(un.BEFORE_COMPLETE),this._didComplete=!0,this.runCallbacks(un.COMPLETE),this.runCallbacks(un.AFTER_COMPLETE)}},{key:"undoLastChange",value:function(){this.editor._editHistory.stepBackward(this)}},{key:"redoLastChange",value:function(){this.editor._editHistory.stepForward(this)}},{key:"cancelSnapshot",value:function(){this._shouldCancelSnapshot=!0}}]),e}(),cn={name:"image",type:"dom",render:function(e){var t=e.payload,n=document.createElement("img");return n.src=t.src||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXp7vG6vsHm6+63u77Hy868wMPe4+bO09bh5unr8fTR1djAxMfM0NPX3N/c4eTBxcjXRf5TAAACh0lEQVR4nO3b6ZKqMBSFUSQMYZL3f9tbBq/NEEDiqUqOfusn1ZXKbjcQlGQZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACC6RkbsGHuabChEtHmiGYfS3EQYM+Sxw/gMQvmcNnYaj6oTDHi73WPn2eqnj9B8zo3TJXcq5uNjXmVff86VwSR3JtryMa1BYqi7S1hJDCVpSigyLcGhJJEwzlCSNtPKrbVhVwsdCfOhH7uuaG3ARV9DwsaOzxt3N1yPqCHhvXytTUz92VDpmE/LLhZwl++R6Sds6sUa/PL6K/2E2fIhw1xdRKefsFolrPc+xNx/N0k/4fpBsdhL2HfeiN+TsDCms8dDpeRyS3P3QDl6Iqaf8L0rTf+80m6Lmn7Ct+4Wxf+/2RY1/YRv3PHz/u+fsCmqgoTnq7Z+8SGviqoh4dnKu1ieqauiakh4/PQ0r6ivqDoSHj0B97eNRVG1JNxV+L4bnxdVecJtRTdFVZ7QU9F1UXUn9FZ0VVRlCav5ob2KLouqKmFjy676u2HsVnRRVFUJq3J+8KCi86IqSthMvyl209Hjijqm3RsqAZ5pNfa5PJ2KelJRjQmr1/r7cfy0ouoSNvOfvbvhvKLaEr4qOin9kTQnrN7LpDZhE/Zmhp6Eq4p+YcKgiipKGFhRRQkDK6ooYfgLbiSMioQkJGF8P5XwHv4O+7AaKiXzaeXh1kMl5AffTUxiKEm/krD94BR8Gdxl1fceSlR58ZhXKbEpyD2amNiBtmrJLTMHL1LF8/rpXkSZXEmz8K8uvAFFNm6Iq0aBLUFOmeCuJ6exrcCmoLpN7kYx891bSAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgh/wDdr8peyRHLogAAAAASUVORK5CYII=",n}},dn=function(){function e(t){X(this,e),this.builder=t}return Z(e,[{key:"parse",value:function(e){var t=e.sections;try{var n=t[0],r=t[1],i=this.builder.createPost();return this.markups=[],this.markerTypes=this.parseMarkerTypes(n),this.parseSections(r,i),i}catch(a){Ae("Unable to parse mobiledoc: ".concat(a.message),!1)}}},{key:"parseMarkerTypes",value:function(e){var t=this;return e.map((function(e){return t.parseMarkerType(e)}))}},{key:"parseMarkerType",value:function(e){var t=Y(e,2),n=t[0],r=oe(t[1]||[]);return this.builder.createMarkup(n,r)}},{key:"parseSections",value:function(e,t){var n=this;e.forEach((function(e){return n.parseSection(e,t)}))}},{key:"parseSection",value:function(e,t){switch(e[0]){case 1:this.parseMarkupSection(e,t);break;case 2:this.parseImageSection(e,t);break;case 10:this.parseCardSection(e,t);break;case 3:this.parseListSection(e,t);break;default:Ae("Unexpected section type ".concat(e[0]),!1)}}},{key:"parseCardSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createCardSection(r,i);t.sections.append(a)}},{key:"parseImageSection",value:function(e,t){var n=Y(e,2)[1],r=this.builder.createImageSection(n);t.sections.append(r)}},{key:"parseMarkupSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createMarkupSection("pull-quote"===r.toLowerCase()?"aside":r);t.sections.append(a),this.parseMarkers(i,a),re(a.markers,(function(e){return e.isBlank})).forEach((function(e){a.markers.remove(e)}))}},{key:"parseListSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createListSection(r);t.sections.append(a),this.parseListItems(i,a)}},{key:"parseListItems",value:function(e,t){var n=this;e.forEach((function(e){return n.parseListItem(e,t)}))}},{key:"parseListItem",value:function(e,t){var n=this.builder.createListItem();this.parseMarkers(e,n),t.items.append(n)}},{key:"parseMarkers",value:function(e,t){var n=this;e.forEach((function(e){return n.parseMarker(e,t)}))}},{key:"parseMarker",value:function(e,t){var n=this,r=Y(e,3),i=r[0],a=r[1],o=r[2];i.forEach((function(e){n.markups.push(n.markerTypes[e])}));var s=this.builder.createMarker(o,this.markups.slice());t.markers.append(s),this.markups=this.markups.slice(0,this.markups.length-a)}}]),e}(),fn=function(){function e(t){X(this,e),this.builder=t}return Z(e,[{key:"parse",value:function(e){var t=e.sections,n=e.markups,r=e.cards,i=e.atoms;try{var a=this.builder.createPost();return this.markups=[],this.markerTypes=this.parseMarkerTypes(n),this.cardTypes=this.parseCardTypes(r),this.atomTypes=this.parseAtomTypes(i),this.parseSections(t,a),a}catch(o){Ae("Unable to parse mobiledoc: ".concat(o.message),!1)}}},{key:"parseMarkerTypes",value:function(e){var t=this;return e.map((function(e){return t.parseMarkerType(e)}))}},{key:"parseMarkerType",value:function(e){var t=Y(e,2),n=t[0],r=oe(t[1]||[]);return this.builder.createMarkup(n,r)}},{key:"parseCardTypes",value:function(e){var t=this;return e.map((function(e){return t.parseCardType(e)}))}},{key:"parseCardType",value:function(e){var t=Y(e,2);return[t[0],t[1]]}},{key:"parseAtomTypes",value:function(e){var t=this;return e.map((function(e){return t.parseAtomType(e)}))}},{key:"parseAtomType",value:function(e){var t=Y(e,3);return[t[0],t[1],t[2]]}},{key:"parseSections",value:function(e,t){var n=this;e.forEach((function(e){return n.parseSection(e,t)}))}},{key:"parseSection",value:function(e,t){switch(e[0]){case 1:this.parseMarkupSection(e,t);break;case 2:this.parseImageSection(e,t);break;case 10:this.parseCardSection(e,t);break;case 3:this.parseListSection(e,t);break;default:Ae("Unexpected section type ".concat(e[0]),!1)}}},{key:"getAtomTypeFromIndex",value:function(e){var t=this.atomTypes[e];return Ae("No atom definition found at index ".concat(e),!!t),t}},{key:"getCardTypeFromIndex",value:function(e){var t=this.cardTypes[e];return Ae("No card definition found at index ".concat(e),!!t),t}},{key:"parseCardSection",value:function(e,t){var n=Y(e,2)[1],r=Y(this.getCardTypeFromIndex(n),2),i=r[0],a=r[1],o=this.builder.createCardSection(i,a);t.sections.append(o)}},{key:"parseImageSection",value:function(e,t){var n=Y(e,2)[1],r=this.builder.createImageSection(n);t.sections.append(r)}},{key:"parseMarkupSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createMarkupSection("pull-quote"===r.toLowerCase()?"aside":r);t.sections.append(a),this.parseMarkers(i,a),re(a.markers,(function(e){return e.isBlank})).forEach((function(e){a.markers.remove(e)}))}},{key:"parseListSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createListSection(r);t.sections.append(a),this.parseListItems(i,a)}},{key:"parseListItems",value:function(e,t){var n=this;e.forEach((function(e){return n.parseListItem(e,t)}))}},{key:"parseListItem",value:function(e,t){var n=this.builder.createListItem();this.parseMarkers(e,n),t.items.append(n)}},{key:"parseMarkers",value:function(e,t){var n=this;e.forEach((function(e){return n.parseMarker(e,t)}))}},{key:"parseMarker",value:function(e,t){var n=this,r=Y(e,4),i=r[0],a=r[1],o=r[2],s=r[3];a.forEach((function(e){n.markups.push(n.markerTypes[e])}));var u=this.buildMarkerType(i,s);t.markers.append(u),this.markups=this.markups.slice(0,this.markups.length-o)}},{key:"buildMarkerType",value:function(e,t){switch(e){case 0:return this.builder.createMarker(t,this.markups.slice());case 1:var n=Y(this.getAtomTypeFromIndex(t),3),r=n[0],i=n[1],a=n[2];return this.builder.createAtom(r,i,a,this.markups.slice());default:Ae("Unexpected marker type ".concat(e),!1)}}}]),e}(),hn=function(){function e(t){X(this,e),this.builder=t}return Z(e,[{key:"parse",value:function(e){var t=e.sections,n=e.markups,r=e.cards,i=e.atoms;try{var a=this.builder.createPost();return this.markups=[],this.markerTypes=this.parseMarkerTypes(n),this.cardTypes=this.parseCardTypes(r),this.atomTypes=this.parseAtomTypes(i),this.parseSections(t,a),a}catch(o){Ae("Unable to parse mobiledoc: ".concat(o.message),!1)}}},{key:"parseMarkerTypes",value:function(e){var t=this;return e.map((function(e){return t.parseMarkerType(e)}))}},{key:"parseMarkerType",value:function(e){var t=Y(e,2),n=t[0],r=oe(t[1]||[]);return this.builder.createMarkup(n,r)}},{key:"parseCardTypes",value:function(e){var t=this;return e.map((function(e){return t.parseCardType(e)}))}},{key:"parseCardType",value:function(e){var t=Y(e,2);return[t[0],t[1]]}},{key:"parseAtomTypes",value:function(e){var t=this;return e.map((function(e){return t.parseAtomType(e)}))}},{key:"parseAtomType",value:function(e){var t=Y(e,3);return[t[0],t[1],t[2]]}},{key:"parseSections",value:function(e,t){var n=this;e.forEach((function(e){return n.parseSection(e,t)}))}},{key:"parseSection",value:function(e,t){switch(e[0]){case 1:this.parseMarkupSection(e,t);break;case 2:this.parseImageSection(e,t);break;case 10:this.parseCardSection(e,t);break;case 3:this.parseListSection(e,t);break;default:Ae("Unexpected section type ".concat(e[0]),!1)}}},{key:"getAtomTypeFromIndex",value:function(e){var t=this.atomTypes[e];return Ae("No atom definition found at index ".concat(e),!!t),t}},{key:"getCardTypeFromIndex",value:function(e){var t=this.cardTypes[e];return Ae("No card definition found at index ".concat(e),!!t),t}},{key:"parseCardSection",value:function(e,t){var n=Y(e,2)[1],r=Y(this.getCardTypeFromIndex(n),2),i=r[0],a=r[1],o=this.builder.createCardSection(i,a);t.sections.append(o)}},{key:"parseImageSection",value:function(e,t){var n=Y(e,2)[1],r=this.builder.createImageSection(n);t.sections.append(r)}},{key:"parseMarkupSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createMarkupSection(r);t.sections.append(a),this.parseMarkers(i,a),re(a.markers,(function(e){return e.isBlank})).forEach((function(e){a.markers.remove(e)}))}},{key:"parseListSection",value:function(e,t){var n=Y(e,3),r=n[1],i=n[2],a=this.builder.createListSection(r);t.sections.append(a),this.parseListItems(i,a)}},{key:"parseListItems",value:function(e,t){var n=this;e.forEach((function(e){return n.parseListItem(e,t)}))}},{key:"parseListItem",value:function(e,t){var n=this.builder.createListItem();this.parseMarkers(e,n),t.items.append(n)}},{key:"parseMarkers",value:function(e,t){var n=this;e.forEach((function(e){return n.parseMarker(e,t)}))}},{key:"parseMarker",value:function(e,t){var n=this,r=Y(e,4),i=r[0],a=r[1],o=r[2],s=r[3];a.forEach((function(e){n.markups.push(n.markerTypes[e])}));var u=this.buildMarkerType(i,s);t.markers.append(u),this.markups=this.markups.slice(0,this.markups.length-o)}},{key:"buildMarkerType",value:function(e,t){switch(e){case 0:return this.builder.createMarker(t,this.markups.slice());case 1:var n=Y(this.getAtomTypeFromIndex(t),3),r=n[0],i=n[1],a=n[2];return this.builder.createAtom(r,i,a,this.markups.slice());default:Ae("Unexpected marker type ".concat(e),!1)}}}]),e}(),pn=function(){function e(t){X(this,e),this.builder=t}return Z(e,[{key:"parse",value:function(e){var t=e.sections,n=e.markups,r=e.cards,i=e.atoms;try{var a=this.builder.createPost();return this.markups=[],this.markerTypes=this.parseMarkerTypes(n),this.cardTypes=this.parseCardTypes(r),this.atomTypes=this.parseAtomTypes(i),this.parseSections(t,a),a}catch(o){Ae("Unable to parse mobiledoc: ".concat(o.message),!1)}}},{key:"parseMarkerTypes",value:function(e){var t=this;return e.map((function(e){return t.parseMarkerType(e)}))}},{key:"parseMarkerType",value:function(e){var t=Y(e,2),n=t[0],r=oe(t[1]||[]);return this.builder.createMarkup(n,r)}},{key:"parseCardTypes",value:function(e){var t=this;return e.map((function(e){return t.parseCardType(e)}))}},{key:"parseCardType",value:function(e){var t=Y(e,2);return[t[0],t[1]]}},{key:"parseAtomTypes",value:function(e){var t=this;return e.map((function(e){return t.parseAtomType(e)}))}},{key:"parseAtomType",value:function(e){var t=Y(e,3);return[t[0],t[1],t[2]]}},{key:"parseSections",value:function(e,t){var n=this;e.forEach((function(e){return n.parseSection(e,t)}))}},{key:"parseSection",value:function(e,t){switch(e[0]){case 1:this.parseMarkupSection(e,t);break;case 2:this.parseImageSection(e,t);break;case 10:this.parseCardSection(e,t);break;case 3:this.parseListSection(e,t);break;default:Ae("Unexpected section type ".concat(e[0]),!1)}}},{key:"getAtomTypeFromIndex",value:function(e){var t=this.atomTypes[e];return Ae("No atom definition found at index ".concat(e),!!t),t}},{key:"getCardTypeFromIndex",value:function(e){var t=this.cardTypes[e];return Ae("No card definition found at index ".concat(e),!!t),t}},{key:"parseCardSection",value:function(e,t){var n=Y(e,2)[1],r=Y(this.getCardTypeFromIndex(n),2),i=r[0],a=r[1],o=this.builder.createCardSection(i,a);t.sections.append(o)}},{key:"parseImageSection",value:function(e,t){var n=Y(e,2)[1],r=this.builder.createImageSection(n);t.sections.append(r)}},{key:"parseMarkupSection",value:function(e,t){var n=Y(e,4),r=n[1],i=n[2],a=n[3],o=this.builder.createMarkupSection(r);t.sections.append(o),a&&jt(oe(a)).forEach((function(e){var t=Y(e,2),n=t[0],r=t[1];o.setAttribute(n,r)})),this.parseMarkers(i,o),re(o.markers,(function(e){return e.isBlank})).forEach((function(e){o.markers.remove(e)}))}},{key:"parseListSection",value:function(e,t){var n=Y(e,4),r=n[1],i=n[2],a=n[3],o=this.builder.createListSection(r);t.sections.append(o),a&&jt(oe(a)).forEach((function(e){var t=Y(e,2),n=t[0],r=t[1];o.setAttribute(n,r)})),this.parseListItems(i,o)}},{key:"parseListItems",value:function(e,t){var n=this;e.forEach((function(e){return n.parseListItem(e,t)}))}},{key:"parseListItem",value:function(e,t){var n=this.builder.createListItem();this.parseMarkers(e,n),t.items.append(n)}},{key:"parseMarkers",value:function(e,t){var n=this;e.forEach((function(e){return n.parseMarker(e,t)}))}},{key:"parseMarker",value:function(e,t){var n=this,r=Y(e,4),i=r[0],a=r[1],o=r[2],s=r[3];a.forEach((function(e){n.markups.push(n.markerTypes[e])}));var u=this.buildMarkerType(i,s);t.markers.append(u),this.markups=this.markups.slice(0,this.markups.length-o)}},{key:"buildMarkerType",value:function(e,t){switch(e){case 0:return this.builder.createMarker(t,this.markups.slice());case 1:var n=Y(this.getAtomTypeFromIndex(t),3),r=n[0],i=n[1],a=n[2];return this.builder.createAtom(r,i,a,this.markups.slice());default:Ae("Unexpected marker type ".concat(e),!1)}}}]),e}();function vn(e,t,n){var r=t.type;xe("Cannot visit unknown type ".concat(r),r,e),e[r](t,n)}function mn(e,t){for(var n=0,r=t.length;n<r;n++){var i=D(t[n]),a=i[0],o=i.slice(1);e[a].apply(e,o)}}function kn(e,t,n){t&&0!==t.length&&ne(t,(function(t){vn(e,t,n)}))}var yn="0.2.0",gn=(x(r={},"post",(function(e,t){t.push(["openPost"]),kn(gn,e.sections,t)})),x(r,"markup-section",(function(e,t){t.push(["openMarkupSection",e.tagName]),kn(gn,e.markers,t)})),x(r,"list-section",(function(e,t){t.push(["openListSection",e.tagName]),kn(gn,e.items,t)})),x(r,"list-item",(function(e,t){t.push(["openListItem"]),kn(gn,e.markers,t)})),x(r,"image-section",(function(e,t){t.push(["openImageSection",e.src])})),x(r,"card-section",(function(e,t){t.push(["openCardSection",e.name,e.payload])})),x(r,"marker",(function(e,t){t.push(["openMarker",e.closedMarkups.length,e.value]),kn(gn,e.openedMarkups,t)})),x(r,"markup",(function(e,t){t.push(["openMarkup",e.tagName,se(e.attributes)])})),r),bn=function(){function e(){X(this,e)}return Z(e,[{key:"openMarker",value:function(e,t){this.markupMarkerIds=[],this.markers.push([this.markupMarkerIds,e,t||""])}},{key:"openMarkupSection",value:function(e){this.markers=[],this.sections.push([1,e,this.markers])}},{key:"openListSection",value:function(e){this.items=[],this.sections.push([3,e,this.items])}},{key:"openListItem",value:function(){this.markers=[],this.items.push(this.markers)}},{key:"openImageSection",value:function(e){this.sections.push([2,e])}},{key:"openCardSection",value:function(e,t){this.sections.push([10,e,t])}},{key:"openPost",value:function(){this.markerTypes=[],this.sections=[],this.result={version:yn,sections:[this.markerTypes,this.sections]}}},{key:"openMarkup",value:function(e,t){var n=this._findOrAddMarkerTypeIndex(e,t);this.markupMarkerIds.push(n)}},{key:"_findOrAddMarkerTypeIndex",value:function(e,t){this._markerTypeCache||(this._markerTypeCache={});var n="".concat(e,"-").concat(t.join("-")),r=this._markerTypeCache[n];if(void 0===r){var i=[e];t.length&&i.push(t),this.markerTypes.push(i),r=this.markerTypes.length-1,this._markerTypeCache[n]=r}return r}}]),e}(),wn=function(e){var t=[];vn(gn,e,t);var n=new bn;return mn(n,t),n.result},_n="0.3.0",En=(x(i={},"post",(function(e,t){t.push(["openPost"]),kn(En,e.sections,t)})),x(i,"markup-section",(function(e,t){t.push(["openMarkupSection",e.tagName]),kn(En,e.markers,t)})),x(i,"list-section",(function(e,t){t.push(["openListSection",e.tagName]),kn(En,e.items,t)})),x(i,"list-item",(function(e,t){t.push(["openListItem"]),kn(En,e.markers,t)})),x(i,"image-section",(function(e,t){t.push(["openImageSection",e.src])})),x(i,"card-section",(function(e,t){t.push(["openCardSection",e.name,e.payload])})),x(i,"marker",(function(e,t){t.push(["openMarker",e.closedMarkups.length,e.value]),kn(En,e.openedMarkups,t)})),x(i,"markup",(function(e,t){t.push(["openMarkup",e.tagName,se(e.attributes)])})),x(i,"atom",(function(e,t){t.push(["openAtom",e.closedMarkups.length,e.name,e.value,e.payload]),kn(En,e.openedMarkups,t)})),i),Sn=function(){function e(){X(this,e)}return Z(e,[{key:"openMarker",value:function(e,t){this.markupMarkerIds=[],this.markers.push([0,this.markupMarkerIds,e,t||""])}},{key:"openAtom",value:function(e,t,n,r){var i=this._addAtomTypeIndex(t,n,r);this.markupMarkerIds=[],this.markers.push([1,this.markupMarkerIds,e,i])}},{key:"openMarkupSection",value:function(e){this.markers=[],this.sections.push([1,e,this.markers])}},{key:"openListSection",value:function(e){this.items=[],this.sections.push([3,e,this.items])}},{key:"openListItem",value:function(){this.markers=[],this.items.push(this.markers)}},{key:"openImageSection",value:function(e){this.sections.push([2,e])}},{key:"openCardSection",value:function(e,t){var n=this._addCardTypeIndex(e,t);this.sections.push([10,n])}},{key:"openPost",value:function(){this.atomTypes=[],this.cardTypes=[],this.markerTypes=[],this.sections=[],this.result={version:_n,atoms:this.atomTypes,cards:this.cardTypes,markups:this.markerTypes,sections:this.sections}}},{key:"openMarkup",value:function(e,t){var n=this._findOrAddMarkerTypeIndex(e,t);this.markupMarkerIds.push(n)}},{key:"_addCardTypeIndex",value:function(e,t){var n=[e,t];return this.cardTypes.push(n),this.cardTypes.length-1}},{key:"_addAtomTypeIndex",value:function(e,t,n){var r=[e,t,n];return this.atomTypes.push(r),this.atomTypes.length-1}},{key:"_findOrAddMarkerTypeIndex",value:function(e,t){this._markerTypeCache||(this._markerTypeCache={});var n="".concat(e,"-").concat(t.join("-")),r=this._markerTypeCache[n];if(void 0===r){var i=[e];t.length&&i.push(t),this.markerTypes.push(i),r=this.markerTypes.length-1,this._markerTypeCache[n]=r}return r}}]),e}(),Cn=function(e){var t=[];vn(En,e,t);var n=new Sn;return mn(n,t),n.result},Nn="0.3.1",Mn=(x(a={},"post",(function(e,t){t.push(["openPost"]),kn(Mn,e.sections,t)})),x(a,"markup-section",(function(e,t){t.push(["openMarkupSection",e.tagName]),kn(Mn,e.markers,t)})),x(a,"list-section",(function(e,t){t.push(["openListSection",e.tagName]),kn(Mn,e.items,t)})),x(a,"list-item",(function(e,t){t.push(["openListItem"]),kn(Mn,e.markers,t)})),x(a,"image-section",(function(e,t){t.push(["openImageSection",e.src])})),x(a,"card-section",(function(e,t){t.push(["openCardSection",e.name,e.payload])})),x(a,"marker",(function(e,t){t.push(["openMarker",e.closedMarkups.length,e.value]),kn(Mn,e.openedMarkups,t)})),x(a,"markup",(function(e,t){t.push(["openMarkup",e.tagName,se(e.attributes)])})),x(a,"atom",(function(e,t){t.push(["openAtom",e.closedMarkups.length,e.name,e.value,e.payload]),kn(Mn,e.openedMarkups,t)})),a),Tn=function(){function e(){X(this,e)}return Z(e,[{key:"openMarker",value:function(e,t){this.markupMarkerIds=[],this.markers.push([0,this.markupMarkerIds,e,t||""])}},{key:"openAtom",value:function(e,t,n,r){var i=this._addAtomTypeIndex(t,n,r);this.markupMarkerIds=[],this.markers.push([1,this.markupMarkerIds,e,i])}},{key:"openMarkupSection",value:function(e){this.markers=[],this.sections.push([1,e,this.markers])}},{key:"openListSection",value:function(e){this.items=[],this.sections.push([3,e,this.items])}},{key:"openListItem",value:function(){this.markers=[],this.items.push(this.markers)}},{key:"openImageSection",value:function(e){this.sections.push([2,e])}},{key:"openCardSection",value:function(e,t){var n=this._addCardTypeIndex(e,t);this.sections.push([10,n])}},{key:"openPost",value:function(){this.atomTypes=[],this.cardTypes=[],this.markerTypes=[],this.sections=[],this.result={version:Nn,atoms:this.atomTypes,cards:this.cardTypes,markups:this.markerTypes,sections:this.sections}}},{key:"openMarkup",value:function(e,t){var n=this._findOrAddMarkerTypeIndex(e,t);this.markupMarkerIds.push(n)}},{key:"_addCardTypeIndex",value:function(e,t){var n=[e,t];return this.cardTypes.push(n),this.cardTypes.length-1}},{key:"_addAtomTypeIndex",value:function(e,t,n){var r=[e,t,n];return this.atomTypes.push(r),this.atomTypes.length-1}},{key:"_findOrAddMarkerTypeIndex",value:function(e,t){this._markerTypeCache||(this._markerTypeCache={});var n="".concat(e,"-").concat(t.join("-")),r=this._markerTypeCache[n];if(void 0===r){var i=[e];t.length&&i.push(t),this.markerTypes.push(i),r=this.markerTypes.length-1,this._markerTypeCache[n]=r}return r}}]),e}(),An=function(e){var t=[];vn(Mn,e,t);var n=new Tn;return mn(n,t),n.result},xn="0.3.2",On=(x(o={},"post",(function(e,t){t.push(["openPost"]),kn(On,e.sections,t)})),x(o,"markup-section",(function(e,t){t.push(["openMarkupSection",e.tagName,se(e.attributes)]),kn(On,e.markers,t)})),x(o,"list-section",(function(e,t){t.push(["openListSection",e.tagName,se(e.attributes)]),kn(On,e.items,t)})),x(o,"list-item",(function(e,t){t.push(["openListItem"]),kn(On,e.markers,t)})),x(o,"image-section",(function(e,t){t.push(["openImageSection",e.src])})),x(o,"card-section",(function(e,t){t.push(["openCardSection",e.name,e.payload])})),x(o,"marker",(function(e,t){t.push(["openMarker",e.closedMarkups.length,e.value]),kn(On,e.openedMarkups,t)})),x(o,"markup",(function(e,t){t.push(["openMarkup",e.tagName,se(e.attributes)])})),x(o,"atom",(function(e,t){t.push(["openAtom",e.closedMarkups.length,e.name,e.value,e.payload]),kn(On,e.openedMarkups,t)})),o),Rn=function(){function e(){X(this,e)}return Z(e,[{key:"openMarker",value:function(e,t){this.markupMarkerIds=[],this.markers.push([0,this.markupMarkerIds,e,t||""])}},{key:"openAtom",value:function(e,t,n,r){var i=this._addAtomTypeIndex(t,n,r);this.markupMarkerIds=[],this.markers.push([1,this.markupMarkerIds,e,i])}},{key:"openMarkupSection",value:function(e,t){this.markers=[],t&&0!==t.length?this.sections.push([1,e,this.markers,t]):this.sections.push([1,e,this.markers])}},{key:"openListSection",value:function(e,t){this.items=[],t&&0!==t.length?this.sections.push([3,e,this.items,t]):this.sections.push([3,e,this.items])}},{key:"openListItem",value:function(){this.markers=[],this.items.push(this.markers)}},{key:"openImageSection",value:function(e){this.sections.push([2,e])}},{key:"openCardSection",value:function(e,t){var n=this._addCardTypeIndex(e,t);this.sections.push([10,n])}},{key:"openPost",value:function(){this.atomTypes=[],this.cardTypes=[],this.markerTypes=[],this.sections=[],this.result={version:xn,atoms:this.atomTypes,cards:this.cardTypes,markups:this.markerTypes,sections:this.sections}}},{key:"openMarkup",value:function(e,t){var n=this._findOrAddMarkerTypeIndex(e,t);this.markupMarkerIds.push(n)}},{key:"_addCardTypeIndex",value:function(e,t){var n=[e,t];return this.cardTypes.push(n),this.cardTypes.length-1}},{key:"_addAtomTypeIndex",value:function(e,t,n){var r=[e,t,n];return this.atomTypes.push(r),this.atomTypes.length-1}},{key:"_findOrAddMarkerTypeIndex",value:function(e,t){this._markerTypeCache||(this._markerTypeCache={});var n="".concat(e,"-").concat(t.join("-")),r=this._markerTypeCache[n];if(void 0===r){var i=[e];t.length&&i.push(t),this.markerTypes.push(i),r=this.markerTypes.length-1,this._markerTypeCache[n]=r}return r}}]),e}(),Pn=function(e){var t=[];vn(On,e,t);var n=new Rn;return mn(n,t),n.result},Ln=function(e,t){switch(t.version){case yn:return new dn(e).parse(t);case _n:return new fn(e).parse(t);case Nn:return new hn(e).parse(t);case xn:return new pn(e).parse(t);default:Ae("Unknown version of mobiledoc parser requested: ".concat(t.version),!1)}},In=function(){function e(t,n,r,i,a){X(this,e),this._rendered=null,this._teardownCallback=null,this._didRenderCallback=null,this.editor=t,this.card=n,this.section=r,this.element=i,this.options=a}return Z(e,[{key:"render",value:function(e){if(this.mode!==e){this.teardown(),this.mode=e;var t="display"===e?"render":"edit",n=this.card[t];Ae('Card is missing "'.concat(t,'" (tried to render mode: "').concat(e,'")'),!!n);var r=n({env:this.env,options:this.options,payload:this.section.payload})||null;this._validateAndAppendRenderResult(r)}}},{key:"teardown",value:function(){this._teardownCallback&&(this._teardownCallback(),this._teardownCallback=null),this._rendered&&(this.element.removeChild(this._rendered),this._rendered=null)}},{key:"didRender",value:function(){this._didRenderCallback&&this._didRenderCallback()}},{key:"env",get:function(){var e=this;return{name:this.card.name,isInEditor:!0,onTeardown:function(t){return e._teardownCallback=t},didRender:function(t){return e._didRenderCallback=t},edit:function(){return e.edit()},save:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.section.payload=t,e.editor._postDidChange(),n&&e.display()},cancel:function(){return e.display()},remove:function(){return e.remove()},postModel:this.section}}},{key:"display",value:function(){this.render(Ze.DISPLAY)}},{key:"edit",value:function(){this.render(Ze.EDIT)}},{key:"remove",value:function(){var e=this;this.editor.run((function(t){return t.removeSection(e.section)}))}},{key:"_validateAndAppendRenderResult",value:function(e){if(e){var t=this.card.name;Ae('Card "'.concat(t,'" must render dom (render value was: "').concat(e,'")'),!!e.nodeType),this.element.appendChild(e),this._rendered=e,this.didRender()}}}]),e}(),Dn=function(){function e(t,n,r,i,a){X(this,e),this._teardownCallback=null,this.editor=t,this.atom=n,this.model=r,this.atomOptions=a,this.element=i}return Z(e,[{key:"render",value:function(){if(!this._rendered){var e=this.atomOptions,t=this.env,n=this.model,r=n.value,i=n.payload;this._rendered=this.atom.render({options:e,env:t,value:r,payload:i})||null}this._validateAndAppendRenderResult(this._rendered)}},{key:"env",get:function(){var e=this;return{name:this.atom.name,onTeardown:function(t){return e._teardownCallback=t},save:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.model.value=t,e.model.payload=n,e.editor._postDidChange(),e.teardown(),e.render()}}}},{key:"teardown",value:function(){this._teardownCallback&&(this._teardownCallback(),this._teardownCallback=null),this._rendered&&(this.element.removeChild(this._rendered),this._rendered=null)}},{key:"_validateAndAppendRenderResult",value:function(e){if(e){var t=this.atom.name;Ae('Atom "'.concat(t,'" must return a DOM node (returned value was: "').concat(e,'")'),!!e.nodeType),this.element.appendChild(e)}}}]),e}(),Fn="\xa0",Bn=" ",Un="\u200c",Hn="-mobiledoc-kit__atom",jn="__has-no-content";function zn(e,t){var n=e.createElement(t.tagName);return Object.keys(t.attributes).forEach((function(e){n.setAttribute(e,t.attributes[e])})),n}var Wn="".concat(Bn).concat(Bn),Kn="".concat(Bn).concat(Fn),Vn=new RegExp(Wn,"g"),qn=new RegExp("\t","g"),Qn=function(e){return Se(e,Bn)};function $n(e){var t=e.value;return t=t.replace(Vn,Kn).replace(qn,"\u2003"),e.isMarker&&Qn(t)&&!e.next&&(t=t.substr(0,t.length-1)+Fn),e.isMarker&&function(e){return t=Bn,e.charAt(0)===t;var t}(t)&&(!e.prev||e.prev.isMarker&&Qn(e.prev.value))&&(t=Fn+t.substr(1)),t}function Gn(e,t){for(;t&&e.parentNode!==t&&e.parentNode!==document.body;)e=e.parentNode;return e}function Yn(e,t){e.eachAttribute((function(e,n){t.setAttribute(e,n)}))}function Xn(){return document.createElement("br")}function Jn(){return document.createTextNode(Un)}function Zn(e,t){for(var n=e,r=t.length-1;r>=0;r--){var i=t[r],a=zn(document,i);a.appendChild(n),n=a}return n}function er(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n){var r=n.element,i=Gn(r,t);t.insertBefore(e,i.nextSibling)}else t.insertBefore(e,t.firstChild)}function tr(e){for(var t=e.element.parentNode,n=e.postNode.closedMarkups.length;n--;)t=t.parentNode;return t}function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Le(e.element);if(Oe("expected RenderNode to have a parent",e.parent),t){var r=e.parent.element;r.replaceChild(n,t)}else{var i,a;if(e.prev){var o=Le(e.prev.element);i=Le(o.parentNode),a=o.nextSibling}else a=(i=e.parent.element).firstChild;i.insertBefore(n,a)}}function rr(e,t){Oe("expected RenderNode to have a parent",e.parent),Oe("expected parent RenderNode to have a PostNode",e.parent.postNode);var n=e.parent.postNode;Ae("expected PostNode to have sections",_t(n)),n.sections.remove(t)}function ir(e){e.element&&e.element.parentNode&&e.element.parentNode.removeChild(e.element)}var ar=function(){function e(t,n,r,i,a,o){X(this,e),this.editor=t,this.cards=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ne(e,(function(e){Ae('Card "'.concat(e.name,'" must define type "dom", has: "').concat(e.type,'"'),"dom"===e.type),Ae('Card "'.concat(e.name,'" must define `render` method'),!!e.render)})),e}(n),this.atoms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ne(e,(function(e){Ae('Atom "'.concat(e.name,'" must define type "dom", has: "').concat(e.type,'"'),"dom"===e.type),Ae('Atom "'.concat(e.name,'" must define `render` method'),!!e.render)})),e}(r),this.unknownCardHandler=i,this.unknownAtomHandler=a,this.options=o}return Z(e,[{key:"_findCard",value:function(e){return ee(this.cards,(function(t){return t.name===e}))||this._createUnknownCard(e)}},{key:"_createUnknownCard",value:function(e){return Ae('Unknown card "'.concat(e,'" found, but no unknownCardHandler is defined'),!!this.unknownCardHandler),{name:e,type:"dom",render:this.unknownCardHandler,edit:this.unknownCardHandler}}},{key:"_findAtom",value:function(e){return ee(this.atoms,(function(t){return t.name===e}))||this._createUnknownAtom(e)}},{key:"_createUnknownAtom",value:function(e){return Ae('Unknown atom "'.concat(e,'" found, but no unknownAtomHandler is defined'),!!this.unknownAtomHandler),{name:e,type:"dom",render:this.unknownAtomHandler}}},{key:"post",value:function(e,t,n){e.element||(e.element=document.createElement("div"));var r=e.element;be(r,"__mobiledoc-editor"),t.hasContent?function(e,t){e.classList.remove(t)}(r,jn):be(r,jn),n(e,t.sections)}},{key:"markup-section",value:function(e,t,n){var r=e.element;if(e.element=function(e){var t;return-1!==Jt.indexOf(e.tagName)?t=document.createElement(e.tagName):be(t=document.createElement("div"),e.tagName),Yn(e,t),t}(t),e.cursorElement=null,nr(e,r),t.isBlank){var i=Xn();e.element.appendChild(i),e.cursorElement=i}else{n(e,t.markers,!0)}}},{key:"list-section",value:function(e,t,n){var r=e.element;e.element=function(e){var t=document.createElement(e.tagName);return Yn(e,t),t}(t),nr(e,r);n(e,t.items,!0)}},{key:"list-item",value:function(e,t,n){if(e.element=document.createElement("li"),e.cursorElement=null,nr(e,null),t.isBlank){var r=Xn();e.element.appendChild(r),e.cursorElement=r}else{n(e,t.markers,!0)}}},{key:"marker",value:function(e,t){var n=function(e,t,n){var r=$n(e),i=document.createTextNode(r),a=Zn(i,e.openedMarkups);return er(a,t,n),{element:i,markupElement:a}}(t,e.prev?tr(e.prev):e.parent.element,e.prev),r=n.element,i=n.markupElement;e.element=r,e.markupElement=i}},{key:"image-section",value:function(e,t){if(e.element)e.element.src!==t.src&&(e.element.src=t.src||"");else{var n=document.createElement("img");if(n.src=t.src||"",e.prev){var r=e.prev.element.nextSibling;r&&r.parentNode.insertBefore(n,r)}n.parentNode||e.parent.element.appendChild(n),e.element=n}}},{key:"card-section",value:function(e,t){var n=e.element,r=this.editor,i=this.options,a=this._findCard(t.name),o=function(){var e=document.createElement("div"),t=document.createElement("div");return t.contentEditable="false",be(t,"__mobiledoc-card"),e.appendChild(Jn()),e.appendChild(t),e.appendChild(Jn()),{wrapper:e,cardElement:t}}(),s=o.wrapper,u=o.cardElement;e.element=s,nr(e,n);var l=new In(r,a,t,u,i);e.cardNode=l,l[t._initialMode]()}},{key:"atom",value:function(e,t){var n;n=e.prev?tr(e.prev):e.parent.element;var r=this.editor,i=this.options,a=function(e,t,n){var r=document.createElement("span");r.contentEditable="false";var i=document.createElement("span");be(i,Hn);var a=Jn(),o=Jn();i.appendChild(a),i.appendChild(r),i.appendChild(o);var s=Zn(i,e.openedMarkups);return er(s,t,n),{markupElement:s,wrapper:i,atomElement:r,headTextNode:a,tailTextNode:o}}(t,n,e.prev),o=a.wrapper,s=a.markupElement,u=a.atomElement,l=a.headTextNode,c=a.tailTextNode,d=this._findAtom(t.name),f=e.atomNode;f?f.element=u:f=new Dn(r,d,t,u,i),f.render(),e.atomNode=f,e.element=o,e.headTextNode=l,e.tailTextNode=c,e.markupElement=s}}]),e}(),or=(x(s={},"post",(function(){Ae("post destruction is not supported by the renderer",!1)})),x(s,"markup-section",(function(e,t){rr(e,t),ir(e)})),x(s,"list-section",(function(e,t){rr(e,t),ir(e)})),x(s,"list-item",(function(e,t){rr(e,t),ir(e)})),x(s,"marker",(function(e,t){if(e.isRendered){var n=e.markupElement;t.section&&t.section.markers.remove(t),n.parentNode&&n.parentNode.removeChild(n)}})),x(s,"image-section",(function(e,t){rr(e,t),ir(e)})),x(s,"card-section",(function(e,t){e.cardNode&&e.cardNode.teardown(),rr(e,t),ir(e)})),x(s,"atom",(function(e,t){e.atomNode&&e.atomNode.teardown(),or.marker(e,t)})),s);function sr(e){for(var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.childNodes.head;i;)t=i.next,(i.isRemoved||r)&&(sr(i,!0),n=i.postNode.type,xe('editor-dom cannot destroy "'.concat(n,'"'),n,or),or[n](i,i.postNode),e.childNodes.remove(i)),i=t}function ur(e,t,n,r){if(n.renderNode)return n.renderNode;var i=e.buildRenderNode(n);return t.childNodes.insertAfter(i,r),i}var lr=function(){function e(t,n,r,i,a,o){X(this,e),this.renderTree=null,this.editor=t,this.visitor=new ar(t,n,r,i,a,o),this.nodes=[],this.hasRendered=!1}return Z(e,[{key:"destroy",value:function(){if(this.hasRendered){sr(Le(this.renderTree).rootNode,!0)}}},{key:"visit",value:function(e,t,n){var r,i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.forEach((function(n){var o=ur(e,t,n,r);(o.isDirty||a)&&i.nodes.push(o),r=o}))}},{key:"render",value:function(e){var t=this;this.hasRendered=!0,this.renderTree=e;for(var n,r,i=e.rootNode;i;)sr(i),n=(r=i.postNode).type,xe("EditorDom visitor cannot handle type ".concat(n),n,this.visitor),this.visitor[n](i,r,(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.visit.apply(t,[e].concat(r))})),i.markClean(),i=this.nodes.shift()}}]),e}(),cr=["a","b","code","em","i","s","del","strong","sub","sup","u"].map(we),dr=["href","rel"],fr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(this,e),this.type=Ut,Ae("Cannot create markup of tagName ".concat(t),-1!==cr.indexOf(t)),this.tagName=we(t),Ae("Must use attributes object param (not array) for Markup",!Array.isArray(n)),this.attributes=le(n,dr)}return Z(e,[{key:"isForwardInclusive",value:function(){return this.tagName!==we("a")}},{key:"isBackwardInclusive",value:function(){return!1}},{key:"hasTag",value:function(e){return this.tagName===we(e)}},{key:"getAttribute",value:function(e){return this.attributes[e]}}],[{key:"isValidElement",value:function(e){var t=we(e.tagName);return-1!==cr.indexOf(t)}}]),e}(),hr=["style","head","title","meta"].map(we),pr=/\s*\n\s*/g;var vr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(this,e),this.builder=t,this.plugins=n.plugins||[]}return Z(e,[{key:"parse",value:function(e){var t=this;if(this._isSkippable(e))return[];this.sections=[],this.state={},this._updateStateFromElement(e);var n=!1;(ve(e)||(n=this.runPlugins(e)),n)||ne(ve(e)?[e]:e.childNodes,(function(e){t.parseNode(e)}));return this._closeCurrentSection(),this.sections}},{key:"runPlugins",value:function(e){for(var t=this,n=!1,r={addSection:function(e){t.state.section&&Dt(t.state.section)&&!t.state.section.text&&!t.state.text?t.state.section=null:t._closeCurrentSection(),t.sections.push(e)},addMarkerable:function(e){var n=t.state,r=n.section;r||(n.text="",n.section=t.builder.createMarkupSection(we("p")),r=n.section),Re("Markerables can only be appended to markup sections and list item sections",0,r&&r.isMarkerable),n.text&&t._createMarker(),r.markers.append(e)},nodeFinished:function(){n=!0}},i=0;i<this.plugins.length;i++){if((0,this.plugins[i])(e,this.builder,r),n)return!0}return!1}},{key:"parseNode",value:function(e){var t=this;if(this.state.section||this._updateStateFromElement(e),!this.runPlugins(e)){if(this.state.section&&ke(e)&&e.tagName){var n=we(e.tagName),r=ce(Kt,n),i=ce($t,n),a=ce(Xt,n),o=r&&this.state.section.isListItem,s=this.sections[this.sections.length-1];if(i&&tn(this.state.section)&&(this._closeCurrentSection(),this._updateStateFromElement(e.parentElement)),i&&s&&Qt(s)){var u=Pe(e.parentElement,"expected node to have parent element");we(u.tagName)!==s.tagName&&(this._closeCurrentSection(),this._updateStateFromElement(u))}if(!i||this.state.section.isListItem||this.state.section.isListSection||s.isListSection||(this._closeCurrentSection(),this._updateStateFromElement(e.parentElement)),s&&Qt(s)&&this.state.section.isListItem&&r&&n!==s.tagName||r&&!o||a||i){if(this.state.section.isListItem&&"p"===n&&!e.nextSibling&&ce($t,we(Pe(e.parentElement,"expected node to have parent element").tagName)))return void this.parseElementNode(e);Dt(this.state.section)&&!this.state.text&&0===this.state.section.markers.length?this.state.section=null:this._closeCurrentSection(),this._updateStateFromElement(e)}if(this.state.section&&this.state.section.isListSection)return this._closeCurrentSection(),void ne(e.childNodes,(function(e){t.parseNode(e)}))}switch(e.nodeType){case he:this.parseTextNode(e);break;case fe:this.parseElementNode(e)}}}},{key:"parseElementNode",value:function(e){var t,n=this,r=this.state;Ae("expected markups to be non-null",r.markups);var i=this._markupsFromElement(e);i.length&&r.text.length&&Dt(r.section)&&this._createMarker(),(t=r.markups).push.apply(t,B(i)),ne(e.childNodes,(function(e){n.parseNode(e)})),i.length&&r.text.length&&r.section.isMarkerable&&this._createMarker(),r.markups.splice(-i.length,i.length)}},{key:"parseTextNode",value:function(e){this.state.text+=e.textContent.replace(pr," ")}},{key:"_updateStateFromElement",value:function(e){if(!me(e)){var t=this.state;t.section=this._createSectionFromElement(e),t.markups=this._markupsFromElement(e),t.text=""}}},{key:"_closeCurrentSection",value:function(){var e=this.sections,t=this.state,n=e[e.length-1];if(t.section){if(t.text.length&&t.section.isMarkerable&&this._createMarker(),Yt(t.section)&&n&&Qt(n))br(t.section),n.items.append(t.section);else{if(Dt(t.section)&&!t.section.text.trim()&&!te(t.section.markers,(function(e){return e.isAtom})))return t.section=null,void(t.text="");n&&Qt(n)&&0===n.items.length&&e.pop(),e.push(t.section)}t.section=null,t.text=""}}},{key:"_markupsFromElement",value:function(e){var t=this.builder,n=[];if(ve(e))return n;var r=we(e.tagName);return this._isValidMarkupForElement(r,e)&&n.push(t.createMarkup(r,ge(e))),this._markupsFromElementStyle(e).forEach((function(e){return n.push(e)})),n}},{key:"_isValidMarkupForElement",value:function(e,t){return-1!==cr.indexOf(e)&&("b"!==e||"normal"!==t.style.fontWeight)}},{key:"_markupsFromElementStyle",value:function(e){var t=this.builder,n=[],r=e.style,i=r.fontStyle,a=r.fontWeight;return"italic"===i&&n.push(t.createMarkup("em")),"bold"!==a&&"700"!==a||n.push(t.createMarkup("strong")),n}},{key:"_createMarker",value:function(){var e=this.state,t=gr(e.text),n=this.builder.createMarker(t,e.markups);Re("expected section to be markerable",e.section,Dt(e.section)),e.section.markers.append(n),e.text=""}},{key:"_getSectionDetails",value:function(e){var t,n,r=!1;return ve(e)?(n=Zt,t=Ft,r=!0):("p"===(n=we(e.tagName))&&e.parentElement&&"blockquote"===we(e.parentElement.tagName)&&(n="blockquote"),ce(Kt,n)?t=Bt:ce($t,n)?t=Ht:ce(Xt,n)?t=Ft:(t=Ft,n=Zt,r=!0)),{sectionType:t,tagName:n,inferredTagName:r}}},{key:"_createSectionFromElement",value:function(e){if(!me(e)){var t,n=this.builder,r=this._getSectionDetails(e),i=r.tagName,a=r.sectionType,o=r.inferredTagName;switch(a){case Bt:t=n.createListSection(i);break;case Ht:t=n.createListItem();break;case Ft:(t=n.createMarkupSection(i))._inferredTagName=o;break;default:Ae("Cannot parse section from element",!1)}return t}}},{key:"_isSkippable",value:function(e){return ke(e)&&ce(hr,we(e.tagName))}}]),e}(),mr=/^docs-internal-guid/,kr=new RegExp(Fn,"g"),yr=new RegExp("\u2003","g");function gr(e){var t=e;return t=(t=t.replace(kr," ")).replace(yr,"\t")}function br(e){if(Dt(e)&&e.markers.length){var t=e.markers,n=t.head,r=t.tail;n.value=n.value.replace(/^\s+/,""),r.value=r.value.replace(/\s+$/,"")}}function wr(e){return ke(e)&&we(e.tagName)===we("b")&&mr.test(e.id)}var _r={b:"strong",i:"em"};function Er(e,t){var n=e;if(ve(n)||ke(n)&&n.classList.contains(Hn))t(n);else for(n=n.firstChild;n;)Er(n,t),n=n.nextSibling}var Sr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(this,e),this.builder=t,this.sectionParser=new vr(this.builder,n)}return Z(e,[{key:"parse",value:function(e){var t=this,n=this.builder.createPost(),r=function(e){return ee(e.childNodes||[],wr)||e}(e);return this._eachChildNode(r,(function(e){var r=t.parseSections(e);t.appendSections(n,r)})),ne(n.sections,(function(e){return br(e)})),n}},{key:"appendSections",value:function(e,t){var n=this;ne(t,(function(t){return n.appendSection(e,t)}))}},{key:"appendSection",value:function(e,t){if(!(t.isBlank||Dt(t)&&""===(n=t.text,n.replace(/^\s+/,"").replace(/\s+$/,""))&&!te(t.markers,(function(e){return e.isAtom})))){var n,r=e.sections.tail;r&&nn(r)&&nn(t)&&r.tagName===t.tagName?r.join(t):e.sections.append(t)}}},{key:"_eachChildNode",value:function(e,t){ne(ve(e)?[e]:e.childNodes,(function(e){return t(e)}))}},{key:"parseSections",value:function(e){return this.sectionParser.parse(e)}},{key:"collectMarkups",value:function(e,t){for(var n=[],r=e.parentNode;r&&r!==t;){var i=this.markupFromNode(r);i&&n.push(i),r=r.parentNode}return n}},{key:"markupFromNode",value:function(e){if(ke(e)&&fr.isValidElement(e)){var t=function(e){var t=we(e);return _r[t]||t}(e.tagName),n=ge(e);return this.builder.createMarkup(t,n)}}},{key:"reparseSection",value:function(e,t){switch(e.type){case Bt:return this.reparseListSection(e,t);case Ht:return this.reparseListItem(e,t);case Ft:return this.reparseMarkupSection(e,t);default:return}}},{key:"reparseMarkupSection",value:function(e,t){return this._reparseSectionContainingMarkers(e,t)}},{key:"reparseListItem",value:function(e,t){return this._reparseSectionContainingMarkers(e,t)}},{key:"reparseListSection",value:function(e,t){var n=this;e.items.forEach((function(e){return n.reparseListItem(e,t)}))}},{key:"_reparseSectionContainingMarkers",value:function(e,t){var n,r=this,i=e.renderNode.element,a=[];Er(i,(function(o){var s,u=t.getElementRenderNode(o);if(u){if(function(e){return"marker"===e.type}(u.postNode)){var l=gr(o.textContent||""),c=r.collectMarkups(o,i);l.length?((s=u.postNode).value=l,s.markups=c):u.scheduleForRemoval()}else if(at(u.postNode)){var d=u,f=d.headTextNode,h=d.tailTextNode;if(f.textContent!==Un){var p=f.textContent.replace(new RegExp(Un,"g"),"");if(f.textContent=Un,n&&n.isMarker)n.value+=p,n.renderNode&&n.renderNode.markDirty();else{var v=u.postNode,m=v.markups.slice(),k=r.builder.createMarker(p,m);e.markers.insertBefore(k,v);var y=t.buildRenderNode(k);y.markDirty(),e.renderNode.markDirty(),a.push(y),e.renderNode.childNodes.insertBefore(y,u)}}if(h.textContent!==Un){var g=h.textContent.replace(new RegExp(Un,"g"),"");if(h.textContent=Un,u.postNode.next&&u.postNode.next.isMarker){var b=u.postNode.next;if(b.renderNode){var w=b.renderNode.element.textContent;b.renderNode.element.textContent=g+w}else{var _=g+b.value;b.value=_}}else{var E=u.postNode,S=E.markups.slice(),C=r.builder.createMarker(g,S);e.markers.insertAfter(C,E);var N=t.buildRenderNode(C);a.push(N),N.markDirty(),e.renderNode.markDirty(),e.renderNode.childNodes.insertAfter(N,u)}}u&&(s=u.postNode)}}else if(ve(o)){var M=gr(o.textContent),T=r.collectMarkups(o,i);s=r.builder.createMarker(M,T),(u=t.buildRenderNode(s)).element=o,u.markClean(),e.renderNode.markDirty();var A=n&&n.renderNode;e.markers.insertAfter(s,n),e.renderNode.childNodes.insertAfter(u,A)}u&&a.push(u),n=s}));for(var o=e.renderNode.childNodes.head;o;)-1===a.indexOf(o)&&o.scheduleForRemoval(),o=o.next}}]),e}(),Cr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(this,e),Ae("Must pass builder to HTMLParser",t),this.builder=t,this.options=n}return Z(e,[{key:"parse",value:function(e){var t=function(e){var t=document.createElement("div");return t.innerHTML=e,t}(e);return new Sr(this.builder,this.options).parse(t)}}]),e}(),Nr=function(e){z(n,e);var t=Q(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).parent=null,i.isDirty=!0,i.isRemoved=!1,i.markupElement=null,i.headTextNode=null,i.tailTextNode=null,i.atomNode=null,i.cardNode=null,i._childNodes=null,i._element=null,i._cursorElement=null,i.postNode=e,i.renderTree=r,i}return Z(n,[{key:"isAttached",value:function(){return Ae("Cannot check if a renderNode is attached without an element.",!!this.element),ye(Le(Le(this.renderTree).rootElement),this.element)}},{key:"childNodes",get:function(){var e=this;return this._childNodes||(this._childNodes=new Rt({adoptItem:function(t){return t.parent=e},freeItem:function(e){return e.destroy()}})),this._childNodes}},{key:"scheduleForRemoval",value:function(){this.isRemoved=!0,this.parent&&this.parent.markDirty()}},{key:"markDirty",value:function(){this.isDirty=!0,this.parent&&this.parent.markDirty()}},{key:"isRendered",get:function(){return!!this.element}},{key:"markClean",value:function(){this.isDirty=!1}},{key:"element",get:function(){return this._element},set:function(e){var t=this._element;this._element=e,t&&this.renderTree.removeElementRenderNode(t),e&&this.renderTree.setElementRenderNode(e,this)}},{key:"cursorElement",get:function(){return this._cursorElement||this.element},set:function(e){this._cursorElement=e}},{key:"destroy",value:function(){this.element=null,this.parent=null,this.postNode=null,this.renderTree=null}},{key:"reparsesMutationOfChildNode",value:function(e){return this.postNode.isCardSection?!ye(this.cardNode.element,e):!this.postNode.isAtom||!ye(this.atomNode.element,e)}}]),n}(Xe),Mr=1,Tr=function(){function e(){X(this,e),this._map={}}return Z(e,[{key:"set",value:function(e,t){var n=e._uuid;n||(e._uuid=n=""+Mr++),this._map[n]=t}},{key:"get",value:function(e){return e._uuid?this._map[e._uuid]:null}},{key:"remove",value:function(e){!function(e){Ae("tried to fetch a value for an element not seen before",!!e._uuid)}(e),delete this._map[e._uuid]}}]),e}();var Ar=function(){function e(t){X(this,e),this._rootNode=this.buildRenderNode(t),this._elements=new Tr}return Z(e,[{key:"rootNode",get:function(){return this._rootNode}},{key:"isDirty",get:function(){return this.rootNode&&this.rootNode.isDirty}},{key:"rootElement",get:function(){return this.rootNode.element}},{key:"getElementRenderNode",value:function(e){return this._elements.get(e)}},{key:"setElementRenderNode",value:function(e,t){this._elements.set(e,t)}},{key:"removeElementRenderNode",value:function(e){this._elements.remove(e)}},{key:"findRenderNodeFromElement",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=e;r;){if((t=this.getElementRenderNode(r))&&n(t))return t;if((r=r.parentElement)===this.rootElement)return n(this.rootNode)?this.rootNode:void 0}}},{key:"buildRenderNode",value:function(e){var t=new Nr(e,this);return e.renderNode=t,t}}]),e}(),xr=xn,Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn;switch(t){case yn:return wn(e);case _n:return Cn(e);case Nn:return An(e);case void 0:case null:case xn:return Pn(e);default:Ae("Unknown version of mobiledoc renderer requested: ".concat(t),!1)}};function Rr(e,t,n){return Object.assign(e,t,n)}var Pr=function(){return"undefined"!==typeof document};var Lr=function(){function e(){var t=this;X(this,e),this.type="post",this.sections=new Rt({adoptItem:function(e){return e.post=e._parent=t},freeItem:function(e){return e.post=e._parent=null}})}return Z(e,[{key:"headPosition",value:function(){return this.isBlank?ht.blankPosition():this.sections.head.headPosition()}},{key:"tailPosition",value:function(){return this.isBlank?ht.blankPosition():this.sections.tail.tailPosition()}},{key:"toRange",value:function(){return this.headPosition().toRange(this.tailPosition())}},{key:"isBlank",get:function(){return this.sections.isEmpty}},{key:"hasContent",get:function(){return this.sections.length>1||1===this.sections.length&&!this.sections.head.isBlank}},{key:"markersContainedByRange",value:function(e){var t=[];return this.walkMarkerableSections(e,(function(n){n._markersInRange(e.trimTo(n),(function(e,n){n.isContained&&t.push(e)}))})),t}},{key:"markupsInRange",value:function(e){var t=new Ot;if(e.isCollapsed){var n=e.head;if(n.isMarkerable){var r=[n.markerIn(-1),n.markerIn(1)],i=r[0],a=r[1];i&&a&&i===a?i.markups.forEach((function(e){return t.add(e)})):((i&&i.markups||[]).forEach((function(e){e.isForwardInclusive()&&t.add(e)})),(a&&a.markups||[]).forEach((function(e){e.isBackwardInclusive()&&t.add(e)})))}}else this.walkMarkerableSections(e,(function(n){ne(n.markupsInRange(e.trimTo(n)),(function(e){return t.add(e)}))}));return t.toArray()}},{key:"walkAllLeafSections",value:function(e){var t=this.headPosition().toRange(this.tailPosition());return this.walkLeafSections(t,e)}},{key:"walkLeafSections",value:function(e,t){for(var n,r,i=e.head,a=e.tail,o=0,s=i.section;s&&(n=this._nextLeafSection(s),r=s===a.section,t(s,o),o++,!r);)s=n}},{key:"walkMarkerableSections",value:function(e,t){this.walkLeafSections(e,(function(e){Dt(e)&&t(e)}))}},{key:"_nextLeafSection",value:function(e){if(!e)return null;var t=e.next;return t?t.isLeafSection?t:Qt(t)?t.items.head:void Ae("Cannot determine next section from non-leaf-section",!1):tt(e)?this._nextLeafSection(e.parent):null}},{key:"trimTo",value:function(e){var t=this.builder,n=t.createPost(),r=e.head,i=e.tail,a=0===i.offset&&r.section!==i.section,o=n,s=null;return this.walkLeafSections(e,(function(r){var u;if(Dt(r)){if(Yt(r))s||(s=t.createListSection(r.parent.tagName),n.sections.append(s)),o=null,u=t.createListItem(),s.items.append(u);else{s=null,o=n;var l=a&&i.section===r?"p":r.tagName;u=t.createMarkupSection(l)}var c=e.trimTo(r);ne(r.markersFor(c.headSectionOffset,c.tailSectionOffset),(function(e){return u.markers.append(e)}))}else u=a&&i.section===r?t.createMarkupSection("p"):function(e){if(!("clone"in e))throw new Error("Expected section to be cloneable");return e}(r).clone(),o=n;o&&o.sections.append(u)})),n}}]),e}(),Ir=function(e){z(n,e);var t=Q(n);function n(){var e;return X(this,n),(e=t.call(this,"image-section")).src=null,e}return Z(n,[{key:"clone",value:function(){return this.builder.createImageSection(this.src)}},{key:"canJoin",value:function(){return!1}},{key:"length",get:function(){return 1}}]),n}(et);function Dr(e,t){return"".concat(we(e),"-").concat(se(t).join("-"))}function Fr(e,t){e[Dr(t.tagName,t.attributes)]=t}function Br(e,t,n){return e[Dr(t,n)]}var Ur=function(){function e(){X(this,e),this.markupCache={}}return Z(e,[{key:"createPost",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Lr;return t.builder=this,e.forEach((function(e){return t.sections.append(e)})),t}},{key:"createMarkerableSection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(e){case Ht:return this.createListItem(n);case Ft:return this.createMarkupSection(t,n);default:Ae("Cannot create markerable section of type ".concat(e),!1)}}},{key:"createMarkupSection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=we(e);var i=new en(e,t,r);return n&&(i.isGenerated=!0),i.builder=this,i}},{key:"createListSection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=we(e);var r=new qt(e,t,n);return r.builder=this,r}},{key:"createListItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=we("li"),n=new Gt(t,e);return n.builder=this,n}},{key:"createImageSection",value:function(e){var t=new Ir;return e&&(t.src=e),t.builder=this,t}},{key:"createCardSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new rt(e,t);return n.builder=this,n}},{key:"createMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Fe(e,t);return n.builder=this,n}},{key:"createAtom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=new it(e,t,n,r);return i.builder=this,i}},{key:"createMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=we(e);var n=Br(this.markupCache,e,t);return n||((n=new fr(e,t)).builder=this,Fr(this.markupCache,n)),n}}]),e}();function Hr(e,t){var n=e.range.head,r=n.section;n.isTail()&&(r.isListItem||e.run((function(e){var n=e.builder,i=n.createListItem(),a=n.createListSection(t,[i]);e.replaceSection(r,a),e.setRange(a.headPosition())})))}var jr=[{name:"ul",match:/^\* $/,run:function(e){Hr(e,"ul")}},{name:"ol",match:/^1\.? $/,run:function(e){Hr(e,"ol")}},{name:"heading",match:/^(#{1,6}) $/,run:function(e,t){!function(e,t){var n=e.range,r=n.head,i=n.head.section;r.isTail()&&e.run((function(e){var n=e.builder.createMarkupSection(t);e.replaceSection(i,n),e.setRange(n.headPosition())}))}(e,"h"+t[1].length)}}],zr=function(){return"undefined"!==typeof window&&window.navigator&&/Mac/.test(window.navigator.platform)},Wr=function(){return"undefined"!==typeof window&&window.navigator&&/Win/.test(window.navigator.platform)},Kr=function(){return"undefined"!==typeof window&&"chrome"in window};function Vr(e){var t=e.post;e.selectRange(t.toRange())}var qr=[{str:"META+B",run:function(e){e.toggleMarkup("strong")}},{str:"CTRL+B",run:function(e){e.toggleMarkup("strong")}},{str:"META+I",run:function(e){e.toggleMarkup("em")}},{str:"CTRL+I",run:function(e){e.toggleMarkup("em")}},{str:"META+U",run:function(e){e.toggleMarkup("u")}},{str:"CTRL+U",run:function(e){e.toggleMarkup("u")}},{str:"CTRL+K",run:function(e){return zr()?function(e){var t=e.range;if(t.isCollapsed){var n=t,r=n.head,i=n.head.section;t=r.toRange(i.tailPosition())}e.run((function(e){var n=e.deleteRange(t);e.setRange(n)}))}(e):Wr()?mt(e):void 0}},{str:"CTRL+A",run:function(e){zr()?function(e){var t=e.range.tail.section;e.run((function(e){e.setRange(t.headPosition())}))}(e):Vr(e)}},{str:"META+A",run:function(e){zr()&&Vr(e)}},{str:"CTRL+E",run:function(e){zr()&&function(e){var t=e.range.tail.section;e.run((function(e){e.setRange(t.tailPosition())}))}(e)}},{str:"META+K",run:function(e){return mt(e)}},{str:"META+Z",run:function(e){e.run((function(e){e.undoLastChange()}))}},{str:"META+SHIFT+Z",run:function(e){e.run((function(e){e.redoLastChange()}))}},{str:"CTRL+Z",run:function(e){if(zr())return!1;e.run((function(e){return e.undoLastChange()}))}},{str:"CTRL+SHIFT+Z",run:function(e){if(zr())return!1;e.run((function(e){return e.redoLastChange()}))}}];function Qr(e){var t=e.toUpperCase(),n=ze[t];return n||(Ae('Only 1 character can be used in a key command str (got "'.concat(e,'")'),1===e.length),t.charCodeAt(0))}function $r(e){if(function(e){return void 0===e.str}(e))return e;Ae("[deprecation] Key commands no longer use the `modifier` property",!e.modifier);var t,n=e.str,r=e.run,i=e.name,a=D(n.split("+").reverse()),o=a[0],s=a.slice(1);return{name:i,run:r,modifierMask:(t=s,ae(t,(function(e,t){var n=je[t.toUpperCase()];return Ae('No modifier named "'.concat(t,'" found'),!!n),e+n}),0)),code:Qr(o)}}var Gr=function(){function e(t){var n=this;X(this,e),this.editor=t,this.logger=t.loggerFor("mutation-handler"),this.renderTree=null,this._isObserving=!1,this._observer=new MutationObserver((function(e){n._handleMutations(e)}))}return Z(e,[{key:"init",value:function(){this.startObserving()}},{key:"destroy",value:function(){this.stopObserving(),this._observer=null}},{key:"suspendObservation",value:function(e){this.stopObserving(),e(),this.startObserving()}},{key:"stopObserving",value:function(){this._isObserving&&(this._isObserving=!1,this._observer.disconnect())}},{key:"startObserving",value:function(){if(!this._isObserving){var e=this.editor;Ae("Cannot observe un-rendered editor",e.hasRendered),this._isObserving=!0,this.renderTree=e._renderTree,this._observer.observe(e.element,{characterData:!0,childList:!0,subtree:!0})}}},{key:"reparsePost",value:function(){this.editor._reparsePost()}},{key:"reparseSections",value:function(e){this.editor._reparseSections(e)}},{key:"_handleMutations",value:function(e){for(var t=!1,n=new Ot,r=0;r<e.length&&!t;r++)for(var i=this._findTargetNodes(e[r]),a=0;a<i.length;a++){var o=i[a],s=this._findRenderNodeFromNode(o);if(!s){t=!0;break}if(s.reparsesMutationOfChildNode(o)){var u=this._findSectionFromRenderNode(s);u?n.add(u):t=!0}}t?(this.logger.log("reparsePost (".concat(e.length," mutations)")),this.reparsePost()):n.length&&(this.logger.log("reparse ".concat(n.length," sections (").concat(e.length," mutations)")),this.reparseSections(n.toArray()))}},{key:"_findTargetNodes",value:function(e){var t=[];switch(e.type){case"characterData":t.push(e.target);break;case"childList":ne(e.addedNodes,(function(e){return t.push(e)})),e.removedNodes.length&&t.push(e.target)}var n=this.editor.element;return re(t,(function(e){return ye(n,e)}))}},{key:"_findSectionRenderNodeFromNode",value:function(e){return this.renderTree.findRenderNodeFromElement(e,(function(e){return e.postNode.isSection}))}},{key:"_findRenderNodeFromNode",value:function(e){return this.renderTree.findRenderNodeFromElement(e)}},{key:"_findSectionFromRenderNode",value:function(e){var t=this._findSectionRenderNodeFromNode(e.element);return t&&t.postNode}}]),e}(),Yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;X(this,e),this._maxLength=t,this._items=[]}return Z(e,[{key:"length",get:function(){return this._items.length}},{key:"pop",value:function(){return this._items.pop()}},{key:"push",value:function(e){this._items.push(e),this.length>this._maxLength&&this._items.shift()}},{key:"clear",value:function(){this._items=[]}},{key:"toArray",value:function(){return this._items}}]),e}();function Xr(e,t){var n;return e.walkAllLeafSections((function(e,r){t===r&&(n=e)})),n}var Jr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;X(this,e),this.mobiledoc=n.serialize(),this.editor=n,this.editAction=r,this.takenAt=t,this.snapshotRange()}return Z(e,[{key:"snapshotRange",value:function(){var e=this.editor,t=e.range;if(e.cursor.hasCursor()&&!t.isBlank){var n=t.head,r=t.tail;this.range={head:[n.leafSectionIndex,n.offset],tail:[r.leafSectionIndex,r.offset]}}}},{key:"getRange",value:function(e){if(this.range){var t=this.range,n=t.head,r=t.tail,i=Y(n,2),a=i[0],o=i[1],s=Y(r,2),u=s[0],l=s[1],c=Xr(e,a),d=Xr(e,u),f=c.toPosition(o),h=d.toPosition(l);return f.toRange(h)}}},{key:"groupsWith",value:function(e,t,n){return null!==t&&this.editAction===t&&this.takenAt+e>n}}]),e}(),Zr=function(){function e(t,n,r){X(this,e),this.editor=t,this._undoStack=new Yr(n),this._redoStack=new Yr(n),this._pendingSnapshot=null,this._groupingTimeout=r}return Z(e,[{key:"snapshot",value:function(){this._pendingSnapshot&&this._pendingSnapshot.snapshotRange()}},{key:"storeSnapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Date.now(),n=this._pendingSnapshot;n&&(n.groupsWith(this._groupingTimeout,e,t)||this._undoStack.push(n),this._redoStack.clear()),this._pendingSnapshot=new Jr(t,this.editor,e)}},{key:"stepBackward",value:function(e){this._pendingSnapshot=null;var t=this._undoStack.pop();t&&(this._redoStack.push(new Jr(Date.now(),this.editor)),this._restoreFromSnapshot(t,e))}},{key:"stepForward",value:function(e){var t=this._redoStack.pop();t&&(this._undoStack.push(new Jr(Date.now(),this.editor)),this._restoreFromSnapshot(t,e)),e.cancelSnapshot()}},{key:"_restoreFromSnapshot",value:function(e,t){var n=e.mobiledoc,r=this.editor,i=r.builder,a=r.post,o=Ln(i,n);t.removeAllSections(),t.migrateSectionsFromPost(o);var s=e.getRange(a);s&&t.setRange(s)}}]),e}(),ei=/^\* (.*)$/,ti=/^\d\.? (.*)$/,ni="\n",ri=new RegExp("\r","g"),ii=new RegExp("\r\n","g");var ai=function(){function e(t,n){X(this,e),this.builder=t,this.options=n,this.post=this.builder.createPost(),this.prevSection=null}return Z(e,[{key:"parse",value:function(e){var t=this;return(e=function(e){return e.replace(ii,ni).replace(ri,ni)}(e)).split("\n").forEach((function(e){var n=t._parseSection(e);t._appendSection(n)})),this.post}},{key:"_parseSection",value:function(e){var t,n=Zt,r=Ft;ei.test(e)?(n="ul",r=Bt,e=e.match(ei)[1]):ti.test(e)&&(n="ol",r=Bt,e=e.match(ti)[1]);var i=[this.builder.createMarker(e)];switch(r){case Bt:var a=this.builder.createListItem(i);t=this.builder.createListSection(n,[a]);break;case Ft:t=this.builder.createMarkupSection(n,i);break;default:Ae("Unknown type encountered ".concat(r),!1)}return t}},{key:"_appendSection",value:function(e){var t=this;Qt(e)&&this.prevSection&&Qt(this.prevSection)&&this.prevSection.tagName===e.tagName?e.items.forEach((function(e){t.prevSection.items.append(e.clone())})):(this.post.sections.insertAfter(e,this.prevSection),this.prevSection=e)}}]),e}(),oi="text/plain",si="text/html",ui="Text",li=new RegExp(/data-mobiledoc='(.*?)'>/);function ci(e,t,n){var r;if(li.test(e)){var i=e.match(li)[1],a=JSON.parse(i);r=Ln(t,a)}else r=new Cr(t,{plugins:n}).parse(e);return r}function di(e,t,n){return new ai(t,{plugins:n}).parse(e)}function fi(e,t){var n="",r="",i=e.clipboardData;return i&&i.getData?(n=i.getData(si),r=i.getData(oi)):t.clipboardData&&t.clipboardData.getData&&(n=t.clipboardData.getData(ui)),{html:n,text:r}}function hi(e,t){var n="",r="";try{n=e.dataTransfer.getData(si),r=e.dataTransfer.getData(oi)}catch(i){t&&t.log("Error getting drop data: ",i)}return{html:n,text:r}}var pi,vi=function(){function e(t){X(this,e),this.editor=t,this._handlers=[]}return Z(e,[{key:"register",value:function(e){Ae("Input Handler is not valid",this._validateHandler(e)),this._handlers.push(e)}},{key:"unregister",value:function(e){for(var t=this._handlers,n=0;n<t.length;n++)t[n].name===e&&t.splice(n,1)}},{key:"handle",value:function(e){var t=this.editor;t.insertText(e);var n=this._findHandler();if(n){var r=Y(n,2),i=r[0],a=r[1];i.run(t,a)}}},{key:"handleNewLine",value:function(){var e=this.editor,t=this._findHandler("\n");if(t){var n=Y(t,2),r=n[0],i=n[1];r.run(e,i)}}},{key:"_findHandler",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.editor,n=t.range,r=n.head,i=r.section,a=i.textUntil(r)+e,o=0;o<this._handlers.length;o++){var s=this._handlers[o];if("text"in s&&Se(a,s.text))return[s,[s.text]];if("match"in s&&s.match.test(a))return[s,s.match.exec(a)]}}},{key:"_validateHandler",value:function(e){return Tt('Registered input handlers require a "name" property so that they can be unregistered',!!e.name),!!e.run&&(!!e.text||!!e.match)&&!(e.text&&e.match)}},{key:"destroy",value:function(){this._handlers=[]}}]),e}(),mi=function(){function e(){X(this,e),this.started=!1,this.listeners=[],this.selection={}}return Z(e,[{key:"addListener",value:function(e){-1===this.listeners.indexOf(e)&&(this.listeners.push(e),this.start())}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&(this.listeners.splice(t,1),0===this.listeners.length&&this.stop())}},{key:"start",value:function(){this.started||(this.started=!0,this.poll())}},{key:"stop",value:function(){this.started=!1,this.selection={}}},{key:"notifyListeners",value:function(e,t){this.listeners.forEach((function(n){n.selectionDidChange(e,t)}))}},{key:"destroy",value:function(){this.stop(),this.listeners=[]}},{key:"getSelection",value:function(){var e=window.getSelection();return{anchorNode:e.anchorNode,focusNode:e.focusNode,anchorOffset:e.anchorOffset,focusOffset:e.focusOffset}}},{key:"poll",value:function(){var e=this;this.started&&(this.update(),this.runNext((function(){return e.poll()})))}},{key:"runNext",value:function(e){window.requestAnimationFrame(e)}},{key:"update",value:function(){var e=this.selection,t=this.getSelection();this.selectionIsEqual(e,t)||(this.selection=t,this.notifyListeners(t,e))}},{key:"selectionIsEqual",value:function(e,t){return e.anchorNode===t.anchorNode&&e.anchorOffset===t.anchorOffset&&e.focusNode===t.focusNode&&e.focusOffset===t.focusOffset}}],[{key:"getInstance",value:function(){return pi||(pi=new e),pi}},{key:"addListener",value:function(t){e.getInstance().addListener(t)}},{key:"removeListener",value:function(t){e.getInstance().removeListener(t)}}]),e}(),ki=function(){function e(t,n){X(this,e),this.editor=t,this.callback=n,this.started=!1}return Z(e,[{key:"start",value:function(){this.started||(mi.addListener(this),this.started=!0)}},{key:"stop",value:function(){this.started=!1,mi.removeListener(this)}},{key:"destroy",value:function(){this.stop()}},{key:"selectionDidChange",value:function(e,t){this.started&&this.callback(e,t)}}]),e}(),yi=["keydown","keyup","cut","copy","paste","keypress","drop","compositionstart","compositionend"],gi=function(){function e(t){X(this,e),this.editor=t,this.logger=t.loggerFor("event-manager"),this._textInputHandler=new vi(t),this._listeners=[],this.modifierKeys={shift:!1},this._selectionManager=new ki(this.editor,this.selectionDidChange.bind(this)),this.started=!0,this._isComposingOnBlankLine=!1}return Z(e,[{key:"init",value:function(){var e=this,t=this.editor.element;Ae("Cannot init EventManager without element",!!t),yi.forEach((function(n){e._addListener(t,n)})),this._selectionManager.start()}},{key:"start",value:function(){this.started=!0}},{key:"stop",value:function(){this.started=!1}},{key:"registerInputHandler",value:function(e){this._textInputHandler.register(e)}},{key:"unregisterInputHandler",value:function(e){this._textInputHandler.unregister(e)}},{key:"unregisterAllTextInputHandlers",value:function(){this._textInputHandler.destroy(),this._textInputHandler=new vi(this.editor)}},{key:"_addListener",value:function(e,t){var n=this;Ae("Missing listener for ".concat(t),!!this[t]);var r=function(e){return n._handleEvent(t,e)};e.addEventListener(t,r),this._listeners.push([e,t,r])}},{key:"_removeListeners",value:function(){this._listeners.forEach((function(e){var t=Y(e,3),n=t[0],r=t[1],i=t[2];n.removeEventListener(r,i)})),this._listeners=[]}},{key:"_trigger",value:function(e,t,n){ne(re(this._listeners,(function(n){var r=Y(n,2),i=r[0],a=r[1];return i===e&&a===t})),(function(e){var t=Y(e,3),r=t[0];t[2].call(r,n)}))}},{key:"destroy",value:function(){this._textInputHandler.destroy(),this._selectionManager.destroy(),this._removeListeners()}},{key:"_handleEvent",value:function(e,t){var n=t.target;return!this.started||(!this.isElementAddressable(n)||void this[e](t))}},{key:"isElementAddressable",value:function(e){return this.editor.cursor.isAddressable(e)}},{key:"selectionDidChange",value:function(e){var t=!0,n=e.anchorNode;this.isElementAddressable(n)||(t=!this.editor.range.isBlank),t&&this.editor._readRangeFromDOM()}},{key:"keypress",value:function(e){var t=this.editor,n=this._textInputHandler;if(t.hasCursor()){var r=We.fromEvent(e);if(r.isPrintable()){if(e.preventDefault(),!r.isEnter()&&13===r.keyCode)return n.handleNewLine(),void t.handleNewline(e);n.handle(r.toString())}}}},{key:"keydown",value:function(e){var t=this.editor;if(t.hasCursor()&&t.isEditable){var n=We.fromEvent(e);if(this._updateModifiersFromKey(n,{isDown:!0}),!t.handleKeyCommand(e)){t.post.isBlank&&t._insertEmptyMarkupSectionAtCursor();var r=t.range;switch(!0){case n.isIME():break;case n.isHorizontalArrowWithoutModifiersOtherThanShift():var i;i=n.isShift()?r.extend(1*n.direction):r.move(n.direction),t.selectRange(i),e.preventDefault();break;case n.isDelete():var a=n.direction,o=sa.CHAR;(n.altKey&&zr()||n.ctrlKey&&!zr())&&(o=sa.WORD),t.performDelete({direction:a,unit:o}),e.preventDefault();break;case n.isEnter():this._textInputHandler.handleNewLine(),t.handleNewline(e);break;case n.isTab():e.preventDefault(),this._textInputHandler.handle(n.toString())}}}}},{key:"keyup",value:function(e){if(this.editor.hasCursor()){var t=We.fromEvent(e);this._updateModifiersFromKey(t,{isDown:!1})}}},{key:"compositionstart",value:function(e){var t=this.editor;t.range.headMarker||(this._isComposingOnBlankLine=!0,t.post.isBlank&&t._insertEmptyMarkupSectionAtCursor(),Kr()?(t.setPlaceholder(""),t._mutationHandler.stopObserving()):this._textInputHandler.handle(" "))}},{key:"compositionend",value:function(e){var t=this.editor;if(this._isComposingOnBlankLine)if(this._isComposingOnBlankLine=!1,Kr())t.insertText(e.data),t.setPlaceholder(t.placeholder),t._mutationHandler.startObserving();else{var n=t.range.headSection.toPosition(0),r=t.range.headSection.toPosition(e.data.length);t.run((function(e){e.deleteAtPosition(n,1,{unit:sa.CHAR}),e.setRange(r)}))}}},{key:"cut",value:function(e){e.preventDefault(),this.copy(e),this.editor.performDelete()}},{key:"copy",value:function(e){e.preventDefault();var t=this.editor,n=this.editor,r=n.range,i=n.post;i=i.trimTo(r);var a={html:t.serializePost(i,oa.HTML),text:t.serializePost(i,oa.TEXT),mobiledoc:t.serializePost(i,oa.MOBILEDOC)};t.runCallbacks("willCopy",[a]),function(e,t,n){var r=t.mobiledoc,i=t.html,a=t.text;r&&i&&(i="<div data-mobiledoc='".concat(JSON.stringify(r),"'>").concat(i,"</div>"));var o=e.clipboardData,s=n.clipboardData;o&&o.setData?(o.setData(si,i),o.setData(oi,a)):s&&s.setData&&s.setData(ui,i)}(e,a,window)}},{key:"paste",value:function(e){e.preventDefault();var t=this.editor;t.range.isCollapsed||t.performDelete(),t.post.isBlank&&t._insertEmptyMarkupSectionAtCursor();var n=t.range.head,r=function(e,t){var n=t.builder,r=t._parserPlugins,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{targetFormat:"html"}).targetFormat,a=fi(e,window),o=a.html,s=a.text;return"html"===i&&o&&o.length?ci(o,n,r):s&&s.length?di(s,n,r):void 0}(e,t,{targetFormat:this.modifierKeys.shift?"text":"html"});t.run((function(e){var t=e.insertPost(n,r);e.setRange(t)}))}},{key:"drop",value:function(e){e.preventDefault();var t=e.clientX,n=e.clientY,r=this.editor,i=r.positionAtPoint(t,n);if(i){var a=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).logger,r=t.builder,i=t._parserPlugins,a=hi(e,n),o=a.html,s=a.text;return o&&o.length?ci(o,r,i):s&&s.length?di(s,r,i):void 0}(e,r,{logger:this.logger});a?r.run((function(e){var t=e.insertPost(i,a);e.setRange(t)})):this.logger.log("Could not determine post from drop event")}else this.logger.log("Could not find drop position")}},{key:"_updateModifiersFromKey",value:function(e,t){var n=t.isDown;e.isShiftKey()&&(this.modifierKeys.shift=n)}}]),e}(),bi=function(){function e(t){X(this,e),this.editor=t;var n={range:Ge.blankRange(),activeMarkups:[],activeSections:[],activeSectionTagNames:[],activeSectionAttributes:{}};this.prevState=this.state=n}return Z(e,[{key:"updateRange",value:function(e){this.prevState=this.state,this.state=this._readState(e)}},{key:"destroy",value:function(){this.editor=null,this.prevState=this.state=null}},{key:"rangeDidChange",value:function(){var e=this.state,t=this.prevState,n=e.range;return!t.range.isEqual(n)}},{key:"inputModeDidChange",value:function(){var e=this.state,t=this.prevState;return!ue(e.activeMarkups,t.activeMarkups)||!ue(e.activeSectionTagNames,t.activeSectionTagNames)||!ue(se(e.activeSectionAttributes),se(t.activeSectionAttributes))}},{key:"range",get:function(){return this.state.range}},{key:"activeSections",get:function(){return this.state.activeSections}},{key:"activeSectionAttributes",get:function(){return this.state.activeSectionAttributes}},{key:"activeMarkups",get:function(){return this.state.activeMarkups}},{key:"toggleMarkupState",value:function(e){ce(this.activeMarkups,e)?this._removeActiveMarkup(e):this._addActiveMarkup(e)}},{key:"_readState",value:function(e){var t={range:e,activeMarkups:this._readActiveMarkups(e),activeSections:this._readActiveSections(e)};return t.activeSectionTagNames=t.activeSections.map((function(e){return e.isNested?e.parent.tagName:e.tagName})),t.activeSectionAttributes=this._readSectionAttributes(t.activeSections),t}},{key:"_readActiveSections",value:function(e){var t=e.head,n=e.tail,r=this.editor.post;return e.isBlank?[]:r.sections.readRange(t.section,n.section)}},{key:"_readActiveMarkups",value:function(e){return this.editor.post.markupsInRange(e)}},{key:"_readSectionAttributes",value:function(e){return e.reduce((function(e,t){var n,r=tt(n=t)?n.parent.attributes||{}:n.attributes||{};return Object.keys(r).forEach((function(t){var n=t.replace(/^data-md-/,""),i=r[t];e[n]=e[n]||[],ce(e[n],i)||e[n].push(i)})),e}),{})}},{key:"_removeActiveMarkup",value:function(e){var t=this.state.activeMarkups.indexOf(e);this.state.activeMarkups.splice(t,1)}},{key:"_addActiveMarkup",value:function(e){this.state.activeMarkups.push(e)}}]),e}();function wi(e,t){return e.createTextNode(function(e){return e.replace(/  /g," \xa0")}(t))}function _i(e){return e.toLowerCase()}var Ei="dom",Si={name:"image",type:Ei,render:function(e){var t=e.payload,n=e.env.dom.createElement("img");return n.src=t.src,n}},Ci=["p","h1","h2","h3","h4","h5","h6","blockquote","pull-quote","aside"].map(_i),Ni=["p","h1","h2","h3","h4","h5","h6","blockquote","aside"].map(_i),Mi=["ul","ol"].map(_i),Ti=["b","i","strong","em","a","u","sub","sup","s","code"].map(_i);function Ai(e,t){return-1!==e.indexOf(t)}function xi(e,t){switch(e=_i(e),t){case 1:return Ai(Ci,e);case 3:return Ai(Mi,e);default:throw new Error('Cannot validate tagName for unknown section type "'.concat(t,'"'))}}function Oi(e){return e=_i(e),Ai(Ni,e)}function Ri(e){return e=_i(e),Ai(Ti,e)}var Pi=/^([a-z0-9.+-]+:)/i,Li=["javascript:","vbscript:"];function Ii(e){var t=function(e){var t=e&&e.match(Pi);return t&&t[0]||":"}(e).toLowerCase();return function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}(Li,t)?"unsafe:".concat(e):e}function Di(e){for(var t={},n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r.toLowerCase()]=i}return t}var Fi=["data-md-text-align"];function Bi(e,t,n){if(r=t,-1===Fi.indexOf(r))throw new Error("Cannot use attribute: ".concat(t));var r;e.setAttribute(t,n)}function Ui(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Oi(e)?(n=t.createElement(e),Object.keys(r).forEach((function(e){Bi(n,e,r[e])}))):(n=t.createElement("div")).setAttribute("class",e),n}function Hi(e,t,n){var r=t.createElement(e);return Object.keys(n).forEach((function(t){var i=n[t];i=function(e,t,n){return"a"===e&&"href"===t?Ii(n):n}(e,t,i),r.setAttribute(t,i)})),r}var ji="0.2.0";var zi=function(){function e(t,n){var r=this;X(this,e);var i=n.cards,a=n.cardOptions,o=n.unknownCardHandler,s=n.markupElementRenderer,u=n.sectionElementRenderer,l=n.dom,c=t.version,d=t.sections;!function(e){if(e!==ji)throw new Error('Unexpected Mobiledoc version "'.concat(e,'"'))}(c);var f=Y(d,2),h=f[0],p=f[1];this.dom=l,this.root=l.createDocumentFragment(),this.markerTypes=h,this.sections=p,this.cards=i,this.cardOptions=a,this.unknownCardHandler=o||this._defaultUnknownCardHandler,this.sectionElementRenderer={__default__:Ui},Object.keys(u).forEach((function(e){r.sectionElementRenderer[e.toLowerCase()]=u[e]})),this.markupElementRenderer={__default__:Hi},Object.keys(s).forEach((function(e){r.markupElementRenderer[e.toLowerCase()]=s[e]})),this._renderCallbacks=[],this._teardownCallbacks=[],this._renderedChildNodes=[]}return Z(e,[{key:"_defaultUnknownCardHandler",get:function(){return function(e){var t=e.env.name;throw new Error('Card "'.concat(t,'" not found but no unknownCardHandler was registered'))}}},{key:"render",value:function(){var e=this;this.sections.forEach((function(t){var n=e.renderSection(t);n&&e.root.appendChild(n)}));for(var t=0;t<this._renderCallbacks.length;t++)this._renderCallbacks[t]();this._renderedChildNodes=[];for(var n=this.root.firstChild;n;)this._renderedChildNodes.push(n),n=n.nextSibling;return{result:this.root,teardown:function(){return e.teardown()}}}},{key:"teardown",value:function(){for(var e=0;e<this._teardownCallbacks.length;e++)this._teardownCallbacks[e]();for(var t=0;t<this._renderedChildNodes.length;t++){var n=this._renderedChildNodes[t];n.parentNode&&n.parentNode.removeChild(n)}}},{key:"renderSection",value:function(e){var t=Y(e,1)[0];switch(t){case 1:return this.renderMarkupSection(e);case 2:return this.renderImageSection(e);case 3:return this.renderListSection(e);case 10:return this.renderCardSection(e);default:throw new Error('Cannot render mobiledoc section of type "'.concat(t,'"'))}}},{key:"renderMarkersOnElement",value:function(e,t){for(var n,r=[e],i=e,a=0,o=t.length;a<o;a++){for(var s=Y(t[a],3),u=s[0],l=s[1],c=s[2],d=0,f=u.length;d<f;d++){var h=Y(this.markerTypes[u[d]],2),p=h[0],v=h[1],m=void 0===v?[]:v;Ri(p)?(n=this.renderMarkupElement(p,m),i.appendChild(n),r.push(n),i=n):l--}i.appendChild(wi(this.dom,c));for(var k=0,y=l;k<y;k++)r.pop(),i=r[r.length-1]}}},{key:"renderMarkupElement",value:function(e,t){return e=e.toLowerCase(),t=Di(t),this.markupElementRendererFor(e)(e,this.dom,t)}},{key:"markupElementRendererFor",value:function(e){return this.markupElementRenderer[e]||this.markupElementRenderer.__default__}},{key:"renderListItem",value:function(e){var t=this.dom.createElement("li");return this.renderMarkersOnElement(t,e),t}},{key:"renderListSection",value:function(e){var t=this,n=Y(e,3),r=(n[0],n[1]),i=n[2];if(xi(r,3)){var a=this.dom.createElement(r);return i.forEach((function(e){a.appendChild(t.renderListItem(e))})),a}}},{key:"renderImageSection",value:function(e){var t=Y(e,2),n=(t[0],t[1]),r=this.dom.createElement("img");return r.src=n,r}},{key:"findCard",value:function(e){for(var t=0;t<this.cards.length;t++)if(this.cards[t].name===e)return this.cards[t];return e===Si.name?Si:this._createUnknownCard(e)}},{key:"_createUnknownCard",value:function(e){return{name:e,type:Ei,render:this.unknownCardHandler}}},{key:"_createCardArgument",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={name:e.name,isInEditor:!1,dom:this.dom,didRender:function(e){return t._registerRenderCallback(e)},onTeardown:function(e){return t._registerTeardownCallback(e)}},i=this.cardOptions;return{env:r,options:i,payload:n}}},{key:"_registerRenderCallback",value:function(e){this._renderCallbacks.push(e)}},{key:"_registerTeardownCallback",value:function(e){this._teardownCallbacks.push(e)}},{key:"renderCardSection",value:function(e){var t=Y(e,3),n=(t[0],t[1]),r=t[2],i=this.findCard(n),a=this._createCardArgument(i,r),o=i.render(a);return this._validateCardRender(o,i.name),o}},{key:"_validateCardRender",value:function(e,t){if(e&&"object"!==typeof e)throw new Error('Card "'.concat(t,'" must render ').concat(Ei,', but result was "').concat(e,'"'))}},{key:"renderMarkupSection",value:function(e){var t=Y(e,3),n=(t[0],t[1]),r=t[2];if(xi(n=n.toLowerCase(),1)){var i=this.sectionElementRendererFor(n)(n,this.dom);return this.renderMarkersOnElement(i,r),i}}},{key:"sectionElementRendererFor",value:function(e){return this.sectionElementRenderer[e]||this.sectionElementRenderer.__default__}}]),e}(),Wi="0.3.0",Ki="0.3.1",Vi="0.3.2";var qi=function(){function e(t,n){var r=this;X(this,e);var i=n.cards,a=n.cardOptions,o=n.atoms,s=n.unknownCardHandler,u=n.unknownAtomHandler,l=n.markupElementRenderer,c=n.sectionElementRenderer,d=n.dom,f=t.version,h=t.sections,p=t.atoms,v=t.cards,m=t.markups;!function(e){switch(e){case Wi:case Ki:case Vi:return;default:throw new Error('Unexpected Mobiledoc version "'.concat(e,'"'))}}(f),this.dom=d,this.root=this.dom.createDocumentFragment(),this.sections=h,this.atomTypes=p,this.cardTypes=v,this.markerTypes=m,this.cards=i,this.atoms=o,this.cardOptions=a,this.unknownCardHandler=s||this._defaultUnknownCardHandler,this.unknownAtomHandler=u||this._defaultUnknownAtomHandler,this.sectionElementRenderer={__default__:Ui},Object.keys(c).forEach((function(e){r.sectionElementRenderer[e.toLowerCase()]=c[e]})),this.markupElementRenderer={__default__:Hi},Object.keys(l).forEach((function(e){r.markupElementRenderer[e.toLowerCase()]=l[e]})),this._renderCallbacks=[],this._teardownCallbacks=[]}return Z(e,[{key:"_defaultUnknownCardHandler",get:function(){return function(e){var t=e.env.name;throw new Error('Card "'.concat(t,'" not found but no unknownCardHandler was registered'))}}},{key:"_defaultUnknownAtomHandler",get:function(){return function(e){var t=e.env.name;throw new Error('Atom "'.concat(t,'" not found but no unknownAtomHandler was registered'))}}},{key:"render",value:function(){var e=this;this.sections.forEach((function(t){var n=e.renderSection(t);n&&e.root.appendChild(n)}));for(var t=0;t<this._renderCallbacks.length;t++)this._renderCallbacks[t]();return this._renderedChildNodes=Array.prototype.slice.call(this.root.childNodes),{result:this.root,teardown:function(){return e.teardown()}}}},{key:"teardown",value:function(){for(var e=0;e<this._teardownCallbacks.length;e++)this._teardownCallbacks[e]();for(var t=0;t<this._renderedChildNodes.length;t++){var n=this._renderedChildNodes[t];n.parentNode&&n.parentNode.removeChild(n)}}},{key:"renderSection",value:function(e){var t=Y(e,1)[0];switch(t){case 1:return this.renderMarkupSection(e);case 2:return this.renderImageSection(e);case 3:return this.renderListSection(e);case 10:return this.renderCardSection(e);default:throw new Error('Cannot render mobiledoc section of type "'.concat(t,'"'))}}},{key:"renderMarkersOnElement",value:function(e,t){for(var n,r=[e],i=e,a=0,o=t.length;a<o;a++){for(var s=Y(t[a],4),u=s[0],l=s[1],c=s[2],d=s[3],f=0,h=l.length;f<h;f++){var p=Y(this.markerTypes[l[f]],2),v=p[0],m=p[1],k=void 0===m?[]:m;Ri(v)?(n=this.renderMarkupElement(v,k),i.appendChild(n),r.push(n),i=n):c--}switch(u){case 0:i.appendChild(wi(this.dom,d));break;case 1:i.appendChild(this._renderAtom(d));break;default:throw new Error("Unknown markup type (".concat(u,")"))}for(var y=0,g=c;y<g;y++)r.pop(),i=r[r.length-1]}}},{key:"renderMarkupElement",value:function(e,t){return e=e.toLowerCase(),t=Di(t),this.markupElementRendererFor(e)(e,this.dom,t)}},{key:"markupElementRendererFor",value:function(e){return this.markupElementRenderer[e]||this.markupElementRenderer.__default__}},{key:"renderListItem",value:function(e){var t=this.dom.createElement("li");return this.renderMarkersOnElement(t,e),t}},{key:"renderListSection",value:function(e){var t=this,n=Y(e,3),r=(n[0],n[1]),i=n[2];if(xi(r,3)){var a=this.dom.createElement(r);return i.forEach((function(e){a.appendChild(t.renderListItem(e))})),a}}},{key:"renderImageSection",value:function(e){var t=Y(e,2),n=(t[0],t[1]),r=this.dom.createElement("img");return r.src=n,r}},{key:"findCard",value:function(e){for(var t=0;t<this.cards.length;t++)if(this.cards[t].name===e)return this.cards[t];return e===Si.name?Si:this._createUnknownCard(e)}},{key:"_findCardByIndex",value:function(e){var t=this.cardTypes[e];if(!t)throw new Error("No card definition found at index ".concat(e));var n=Y(t,2),r=n[0],i=n[1];return{card:this.findCard(r),payload:i}}},{key:"_createUnknownCard",value:function(e){return{name:e,type:Ei,render:this.unknownCardHandler}}},{key:"_createCardArgument",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={name:e.name,isInEditor:!1,dom:this.dom,didRender:function(e){return t._registerRenderCallback(e)},onTeardown:function(e){return t._registerTeardownCallback(e)}},i=this.cardOptions;return{env:r,options:i,payload:n}}},{key:"_registerTeardownCallback",value:function(e){this._teardownCallbacks.push(e)}},{key:"_registerRenderCallback",value:function(e){this._renderCallbacks.push(e)}},{key:"renderCardSection",value:function(e){var t=Y(e,2),n=(t[0],t[1]),r=this._findCardByIndex(n),i=r.card,a=r.payload,o=this._createCardArgument(i,a),s=i.render(o);return this._validateCardRender(s,i.name),s}},{key:"_validateCardRender",value:function(e,t){if(e&&"object"!==typeof e)throw new Error('Card "'.concat(t,'" must render ').concat(Ei,', but result was "').concat(e,'"'))}},{key:"findAtom",value:function(e){for(var t=0;t<this.atoms.length;t++)if(this.atoms[t].name===e)return this.atoms[t];return this._createUnknownAtom(e)}},{key:"_createUnknownAtom",value:function(e){return{name:e,type:Ei,render:this.unknownAtomHandler}}},{key:"_createAtomArgument",value:function(e,t,n){var r=this;return{env:{name:e.name,isInEditor:!1,dom:this.dom,onTeardown:function(e){return r._registerTeardownCallback(e)}},options:this.cardOptions,value:t,payload:n}}},{key:"_validateAtomRender",value:function(e,t){if(e&&"object"!==typeof e)throw new Error('Atom "'.concat(t,'" must render ').concat(Ei,', but result was "').concat(e,'"'))}},{key:"_findAtomByIndex",value:function(e){var t=this.atomTypes[e];if(!t)throw new Error("No atom definition found at index ".concat(e));var n=Y(t,3),r=n[0],i=n[1],a=n[2];return{atom:this.findAtom(r),value:i,payload:a}}},{key:"_renderAtom",value:function(e){var t=this._findAtomByIndex(e),n=t.atom,r=t.value,i=t.payload,a=this._createAtomArgument(n,r,i),o=n.render(a);return this._validateAtomRender(o,n.name),o||wi(this.dom,"")}},{key:"renderMarkupSection",value:function(e){var t=Y(e,4),n=(t[0],t[1]),r=t[2],i=t[3],a=void 0===i?[]:i;if(xi(n=n.toLowerCase(),1)){var o=Di(a),s=this.sectionElementRendererFor(n)(n,this.dom,o);return this.renderMarkersOnElement(s,r),s}}},{key:"sectionElementRendererFor",value:function(e){return this.sectionElementRenderer[e]||this.sectionElementRenderer.__default__}}]),e}();function Qi(e){if(!Array.isArray(e))throw new Error("`cards` must be passed as an array");for(var t=0;t<e.length;t++){var n=e[t];if(n.type!==Ei)throw new Error('Card "'.concat(n.name,'" must be of type "').concat(Ei,'", was "').concat(n.type,'"'));if(!n.render)throw new Error('Card "'.concat(n.name,'" must define `render`'))}}function $i(e){if(!Array.isArray(e))throw new Error("`atoms` must be passed as an array");for(var t=0;t<e.length;t++){var n=e[t];if(n.type!==Ei)throw new Error('Atom "'.concat(n.name,'" must be type "').concat(Ei,'", was "').concat(n.type,'"'));if(!n.render)throw new Error('Atom "'.concat(n.name,'" must define `render`'))}}var Gi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cards,r=void 0===n?[]:n,i=t.atoms,a=void 0===i?[]:i,o=t.cardOptions,s=void 0===o?{}:o,u=t.unknownCardHandler,l=t.unknownAtomHandler,c=t.markupElementRenderer,d=void 0===c?{}:c,f=t.sectionElementRenderer,h=void 0===f?{}:f,p=t.dom,v=t.markupSanitizer,m=void 0===v?null:v;if(X(this,e),Qi(r),$i(a),!p){if("undefined"===typeof window)throw new Error("A `dom` option must be provided to the renderer when running without window.document");p=window.document}this.options={cards:r,atoms:a,cardOptions:s,unknownCardHandler:u,unknownAtomHandler:l,markupElementRenderer:d,sectionElementRenderer:h,dom:p,markupSanitizer:m}}return Z(e,[{key:"render",value:function(e){var t=e.version;switch(t){case ji:case void 0:case null:return new zi(e,this.options).render();case Wi:case Ki:case Vi:return new qi(e,this.options).render();default:throw new Error('Unexpected Mobiledoc version "'.concat(t,'"'))}}}]),e}(),Yi={name:"image-card",type:"text",render:function(){}},Xi="text",Ji="0.2.0";var Zi=function(){function e(t,n){X(this,e);var r=n.cards,i=n.cardOptions,a=n.atoms,o=n.unknownCardHandler,s=t.version,u=t.sections;!function(e){if(e!==Ji)throw new Error('Unexpected Mobiledoc version "'.concat(e,'"'))}(s);var l=Y(u,2)[1];this.root=[],this.sections=l,this.cards=r,this.atoms=a,this.cardOptions=i,this.unknownCardHandler=o||this._defaultUnknownCardHandler,this._teardownCallbacks=[]}return Z(e,[{key:"render",value:function(){var e=this;return this.sections.forEach((function(t){e.root.push(e.renderSection(t))})),{result:this.root.join("\n"),teardown:function(){return e.teardown()}}}},{key:"teardown",value:function(){for(var e=0;e<this._teardownCallbacks.length;e++)this._teardownCallbacks[e]()}},{key:"_defaultUnknownCardHandler",get:function(){return function(){}}},{key:"renderSection",value:function(e){var t=Y(e,1)[0];switch(t){case 1:return this.renderMarkupSection(e);case 2:return this.renderImageSection(e);case 3:return this.renderListSection(e);case 10:return this.renderCardSection(e);default:throw new Error("Unimplemented renderer for type "+t)}}},{key:"renderImageSection",value:function(){return""}},{key:"renderListSection",value:function(e){var t=this,n=Y(e,3);n[0],n[1];return n[2].map((function(e){return t.renderListItem(e)})).join("\n")}},{key:"renderListItem",value:function(e){return this.renderMarkers(e)}},{key:"findCard",value:function(e){for(var t=0;t<this.cards.length;t++)if(this.cards[t].name===e)return this.cards[t];return e===Yi.name?Yi:this._createUnknownCard(e)}},{key:"_createUnknownCard",value:function(e){return{name:e,type:Xi,render:this.unknownCardHandler}}},{key:"renderCardSection",value:function(e){var t=Y(e,3),n=(t[0],t[1]),r=t[2],i=this.findCard(n),a=this._createCardArgument(i,r),o=i.render(a);return this._validateCardRender(o,i.name),o||""}},{key:"_validateCardRender",value:function(e,t){if(e&&"string"!==typeof e)throw new Error('Card "'.concat(t,'" must render ').concat(Xi,", but result was ").concat(typeof e,'"'))}},{key:"_registerTeardownCallback",value:function(e){this._teardownCallbacks.push(e)}},{key:"_createCardArgument",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={name:e.name,isInEditor:!1,onTeardown:function(e){return t._registerTeardownCallback(e)}},i=this.cardOptions;return{env:r,options:i,payload:n}}},{key:"renderMarkupSection",value:function(e){var t=Y(e,3),n=(t[0],t[1],t[2]);return this.renderMarkers(n)}},{key:"renderMarkers",value:function(e){var t="";return e.forEach((function(e){var n=Y(e,3)[2];t+=n})),t}}]),e}(),ea="0.3.0",ta="0.3.1",na="0.3.2";var ra=function(){function e(t,n){X(this,e);var r=n.cards,i=n.cardOptions,a=n.atoms,o=n.unknownCardHandler,s=n.unknownAtomHandler,u=t.version,l=t.sections,c=t.atoms,d=t.cards;!function(e){if(e!==ea&&e!==ta&&e!==na)throw new Error('Unexpected Mobiledoc version "'.concat(e,'"'))}(u),this.root=[],this.sections=l,this.atomTypes=c,this.cardTypes=d,this.cards=r,this.atoms=a,this.cardOptions=i,this.unknownCardHandler=o||this._defaultUnknownCardHandler,this.unknownAtomHandler=s||this._defaultUnknownAtomHandler,this._teardownCallbacks=[]}return Z(e,[{key:"render",value:function(){var e=this;return this.sections.forEach((function(t){e.root.push(e.renderSection(t))})),{result:this.root.join("\n"),teardown:function(){return e.teardown()}}}},{key:"teardown",value:function(){for(var e=0;e<this._teardownCallbacks.length;e++)this._teardownCallbacks[e]()}},{key:"_defaultUnknownCardHandler",get:function(){return function(){}}},{key:"_defaultUnknownAtomHandler",get:function(){return function(e){return e.value||""}}},{key:"renderSection",value:function(e){var t=Y(e,1)[0];switch(t){case 1:return this.renderMarkupSection(e);case 2:return this.renderImageSection(e);case 3:return this.renderListSection(e);case 10:return this.renderCardSection(e);default:throw new Error("Unimplemented renderer for type "+t)}}},{key:"renderImageSection",value:function(){return""}},{key:"renderListSection",value:function(e){var t=this,n=Y(e,3);n[0],n[1];return n[2].map((function(e){return t.renderListItem(e)})).join("\n")}},{key:"renderListItem",value:function(e){return this.renderMarkers(e)}},{key:"findCard",value:function(e){for(var t=0;t<this.cards.length;t++)if(this.cards[t].name===e)return this.cards[t];return e===Yi.name?Yi:this._createUnknownCard(e)}},{key:"_findCardByIndex",value:function(e){var t=this.cardTypes[e];if(!t)throw new Error("No card definition found at index ".concat(e));var n=Y(t,2),r=n[0],i=n[1];return{card:this.findCard(r),payload:i}}},{key:"_createUnknownCard",value:function(e){return{name:e,type:Xi,render:this.unknownCardHandler}}},{key:"renderCardSection",value:function(e){var t=Y(e,2),n=(t[0],t[1]),r=this._findCardByIndex(n),i=r.card,a=r.payload,o=this._createCardArgument(i,a),s=i.render(o);return this._validateCardRender(s,i.name),s||""}},{key:"_validateCardRender",value:function(e,t){if(e&&"string"!==typeof e)throw new Error('Card "'.concat(t,'" must render ').concat(Xi,", but result was ").concat(typeof e,'"'))}},{key:"_registerTeardownCallback",value:function(e){this._teardownCallbacks.push(e)}},{key:"_createCardArgument",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={name:e.name,isInEditor:!1,onTeardown:function(e){return t._registerTeardownCallback(e)}},i=this.cardOptions;return{env:r,options:i,payload:n}}},{key:"renderMarkupSection",value:function(e){var t=Y(e,3),n=(t[0],t[1],t[2]);return this.renderMarkers(n)}},{key:"findAtom",value:function(e){for(var t=0;t<this.atoms.length;t++)if(this.atoms[t].name===e)return this.atoms[t];return this._createUnknownAtom(e)}},{key:"_createUnknownAtom",value:function(e){return{name:e,type:Xi,render:this.unknownAtomHandler}}},{key:"_createAtomArgument",value:function(e,t,n){var r=this;return{env:{name:e.name,onTeardown:function(e){return r._registerTeardownCallback(e)}},options:this.cardOptions,value:t,payload:n}}},{key:"_validateAtomRender",value:function(e,t){if(e&&"string"!==typeof e)throw new Error('Atom "'.concat(t,'" must render ').concat(Xi,", but result was ").concat(typeof e,'"'))}},{key:"_findAtomByIndex",value:function(e){var t=this.atomTypes[e];if(!t)throw new Error("No atom definition found at index ".concat(e));var n=Y(t,3),r=n[0],i=n[1],a=n[2];return{atom:this.findAtom(r),value:i,payload:a}}},{key:"_renderAtom",value:function(e){var t=this._findAtomByIndex(e),n=t.atom,r=t.value,i=t.payload,a=this._createAtomArgument(n,r,i),o=n.render(a);return this._validateAtomRender(o,n.name),o||""}},{key:"renderMarkers",value:function(e){var t=this,n="";return e.forEach((function(e){var r=Y(e,4),i=r[0],a=r[3];switch(i){case 0:n+=a;break;case 1:n+=t._renderAtom(a);break;default:throw new Error("Unknown markup type (".concat(i,")"))}})),n}}]),e}();function ia(e){if(!Array.isArray(e))throw new Error("`cards` must be passed as an array");for(var t=0;t<e.length;t++){var n=e[t];if(n.type!==Xi)throw new Error('Card "'.concat(n.name,'" must be type "').concat(Xi,'", was "').concat(n.type,'"'));if(!n.render)throw new Error('Card "'.concat(n.name,'" must define `render`'))}}function aa(e){if(!Array.isArray(e))throw new Error("`atoms` must be passed as an array");for(var t=0;t<e.length;t++){var n=e[t];if(n.type!==Xi)throw new Error('Atom "'.concat(n.name,'" must be type "').concat(Xi,'", was "').concat(n.type,'"'));if(!n.render)throw new Error('Atom "'.concat(n.name,'" must define `render`'))}}var oa,sa,ua=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cards,r=t.atoms,i=t.cardOptions,a=t.unknownCardHandler,o=t.unknownAtomHandler;X(this,e),ia(n=n||[]),aa(r=r||[]),i=i||{},this.state={cards:n,atoms:r,cardOptions:i,unknownCardHandler:a,unknownAtomHandler:o}}return Z(e,[{key:"render",value:function(e){var t=e.version;switch(t){case Ji:return new Zi(e,this.state).render();case void 0:case null:case ea:case ta:case na:return new ra(e,this.state).render();default:throw new Error('Unexpected Mobiledoc version "'.concat(t,'"'))}}}]),e}(),la=function(){function e(t,n){X(this,e),this.type=t,this.manager=n}return Z(e,[{key:"isEnabled",value:function(){return this.manager.isEnabled(this.type)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(t.unshift("[".concat(this.type,"]")),this.isEnabled())&&(r=window.console).log.apply(r,t)}}]),e}(),ca=function(){function e(){X(this,e),this.enabledTypes=[],this.allEnabled=!1}return Z(e,[{key:"for",value:function(e){return new la(e,this)}},{key:"enableAll",value:function(){this.allEnabled=!0}},{key:"enableTypes",value:function(e){this.enabledTypes=this.enabledTypes.concat(e)}},{key:"disable",value:function(){this.enabledTypes=[],this.allEnabled=!1}},{key:"isEnabled",value:function(e){return this.allEnabled||-1!==this.enabledTypes.indexOf(e)}}]),e}(),da={placeholder:"Write here...",spellcheck:!0,autofocus:!0,showLinkTooltips:!0,undoDepth:5,undoBlockTimeout:5e3,cards:[],atoms:[],cardOptions:{},unknownCardHandler:function(e){var t=e.env;throw new Te("Unknown card encountered: ".concat(t.name))},unknownAtomHandler:function(e){var t=e.env;throw new Te("Unknown atom encountered: ".concat(t.name))},mobiledoc:null,html:null,tooltipPlugin:bt},fa={DID_UPDATE:"didUpdate",WILL_RENDER:"willRender",DID_RENDER:"didRender",WILL_DELETE:"willDelete",DID_DELETE:"didDelete",WILL_HANDLE_NEWLINE:"willHandleNewline",CURSOR_DID_CHANGE:"cursorDidChange",DID_REPARSE:"didReparse",POST_DID_CHANGE:"postDidChange",INPUT_MODE_DID_CHANGE:"inputModeDidChange",WILL_COPY:"willCopy"};!function(e){e.MOBILEDOC="mobiledoc",e.HTML="html",e.TEXT="text"}(oa||(oa={})),function(e){e.CHAR="char",e.WORD="word"}(sa||(sa={}));var ha=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};X(this,e),Ae("editor create accepts an options object. For legacy usage passing an element for the first argument, consider the `html` option for loading DOM or HTML posts. For other cases call `editor.render(domNode)` after editor creation",n&&!n.nodeType),this._views=[],this.isEditable=!0,this._parserPlugins=n.parserPlugins||[],Rr(this,da,n),this.cards.push(cn),qr.forEach((function(e){return t.registerKeyCommand(e)})),this._logManager=new ca,this._parser=new Sr(this.builder);var r=this.cards,i=this.atoms,a=this.unknownCardHandler,o=this.unknownAtomHandler,s=this.cardOptions;this._renderer=new lr(this,r,i,a,o,s),this.post=this.loadPost(),this._renderTree=new Ar(this.post),this._editHistory=new Zr(this,this.undoDepth,this.undoBlockTimeout),this._eventManager=new gi(this),this._mutationHandler=new Gr(this),this._editState=new bi(this),this._callbacks=new wt(de(fa)),this._beforeHooks={toggleMarkup:[]},this._isComposingOnBlankLine=!1,jr.forEach((function(e){return t.onTextInput(e)})),this.hasRendered=!1,this.isDestroyed=!1}return Z(e,[{key:"enableLogging",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===e.length?this._logManager.enableAll():this._logManager.enableTypes(e)}},{key:"disableLogging",value:function(){this._logManager.disable()}},{key:"loggerFor",value:function(e){return this._logManager.for(e)}},{key:"builder",get:function(){return this._builder||(this._builder=new Ur),this._builder}},{key:"loadPost",value:function(){var e=this.mobiledoc,t=this.html;if(e)return Ln(this.builder,e);if(t){if("string"===typeof t){var n={plugins:this._parserPlugins};return new Cr(this.builder,n).parse(t)}var r=t;return this._parser.parse(r)}return this.builder.createPost([this.builder.createMarkupSection()])}},{key:"rerender",value:function(){var e=this,t=this.post.renderNode;t.element||(Ae("Must call `render` before `rerender` can be called",this.hasRendered),t.element=this.element,t.markDirty()),this.runCallbacks(fa.WILL_RENDER),this._mutationHandler.suspendObservation((function(){e._renderer.render(e._renderTree)})),this.runCallbacks(fa.DID_RENDER)}},{key:"render",value:function(e){Ae("Cannot render an editor twice. Use `rerender` to update the rendering of an existing editor instance.",!this.hasRendered),e.spellcheck=this.spellcheck,function(e){for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),this.element=e,this.showLinkTooltips&&this._addTooltip(),this.run((function(){})),this.hasRendered=!0,this.rerender(),this._mutationHandler.init(),this._eventManager.init(),!1===this.isEditable?this.disableEditing():this.enableEditing(),this.autofocus&&this.selectRange(this.post.headPosition())}},{key:"_addTooltip",value:function(){this.addView(new gt({rootElement:this.element,showForTag:"a",editor:this}))}},{key:"keyCommands",get:function(){return this._keyCommands||(this._keyCommands=[]),this._keyCommands}},{key:"registerKeyCommand",value:function(e){var t=$r(e);Ae("Key Command is not valid",function(e){return!!e.code&&!!e.run}(t)),this.keyCommands.unshift(t)}},{key:"unregisterKeyCommands",value:function(e){for(var t=this.keyCommands.length-1;t>-1;t--){this.keyCommands[t].name===e&&this.keyCommands.splice(t,1)}}},{key:"deleteAtPosition",value:function(e,t,n){var r=n.unit;this.run((function(n){var i=n.deleteAtPosition(e,t,{unit:r});n.setRange(i)}))}},{key:"deleteRange",value:function(e){this.run((function(t){var n=t.deleteRange(e);t.setRange(n)}))}},{key:"performDelete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{direction:Be.BACKWARD,unit:sa.CHAR},t=e.direction,n=e.unit,r=this.range;this.runCallbacks(fa.WILL_DELETE,[r,t,n]),r.isCollapsed?this.deleteAtPosition(r.head,t,{unit:n}):this.deleteRange(r),this.runCallbacks(fa.DID_DELETE,[r,t,n])}},{key:"handleNewline",value:function(e){var t=this;if(this.hasCursor()){e.preventDefault();var n=this.range;this.run((function(e){var r;if(!n.isCollapsed&&((r=e.deleteRange(n).section)&&r.isBlank))return void e.setRange(r.headPosition());var i=!1,a={preventDefault:function(){i=!0}};t.runCallbacks(fa.WILL_HANDLE_NEWLINE,[a]),i||(r=e.splitSection(n.head)[1],e.setRange(r.headPosition()))}))}}},{key:"_postDidChange",value:function(){this.runCallbacks(fa.POST_DID_CHANGE)}},{key:"selectRange",value:function(e){e=At(e),this.cursor.selectRange(e),this.range=e}},{key:"cursor",get:function(){return new xt(this)}},{key:"range",get:function(){return this._editState.range},set:function(e){this._editState.updateRange(e),this._editState.rangeDidChange()&&this._rangeDidChange(),this._editState.inputModeDidChange()&&this._inputModeDidChange()}},{key:"_readRangeFromDOM",value:function(){this.range=this.cursor.offsets}},{key:"setPlaceholder",value:function(e){!function(e,t,n){if(!e.dataset){var r=t.replace(/[A-Z]/g,(function(e,t){var n=e.toLowerCase();return 0===t?n:"-"+n}));return e.setAttribute(r,n)}e.dataset[t]=n}(this.element,"placeholder",e)}},{key:"_reparsePost",value:function(){var e=this._parser.parse(this.element);this.run((function(t){t.removeAllSections(),t.migrateSectionsFromPost(e),t.setRange(Ge.blankRange())})),this.runCallbacks(fa.DID_REPARSE),this._postDidChange()}},{key:"_reparseSections",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.forEach((function(e){t._parser.reparseSection(e,t._renderTree)})),this._removeDetachedSections(),this._renderTree.isDirty&&(e=this.range);var r=this._editHistory,i=r._pendingSnapshot,a=i.range;this.run((function(){i.range=a})),this.rerender(),e&&this.selectRange(e),this.runCallbacks(fa.DID_REPARSE),this._postDidChange()}},{key:"_removeDetachedSections",value:function(){ne(re(this.post.sections,(function(e){return!e.renderNode.isAttached()})),(function(e){return e.renderNode.scheduleForRemoval()}))}},{key:"activeSections",get:function(){return this._editState.activeSections}},{key:"activeSection",get:function(){var e=this.activeSections;return e[e.length-1]}},{key:"activeSectionAttributes",get:function(){return this._editState.activeSectionAttributes}},{key:"detectMarkupInRange",value:function(e,t){return ee(this.post.markupsInRange(e),(function(e){return e.hasTag(t)}))}},{key:"activeMarkups",get:function(){return this._editState.activeMarkups}},{key:"hasActiveMarkup",value:function(e){var t;if("string"===typeof e){var n=we(e);t=function(e){return e.tagName===n}}else t=function(t){return t===e};return!!ee(this.activeMarkups,t)}},{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;return this.serializePost(this.post,oa.MOBILEDOC,{version:e})}},{key:"serializeTo",value:function(e){var t=this.post;return this.serializePost(t,e)}},{key:"serializePost",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Ae("Unrecognized serialization format ".concat(t),ce(Object.values(oa),t)),t===oa.MOBILEDOC){var r=n.version||xr;return Or(e,r)}var i=this.serializePost(e,oa.MOBILEDOC),a=function(){},o=function(){},s={unknownCardHandler:a,unknownAtomHandler:o};switch(t){case oa.HTML:if(Pr()){var u=new Gi(s).render(i);return"<div>".concat(_e(u.result),"</div>")}return this.serializePost(e,oa.TEXT,n);case oa.TEXT:var l=new ua(s).render(i);return l.result}}},{key:"addView",value:function(e){this._views.push(e)}},{key:"removeAllViews",value:function(){this._views.forEach((function(e){return e.destroy()})),this._views=[]}},{key:"hasCursor",value:function(){return this.cursor.hasCursor()}},{key:"destroy",value:function(){this.isDestroyed=!0,this._hasSelection()&&this.cursor.clearSelection(),this._hasFocus()&&this.element.blur(),this._mutationHandler.destroy(),this._eventManager.destroy(),this.removeAllViews(),this._renderer.destroy(),this._editState.destroy()}},{key:"disableEditing",value:function(){this.isEditable=!1,this.hasRendered&&(this._eventManager.stop(),this.element.setAttribute("contentEditable","false"),this.setPlaceholder(""),this.selectRange(Ge.blankRange()))}},{key:"enableEditing",value:function(){this.isEditable=!0,this.hasRendered&&(this._eventManager.start(),this.element.setAttribute("contentEditable","true"),this.setPlaceholder(this.placeholder))}},{key:"editCard",value:function(e){this._setCardMode(e,Ze.EDIT)}},{key:"displayCard",value:function(e){this._setCardMode(e,Ze.DISPLAY)}},{key:"run",value:function(e){var t=new ln(this);t.begin(),this._editHistory.snapshot();var n=e(t);return this.runCallbacks(fa.DID_UPDATE,[t]),t.complete(),this._readRangeFromDOM(),t._shouldCancelSnapshot&&(this._editHistory._pendingSnapshot=null),this._editHistory.storeSnapshot(t.editActionTaken),n}},{key:"didUpdatePost",value:function(e){this.addCallback(fa.DID_UPDATE,e)}},{key:"postDidChange",value:function(e){this.addCallback(fa.POST_DID_CHANGE,e)}},{key:"onTextInput",value:function(e){this._eventManager.registerInputHandler(e)}},{key:"unregisterAllTextInputHandlers",value:function(){this._eventManager.unregisterAllTextInputHandlers()}},{key:"unregisterTextInputHandler",value:function(e){this._eventManager.unregisterInputHandler(e)}},{key:"inputModeDidChange",value:function(e){this.addCallback(fa.INPUT_MODE_DID_CHANGE,e)}},{key:"willRender",value:function(e){this.addCallback(fa.WILL_RENDER,e)}},{key:"didRender",value:function(e){this.addCallback(fa.DID_RENDER,e)}},{key:"willCopy",value:function(e){this.addCallback(fa.WILL_COPY,e)}},{key:"willDelete",value:function(e){this.addCallback(fa.WILL_DELETE,e)}},{key:"didDelete",value:function(e){this.addCallback(fa.DID_DELETE,e)}},{key:"willHandleNewline",value:function(e){this.addCallback(fa.WILL_HANDLE_NEWLINE,e)}},{key:"cursorDidChange",value:function(e){this.addCallback(fa.CURSOR_DID_CHANGE,e)}},{key:"_rangeDidChange",value:function(){this.hasRendered&&this.runCallbacks(fa.CURSOR_DID_CHANGE)}},{key:"_inputModeDidChange",value:function(){this.runCallbacks(fa.INPUT_MODE_DID_CHANGE)}},{key:"_insertEmptyMarkupSectionAtCursor",value:function(){var e=this;this.run((function(t){var n=t.builder.createMarkupSection("p");t.insertSectionBefore(e.post.sections,n),t.setRange(n.toRange())}))}},{key:"beforeToggleMarkup",value:function(e){this._beforeHooks.toggleMarkup.push(e)}},{key:"toggleMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.builder.createMarkup(e,t),r=this.range,i=!this.detectMarkupInRange(r,n.tagName),a=this._runBeforeHooks("toggleMarkup",{markup:n,range:r,willAdd:i});a||(r.isCollapsed?(this._editState.toggleMarkupState(n),this._inputModeDidChange(),this._ensureFocus()):this.run((function(e){return e.toggleMarkup(n,r)})))}},{key:"_ensureFocus",value:function(){this._hasSelection()&&!this._hasFocus()&&this.focus()}},{key:"focus",value:function(){this.element.focus()}},{key:"_hasSelection",value:function(){var e=this.cursor;return this.hasRendered&&(e._hasCollapsedSelection()||e._hasSelection())}},{key:"_hasFocus",value:function(){return document.activeElement===this.element}},{key:"toggleSection",value:function(e){var t=this;this.run((function(n){return n.toggleSection(e,t.range)}))}},{key:"setAttribute",value:function(e,t){var n=this;this.run((function(r){return r.setAttribute(e,t,n.range)}))}},{key:"removeAttribute",value:function(e){var t=this;this.run((function(n){return n.removeAttribute(e,t.range)}))}},{key:"handleKeyCommand",value:function(e){for(var t=function(e,t){var n=We.fromEvent(t);return re(e,(function(e){var t=e.modifierMask,r=e.code;return n.keyCode===r&&n.modifierMask===t}))}(this.keyCommands,e),n=0;n<t.length;n++){if(!1!==t[n].run(this))return e.preventDefault(),!0}return!1}},{key:"insertText",value:function(e){if(this.hasCursor()){this.post.isBlank&&this._insertEmptyMarkupSectionAtCursor();var t=this.activeMarkups,n=this.range,r=this.range.head;this.run((function(i){n.isCollapsed||(r=i.deleteRange(n)),i.insertTextWithMarkup(r,e,t)}))}}},{key:"insertAtom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.hasCursor()){var r;this.post.isBlank&&this._insertEmptyMarkupSectionAtCursor();var i=this.range;return this.run((function(a){var o=i.head;r=a.builder.createAtom(e,t,n),i.isCollapsed||(o=a.deleteRange(i)),a.insertMarkers(o,[r])})),r}}},{key:"insertCard",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.hasCursor()){var i;this.post.isBlank&&this._insertEmptyMarkupSectionAtCursor();var a=this.range;return this.run((function(o){var s=a.tail;i=o.builder.createCardSection(e,n),r&&t.editCard(i),a.isCollapsed||(s=o.deleteRange(a));var u=s.section;if(tt(u)&&(u=u.parent),u.isBlank)o.replaceSection(u,i);else{var l=t.post.sections;o.insertSectionBefore(l,i,u.next)}o.setRange(i.tailPosition())})),i}}},{key:"positionAtPoint",value:function(e,t){return ht.atPoint(e,t,this)}},{key:"_setCardMode",value:function(e,t){var n=e.renderNode;n&&n.isRendered?n.cardNode[t]():e.setInitialMode(t)}},{key:"triggerEvent",value:function(e,t,n){this._eventManager._trigger(e,t,n)}},{key:"addCallback",value:function(e,t){this._callbacks.addCallback(e,t)}},{key:"addCallbackOnce",value:function(e,t){this._callbacks.addCallbackOnce(e,t)}},{key:"runCallbacks",value:function(e,t){this.isDestroyed||this._callbacks.runCallbacks(e,t)}},{key:"_runBeforeHooks",value:function(e){for(var t=this._beforeHooks[e]||[],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)if(!1===t[a].apply(t,r))return!0}}]),e}(),pa=(n(5),function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}),va=v.a.createContext({});va.displayName="ReactMobileDocContext";var ma=["values","defaultValue","attribute"],ka=function(e){var t=e.values,n=void 0===t?[]:t,r=e.defaultValue,i=void 0===r?n[0]:r,a=e.attribute,o=d()(e,ma);return v.a.createElement(va.Consumer,null,(function(e){var t=e.editor,r=e.activeSectionAttributes,s=function(e,t,n){for(var r=e.map((function(e){return e["data-md-".concat(t)]||n})),i=r[0],a=1;a<r.length;a++)if(i!==r[a]){i="";break}return i}(void 0===r?[]:r,a,i);return v.a.createElement("select",l()({value:s,onChange:function(e){var n=e.target.value;n===i?t.removeAttribute(a):t.setAttribute(a,n)}},o),""===s&&v.a.createElement("option",{value:"",key:""},"\u2014"),n.map((function(e){return v.a.createElement("option",{value:e,key:e},pa(e))})))}))};ka.propTypes={attribute:h.a.string.isRequired,values:h.a.arrayOf(h.a.string).isRequired};var ya="0.3.2",ga={version:ya,markups:[],atoms:[],cards:[],sections:[[1,"p",[]]]},ba=["atoms","autofocus","cardProps","cards","children","didCreateEditor","html","mobiledoc","options","placeholder","serializeVersion","spellcheck","willCreateEditor","onChange"];function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M()(e);if(t){var i=M()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C()(this,n)}}var Sa=function(e){E()(n,e);var t=Ea(n);function n(){var e;k()(this,n),e=t.apply(this,arguments),A()(w()(e),"state",{activeMarkupTags:[],activeSectionTags:[],activeSectionAttributes:[]}),A()(w()(e),"setActiveTags",(function(){e.setState({activeSectionAttributes:e.editor.activeSections.map((function(e){return e.attributes||{}})),activeMarkupTags:e.editor.activeMarkups.map((function(e){return e.tagName})),activeSectionTags:e.editor.activeSections.map((function(e){return e.isNested?e.parent.tagName:e.tagName}))})})),A()(w()(e),"handleChange",(function(){if("function"===typeof e.props.onChange){var t=e.editor.serialize(e.props.serializeVersion);e.props.onChange(t)}})),"function"===typeof e.props.willCreateEditor&&e.props.willCreateEditor();var r=e.props,i=r.atoms,a=r.autofocus,o=r.cardProps,s=r.cards,u=r.html,l=r.placeholder,c=r.serializeVersion,d=r.spellcheck,f=e.props.mobiledoc||(u?void 0:ga),h=_a(_a({},e.props.options),{},{atoms:i,autofocus:a,cardOptions:{cardProps:o},cards:s,html:u,mobiledoc:f,placeholder:l,serializeVersion:c,spellcheck:d});return e.editor=new ha(h),e.editor.inputModeDidChange(e.setActiveTags),e.editor.postDidChange((function(){e.handleChange()})),"function"===typeof e.props.didCreateEditor&&e.props.didCreateEditor(e.editor),e}return g()(n,[{key:"componentWillUnmount",value:function(){this.editor.destroy()}},{key:"render",value:function(){var e=this.props;e.atoms,e.autofocus,e.cardProps,e.cards;var t=e.children;e.didCreateEditor,e.html,e.mobiledoc,e.options,e.placeholder,e.serializeVersion,e.spellcheck,e.willCreateEditor,e.onChange;var n=d()(e,ba);return v.a.createElement("div",n,v.a.createElement(va.Provider,{value:{editor:this.editor,activeMarkupTags:this.state.activeMarkupTags,activeSectionTags:this.state.activeSectionTags,activeSectionAttributes:this.state.activeSectionAttributes}},t))}}]),n}(v.a.Component);A()(Sa,"defaultProps",{atoms:[],autofocus:!0,cardProps:{},cards:[],placeholder:"",serializeVersion:ya,spellcheck:!0}),Sa.propTypes={atoms:h.a.array,autofocus:h.a.bool,cards:h.a.array,didCreateEditor:h.a.func,html:h.a.string,mobiledoc:h.a.object,onChange:h.a.func,options:h.a.object,placeholder:h.a.string,serializeVersion:h.a.string,spellcheck:h.a.bool,willCreateEditor:h.a.func};var Ca=["context"];function Na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M()(e);if(t){var i=M()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C()(this,n)}}var Ma=function(e){E()(n,e);var t=Na(n);function n(){return k()(this,n),t.apply(this,arguments)}return g()(n,[{key:"componentDidMount",value:function(){var e=this.props.context.editor;e&&e.render(this.editorEl)}},{key:"render",value:function(){var e=this,t=this.props;t.context;var n=d()(t,Ca);return v.a.createElement("div",l()({},n,{ref:function(t){return e.editorEl=t}}))}}]),n}(v.a.Component),Ta=v.a.forwardRef((function(e,t){return v.a.createElement(va.Consumer,null,(function(n){return v.a.createElement(Ma,l()({},e,{context:n,ref:t}))}))})),Aa=["children","type","handler","className","activeClassName"];function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ra=function(e){var t=e.children,n=void 0===t?"Link":t,r=e.type,i=void 0===r?"button":r,a=e.handler,o=e.className,s=e.activeClassName,u=void 0===s?"active":s,l=d()(e,Aa);return v.a.createElement(va.Consumer,null,(function(e){var t=e.editor,r=e.activeMarkupTags;return o=[o,(void 0===r?[]:r).indexOf("a")>-1&&u].filter(Boolean).join(" "),l=Oa(Oa({type:i},l),{},{onClick:function(){t.hasCursor()&&(t.hasActiveMarkup("a")?t.toggleMarkup("a"):yt.toggleLink(t,a))},className:o}),v.a.createElement("button",l,n)}))};Ra.propTypes={children:h.a.node};var Pa=["tag","type","children","className","activeClassName"];function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Da=function(e){var t=e.tag,n=void 0===t?"":t,r=e.type,i=void 0===r?"button":r,a=e.children,o=void 0===a?pa(n):a,s=e.className,u=e.activeClassName,l=void 0===u?"active":u,c=d()(e,Pa);return v.a.createElement(va.Consumer,null,(function(e){var t=e.editor,r=e.activeMarkupTags;return s=[s,(void 0===r?[]:r).indexOf(n.toLowerCase())>-1&&l].filter(Boolean).join(" "),c=Ia(Ia({type:i},c),{},{onClick:function(){return t.toggleMarkup(n)},className:s}),v.a.createElement("button",c,o)}))};Da.propTypes={tag:h.a.string.isRequired,children:h.a.node};var Fa=["tag","type","children","className","activeClassName"];function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ha=function(e){var t=e.tag,n=void 0===t?"":t,r=e.type,i=void 0===r?"button":r,a=e.children,o=void 0===a?pa(n):a,s=e.className,u=e.activeClassName,l=void 0===u?"active":u,c=d()(e,Fa);return v.a.createElement(va.Consumer,null,(function(e){var t=e.editor,r=e.activeSectionTags;return s=[s,(void 0===r?[]:r).indexOf(n.toLowerCase())>-1&&l].filter(Boolean).join(" "),c=Ua(Ua({type:i},c),{},{onClick:function(){return t.toggleSection(n)},className:s}),v.a.createElement("button",c,o)}))};Ha.propTypes={tag:h.a.string.isRequired,children:h.a.node};var ja=["tags"],za=function(e){var t=e.tags,n=void 0===t?[]:t,r=d()(e,ja);return v.a.createElement(va.Consumer,null,(function(e){var t=e.editor,i=e.activeSectionTags,a=void 0===i?[]:i,o=function(){return n.find((function(e){return a.includes(e)}))};return v.a.createElement("select",l()({value:o()||"",onChange:function(e){var n=e.target.value||o();t.toggleSection(n)}},r),v.a.createElement("option",{value:""}),n.map((function(e){return v.a.createElement("option",{value:e,key:e},e.toUpperCase())})))}))};za.propTypes={tags:h.a.arrayOf(h.a.oneOf(["p","h1","h2","h3","h4","h5","h6","blockquote","aside"])).isRequired};var Wa=function(e){return v.a.createElement("ul",e,v.a.createElement("li",null,v.a.createElement(Da,{tag:"strong"})),v.a.createElement("li",null,v.a.createElement(Da,{tag:"em"})),v.a.createElement("li",null,v.a.createElement(Ra,null)),v.a.createElement("li",null,"Style: ",v.a.createElement(za,{tags:["h1","h2","h3"]})),v.a.createElement("li",null,"Alignment:"," ",v.a.createElement(ka,{attribute:"text-align",values:["left","center","right"]})),v.a.createElement("li",null,v.a.createElement(Ha,{tag:"blockquote"})),v.a.createElement("li",null,v.a.createElement(Ha,{tag:"ul"},"UL")),v.a.createElement("li",null,v.a.createElement(Ha,{tag:"ol"},"OL")))}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(22);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(23),i=n(6);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t,n){"use strict";var r=n(10),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),c=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function k(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=m.prototype;var g=y.prototype=new k;g.constructor=y,r(g,m.prototype),g.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+N(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),M(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+N(s=e[l],l);u+=M(s,t,n,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=M(s=s.value,t,n,c=r+N(s,l++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function O(){var e=x.current;if(null===e)throw Error(h(321));return e}var R={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(0),i=n(10),a=n(17);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){k[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];k[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){k[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){k[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){k[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){k[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){k[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){k[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){k[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=k.hasOwnProperty(t)?k[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);k[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);k[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);k[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){k[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),k.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){k[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,E=60106,S=60107,C=60108,N=60114,M=60109,T=60110,A=60112,x=60113,O=60120,R=60115,P=60116,L=60121,I=60128,D=60129,F=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),E=U("react.portal"),S=U("react.fragment"),C=U("react.strict_mode"),N=U("react.profiler"),M=U("react.provider"),T=U("react.context"),A=U("react.forward_ref"),x=U("react.suspense"),O=U("react.suspense_list"),R=U("react.memo"),P=U("react.lazy"),L=U("react.block"),U("react.scope"),I=U("react.opaque.id"),D=U("react.debug_trace_mode"),F=U("react.offscreen"),B=U("react.legacy_hidden")}var H,j="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function W(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var K=!1;function V(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case N:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Q(e.type);case L:return Q(e._render);case P:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ke=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Te=null,Ae=null;function xe(e){if(e=ei(e)){if("function"!==typeof Me)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Me(e.stateNode,e.type,t))}}function Oe(e){Te?Ae?Ae.push(e):Ae=[e]:Te=e}function Re(){if(Te){var e=Te,t=Ae;if(Ae=Te=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Pe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var De=Pe,Fe=!1,Be=!1;function Ue(){null===Te&&null===Ae||(Ie(),Re())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){je=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){je=!1}function We(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ke=!1,Ve=null,qe=!1,Qe=null,$e={onError:function(e){Ke=!0,Ve=e}};function Ge(e,t,n,r,i,a,o,s,u){Ke=!1,Ve=null,We.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,lt=null,ct=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function kt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(gt),dt.forEach(gt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)kt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Ct={},Nt={};function Mt(e){if(Ct[e])return Ct[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nt)return Ct[e]=n[t];return e}d&&(Nt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Tt=Mt("animationend"),At=Mt("animationiteration"),xt=Mt("animationstart"),Ot=Mt("transitionend"),Rt=new Map,Pt=new Map,Lt=["abort","abort",Tt,"animationEnd",At,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Dt=8;function Ft(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Dt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Dt):0!==(s&=a)&&(r=Ft(s),i=Dt)}else 0!==(a=n&~o)?(r=Ft(a),i=Dt):0!==s&&(r=Ft(s),i=Dt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ht(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ht(10,t):e;case 10:return 0===(e=jt(192&~t))?Ht(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/qt|0)|0},Vt=Math.log,qt=Math.LN2;var Qt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Gt=!0;function Yt(e,t,n,r){Fe||Ie();var i=Jt,a=Fe;Fe=!0;try{Le(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Xt(e,t,n,r){$t(Qt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dt.set(a,mt(dt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Rr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ne(r);if(null!==(i=Zr(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(ln=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=ln=0,dn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),kn=un(mn),yn=un(i({},mn,{dataTransfer:0})),gn=un(i({},pn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Mn(){return Nn}var Tn=un(i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),On=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=un(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var Dn=d&&"TextEvent"in window&&!In,Fn=d&&(!Ln||In&&8<In&&11>=In),Bn=String.fromCharCode(32),Un=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Oe(r),0<(t=Lr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Qn=null;function $n(e){Nr(e,0)}function Gn(e){if(X(ti(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Qn=qn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];if(Vn(t,Qn,e,Ne(e)),e=$n,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Ue()}}}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function ar(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,kr=null,yr=null,gr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Lr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Lt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Pt.set(wr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Ge.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var c=Ve;Ke=!1,Ve=null,qe||(qe=!0,Qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,l),a=u}}}if(qe)throw e=Qe,qe=!1,Qe=null,e}function Mr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Tr]||(e[Tr]=!0,s.forEach((function(t){Sr.has(t)||xr(t,!1,e,null),xr(t,!0,e,null)})))}function xr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Or(a,e,i,t),o.add(s))}function Or(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Zr(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{De(e,t,n)}finally{Be=!1,Ue()}}((function(){var r=a,i=Ne(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=hn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xn;break;case Tt:case At:case xt:u=bn;break;case Ot:u=On;break;case"scroll":u=vn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=He(p,f))&&c.push(Pr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!Zr(l)&&!l[Xr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Zr(l):null)&&(l!==(d=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=kn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:ti(u),h=null==l?s:ti(l),(s=new c(v,p+"leave",u,n,i)).target=d,s.relatedTarget=h,v=null,Zr(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(f=l,p=0,h=c=u;h;h=Ir(h))p++;for(h=0,v=f;v;v=Ir(v))h++;for(;0<p-h;)c=Ir(c),p--;for(;0<h-p;)f=Ir(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Ir(c),f=Ir(f)}c=null}else c=null;null!==u&&Dr(o,s,u,c,!1),null!==l&&null!==d&&Dr(o,d,l,c,!0)}if("select"===(u=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Kn(s))if(Xn)m=or;else{m=ir;var k=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(k&&k(e,s,r),"focusout"===e&&(k=s._wrapperState)&&k.controlled&&"number"===s.type&&ie(s,"number",s.value)),k=r?ti(r):window,e){case"focusin":(Kn(k)||"true"===k.contentEditable)&&(mr=k,kr=r,yr=null);break;case"focusout":yr=kr=mr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else zn?Hn(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==g?"onCompositionEnd"===g&&zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(k=Lr(r,g)).length&&(g=new _n(g,e,null,n,i),o.push({event:g,listeners:k}),y?g.data=y:null!==(y=jn(n))&&(g.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Bn);case"textInput":return(e=t.data)===Bn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Hn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=He(e,n))&&r.unshift(Pr(e,a,i)),null!=(a=He(e,t))&&r.push(Pr(e,a,i))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=He(n,a))&&o.unshift(Pr(n,u,s)):i||null!=(u=He(n,a))&&o.push(Pr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Fr(){}var Br=null,Ur=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Vr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var $r=Math.random().toString(36).slice(2),Gr="__reactFiber$"+$r,Yr="__reactProps$"+$r,Xr="__reactContainer$"+$r,Jr="__reactEvents$"+$r;function Zr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Gr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Gr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[Yr]||null}function ri(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function ui(e,t){ai++,ii[ai]=e.current,e.current=t}var li={},ci=oi(li),di=oi(!1),fi=li;function hi(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){si(di),si(ci)}function mi(e,t,n){if(ci.current!==li)throw Error(o(168));ui(ci,t),ui(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Q(t)||"Unknown",a));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,fi=ci.current,ui(ci,e),ui(di,di.current),!0}function gi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,si(di),si(ci),ui(ci,e)):si(di),ui(di,n)}var bi=null,wi=null,_i=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Mi=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,Ai=a.unstable_ImmediatePriority,xi=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Li={},Ii=void 0!==Ni?Ni:function(){},Di=null,Fi=null,Bi=!1,Ui=Mi(),Hi=1e4>Ui?Mi:function(){return Mi()-Ui};function ji(){switch(Ti()){case Ai:return 99;case xi:return 98;case Oi:return 97;case Ri:return 96;case Pi:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ai;case 98:return xi;case 97:return Oi;case 96:return Ri;case 95:return Pi;default:throw Error(o(332))}}function Wi(e,t){return e=zi(e),_i(e,t)}function Ki(e,t,n){return e=zi(e),Ei(e,t,n)}function Vi(){if(null!==Fi){var e=Fi;Fi=null,Si(e)}qi()}function qi(){if(!Bi&&null!==Di){Bi=!0;var e=0;try{var t=Di;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(n){throw null!==Di&&(Di=Di.slice(e+1)),Ei(Ai,Vi),n}finally{Bi=!1}}}var Qi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=oi(null),Yi=null,Xi=null,Ji=null;function Zi(){Ji=Xi=Yi=null}function ea(e){var t=Gi.current;si(Gi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){Yi=e,Ji=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function ra(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Yi)throw Error(o(308));Xi=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=l)}}if(null!==o){for(f=a.baseState,s=0,d=c=l=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=f):d=d.next=h,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===d&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,Bs|=s,e.lanes=s,e.memoizedState=f}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var fa=(new r.Component).refs;function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),a=sa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ua(e,a),du(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),a=sa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ua(e,a),du(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=sa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ua(e,i),du(e,r,n)}};function va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ma(e,t,n){var r=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?fi:ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?hi(e,i):li),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?fi:ci.current,i.context=hi(e,a)),ca(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ga=Array.isArray;function ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ba(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=ba(e,null,t),n.return=e,n;case E:return(t=$u(t,e.mode,n)).return=e,t}if(ga(t)||z(t))return(t=Vu(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null}if(ga(n)||z(n))return null!==i?null:d(e,t,n,r,null);wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ga(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var k=h(i,d,s[v],u);if(null===k){null===d&&(d=m);break}e&&d&&null===k.alternate&&t(i,d),o=a(k,o,v),null===c?l=k:c.sibling=k,c=k,d=m}if(v===s.length)return n(i,d),l;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(o=a(d,o,v),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=z(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,v=s,m=s=0,k=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(k=v,v=null):k=v.sibling;var g=h(i,v,y.value,l);if(null===g){null===v&&(v=k);break}e&&v&&null===g.alternate&&t(i,v),s=a(g,s,m),null===d?c=g:d.sibling=g,d=g,v=k}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===S&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case _:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===S){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=ba(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===S?((r=Vu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Ku(a.type,a.key,a.props,null,e.mode,u)).ref=ba(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Qu(a,e.mode,u)).return=e,e=r),s(e);if(ga(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(c&&wa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(e.type)||"Component"))}return n(e,r)}}var Ea=_a(!0),Sa=_a(!1),Ca={},Na=oi(Ca),Ma=oi(Ca),Ta=oi(Ca);function Aa(e){if(e===Ca)throw Error(o(174));return e}function xa(e,t){switch(ui(Ta,t),ui(Ma,e),ui(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Na),ui(Na,t)}function Oa(){si(Na),si(Ma),si(Ta)}function Ra(e){Aa(Ta.current);var t=Aa(Na.current),n=pe(t,e.type);t!==n&&(ui(Ma,e),ui(Na,n))}function Pa(e){Ma.current===e&&(si(Na),si(Ma))}var La=oi(0);function Ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=null,Fa=null,Ba=!1;function Ua(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ha(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ja(e){if(Ba){var t=Fa;if(t){var n=t;if(!Ha(e,t)){if(!(t=Vr(n.nextSibling))||!Ha(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Da=e);Ua(Da,n)}Da=e,Fa=Vr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Da=e}}function za(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Da=e}function Wa(e){if(e!==Da)return!1;if(!Ba)return za(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Fa;t;)Ua(e,t),t=Vr(t.nextSibling);if(za(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fa=Vr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fa=null}}else Fa=Da?Vr(e.stateNode.nextSibling):null;return!0}function Ka(){Fa=Da=null,Ba=!1}var Va=[];function qa(){for(var e=0;e<Va.length;e++)Va[e]._workInProgressVersionPrimary=null;Va.length=0}var Qa=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Ga=0,Ya=null,Xa=null,Ja=null,Za=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Ga=a,Ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?xo:Oo,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Ja=Xa=null,t.updateQueue=null,Qa.current=Ro,e=n(r,i)}while(eo)}if(Qa.current=Ao,t=null!==Xa&&null!==Xa.next,Ga=0,Ja=Xa=Ya=null,Za=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ja?Ya.memoizedState=Ja=e:Ja=Ja.next=e,Ja}function ao(){if(null===Xa){var e=Ya.alternate;e=null!==e?e.memoizedState:null}else e=Xa.next;var t=null===Ja?Ya.memoizedState:Ja.next;if(null!==t)Ja=t,Xa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Xa=e).memoizedState,baseState:Xa.baseState,baseQueue:Xa.baseQueue,queue:Xa.queue,next:null},null===Ja?Ya.memoizedState=Ja=e:Ja=Ja.next=e}return Ja}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Xa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.lane;if((Ga&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=d,a=r):u=u.next=d,Ya.lanes|=c,Bs|=c}l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,sr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function lo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ga&e)===e)&&(t._workInProgressVersionPrimary=r,Va.push(t))),e)return n(t._source);throw Va.push(t),Error(o(350))}function co(e,t,n,r){var i=xs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Qa.current,l=u.useState((function(){return lo(i,t,n)})),c=l[1],d=l[0];l=Ja;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,v=f.source;f=f.subscribe;var m=Ya;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(d,e)||(c(e),e=cu(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Kt(o),l=1<<u;r[u]|=e,o&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=cu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),sr(p,n)&&sr(v,t)&&sr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:d}).dispatch=c=To.bind(null,Ya,e),l.queue=e,l.baseQueue=null,d=lo(i,t,n),l.memoizedState=l.baseState=d),d}function fo(e,t,n){return co(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=To.bind(null,Ya,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ya.updateQueue)?(t={lastEffect:null},Ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},io().memoizedState=e}function mo(){return ao().memoizedState}function ko(e,t,n,r){var i=io();Ya.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function yo(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Xa){var o=Xa.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}Ya.flags|=e,i.memoizedState=po(1|t,n,a,r)}function go(e,t){return ko(516,4,e,t)}function bo(e,t){return yo(516,4,e,t)}function wo(e,t){return yo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,2,_o.bind(null,t,e),n)}function So(){}function Co(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mo(e,t){var n=ji();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function To(e,t,n){var r=lu(),i=cu(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ya||null!==o&&o===Ya)eo=Za=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,sr(u,s))return}catch(l){}du(e,i,r)}}var Ao={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},xo={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Ya,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:So,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return go((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=Mo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},co(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&Ya.mode)&&(Ya.flags|=516,po(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Oo={readContext:ra,useCallback:Co,useContext:ra,useEffect:bo,useImperativeHandle:Eo,useLayoutEffect:wo,useMemo:No,useReducer:so,useRef:mo,useState:function(){return so(oo)},useDebugValue:So,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return bo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[mo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Ro={readContext:ra,useCallback:Co,useContext:ra,useEffect:bo,useImperativeHandle:Eo,useLayoutEffect:wo,useMemo:No,useReducer:uo,useRef:mo,useState:function(){return uo(oo)},useDebugValue:So,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return bo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[mo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Po=w.ReactCurrentOwner,Lo=!1;function Io(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ea(t,e.child,n,r)}function Do(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Fo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||zu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,ns(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return jo(e,t,n,r,a)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},gu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(t,e),null;t.memoizedState={baseLanes:0},gu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,gu(t,r);return Io(e,t,i,n),t.child}function Ho(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function jo(e,t,n,r,i){var a=pi(n)?fi:ci.current;return a=hi(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function zo(e,t,n,r,i){if(pi(n)){var a=!0;yi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ma(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ra(l):l=hi(t,l=pi(n)?fi:ci.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ka(t,o,r,l),ia=!1;var f=t.memoizedState;o.state=f,ca(t,r,o,i),u=t.memoizedState,s!==r||f!==u||di.current||ia?("function"===typeof c&&(ha(t,n,c,r),u=t.memoizedState),(s=ia||va(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:$i(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ra(u):u=hi(t,u=pi(n)?fi:ci.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&ka(t,o,r,u),ia=!1,f=t.memoizedState,o.state=f,ca(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||di.current||ia?("function"===typeof h&&(ha(t,n,h,r),p=t.memoizedState),(l=ia||va(t,n,l,r,f,p,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Ho(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&gi(t,n,!1),ns(e,t,a);r=t.stateNode,Po.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Io(e,t,s,a),t.memoizedState=r.state,i&&gi(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),xa(e,t.containerInfo)}var Vo,qo,Qo,$o={dehydrated:null,retryLane:0};function Go(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ui(La,1&a),null===e?(void 0!==i.fallback&&ja(t),e=i.children,a=i.fallback,o?(e=Yo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Yo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Jo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=Xo(e,t,i.children,n),t.memoizedState=null,n))}function Yo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=qu(t,i,0,null),n=Vu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Xo(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Jo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Vu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Oa(),si(di),si(ci),qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Pa(t);var a=Aa(Ta.current);if(n=t.type,null!==e&&null!=t.stateNode)qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Aa(Na.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gr]=t,r[Yr]=s,n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Mr(Er[e],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":ee(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":ue(r,s),Mr("invalid",r)}for(var l in Se(n,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Mr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Fr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gr]=t,e[Yr]=r,Vo(e,t),t.stateNode=e,l=Ce(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Mr(Er[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Mr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Mr("invalid",e);break;default:a=r}Se(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?_e(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ke(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Mr("scroll",e):null!=d&&b(e,s,d,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Fr)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Aa(Ta.current),Aa(Na.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return si(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===xs||0===(134217727&Bs)&&0===(134217727&Us)||vu(xs,Rs))),(r||n)&&(t.flags|=4),null);case 4:return Oa(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(si(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Is||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ia(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>Ws&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ia(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=La.current,ui(La,s?1&t|2:1&t),n):null;case 23:case 24:return bu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oa(),si(di),si(ci),qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Pa(e),null;case 13:return si(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(La),null;case 4:return Oa(),null;case 10:return ea(e),null;case 23:case 24:return bu(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Vo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Aa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Fr)}for(d in Se(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Mr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===I?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=sa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,$s=r),ss(0,t)},n}function cs(e,t,n){(n=sa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Fu(e,n)}else t.current=null}function hs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ms(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(a){Fu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Fu(t,a)}break;case 5:fs(t);break;case 4:_s(e,t)}}function ks(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):ws(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Fr));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(ms(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ms(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ke(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zs=Hi(),vs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 17:return;case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Ms=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,As=0,xs=null,Os=null,Rs=0,Ps=0,Ls=oi(0),Is=0,Ds=null,Fs=0,Bs=0,Us=0,Hs=0,js=null,zs=0,Ws=1/0;function Ks(){Ws=Hi()+500}var Vs,qs=null,Qs=!1,$s=null,Gs=null,Ys=!1,Xs=null,Js=90,Zs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,au=0,ou=0,su=null,uu=!1;function lu(){return 0!==(48&As)?Hi():-1!==iu?iu:iu=Hi()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===ji()?1:2;if(0===au&&(au=Fs),0!==Qi.transition){0!==ou&&(ou=null!==js?js.pendingLanes:0),e=au;var t=4186112&~ou;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=ji(),0!==(4&As)&&98===e?e=Ht(12,au):e=Ht(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),au),e}function du(e,t,n){if(50<nu)throw nu=0,ru=null,Error(o(185));if(null===(e=fu(e,t)))return null;Wt(e,t,n),e===xs&&(Us|=t,4===Is&&vu(e,Rs));var r=ji();1===t?0!==(8&As)&&0===(48&As)?mu(e):(hu(e,n),0===As&&(Ks(),Vi())):(0===(4&As)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),hu(e,n)),js=e}function fu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Ft(l);var d=Dt;a[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Bt(e,e===xs?Rs:0),t=Dt,0===r)null!==n&&(n!==Li&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Si(n)}15===t?(n=mu.bind(null,e),null===Di?(Di=[n],Fi=Ei(Ai,qi)):Di.push(n),n=Li):14===t?n=Ki(99,mu.bind(null,e)):n=Ki(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),pu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,ou=au=0,0!==(48&As))throw Error(o(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Bt(e,e===xs?Rs:0);if(0===n)return null;var r=n,i=As;As|=16;var a=Eu();for(xs===e&&Rs===r||(Ks(),wu(e,r));;)try{Nu();break}catch(u){_u(e,u)}if(Zi(),Ms.current=a,As=i,null!==Os?r=0:(xs=null,Rs=0,r=Is),0!==(Fs&Us))wu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Ds,wu(e,0),vu(e,n),hu(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Au(e);break;case 3:if(vu(e,n),(62914560&n)===n&&10<(r=zs+500-Hi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Au.bind(null,e),r);break}Au(e);break;case 4:if(vu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=zr(Au.bind(null,e),n);break}Au(e);break;case 5:Au(e);break;default:throw Error(o(329))}}return hu(e,Hi()),e.callbackNode===t?pu.bind(null,e):null}function vu(e,t){for(t&=~Hs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(0!==(48&As))throw Error(o(327));if(Ru(),e===xs&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Su(e,t);0!==(Fs&Us)&&(n=Su(e,t=Bt(e,t)))}else n=Su(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Ds,wu(e,0),vu(e,t),hu(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),hu(e,Hi()),null}function ku(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ks(),Vi())}}function yu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Ks(),Vi())}}function gu(e,t){ui(Ls,Ps),Ps|=t,Fs|=t}function bu(){Ps=Ls.current,si(Ls)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Oa(),si(di),si(ci),qa();break;case 5:Pa(r);break;case 4:Oa();break;case 13:case 19:si(La);break;case 10:ea(r);break;case 23:case 24:bu()}n=n.return}xs=e,Os=Wu(e.current,null),Rs=Ps=Fs=t,Is=0,Ds=null,Hs=Us=Bs=0}function _u(e,t){for(;;){var n=Os;try{if(Zi(),Qa.current=Ao,Za){for(var r=Ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Za=!1}if(Ga=0,Ja=Xa=Ya=null,eo=!1,Ts.current=null,null===n||null===n.return){Is=1,Ds=t,Os=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&La.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=f.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(h){var m=f.updateQueue;if(null===m){var k=new Set;k.add(l),f.updateQueue=k}else m.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=sa(-1,1);y.tag=2,ua(s,y)}s.lanes|=1;break e}u=void 0,s=t;var g=a.pingCache;if(null===g?(g=a.pingCache=new us,u=new Set,g.set(l,u)):void 0===(u=g.get(l))&&(u=new Set,g.set(l,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,l,s);l.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),u=os(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,la(f,ls(0,a,t));break e;case 1:a=u;var w=f.type,_=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gs||!Gs.has(_)))){f.flags|=4096,t&=-t,f.lanes|=t,la(f,cs(f,a,t));break e}}f=f.return}while(null!==f)}Tu(n)}catch(E){t=E,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function Eu(){var e=Ms.current;return Ms.current=Ao,null===e?Ao:e}function Su(e,t){var n=As;As|=16;var r=Eu();for(xs===e&&Rs===t||wu(e,t);;)try{Cu();break}catch(i){_u(e,i)}if(Zi(),As=n,Ms.current=r,null!==Os)throw Error(o(261));return xs=null,Rs=0,Is}function Cu(){for(;null!==Os;)Mu(Os)}function Nu(){for(;null!==Os&&!Ci();)Mu(Os)}function Mu(e){var t=Vs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Tu(e):Os=t,Ts.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ps)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ps)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Is&&(Is=5)}function Au(e){var t=ji();return Wi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Ru()}while(null!==Xs);if(0!==(48&As))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Kt(a),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==tu&&0===(24&r)&&tu.has(e)&&tu.delete(e),e===xs&&(Os=xs=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Ts.current=null,Br=Gt,pr(s=hr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(N){u=null;break e}var d=0,f=-1,h=-1,p=0,v=0,m=s,k=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(f=d+a),m!==l||0!==c&&3!==m.nodeType||(h=d+c),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)k=m,m=y;for(;;){if(m===s)break t;if(k===u&&++p===a&&(f=d),k===l&&++v===c&&(h=d),null!==(y=m.nextSibling))break;k=(m=k).parentNode}m=y}u=-1===f||-1===h?null:{start:f,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},Gt=!1,su=null,uu=!1,qs=r;do{try{Ou()}catch(N){if(null===qs)throw Error(o(330));Fu(qs,N),qs=qs.nextEffect}}while(null!==qs);su=null,qs=r;do{try{for(s=e;null!==qs;){var g=qs.flags;if(16&g&&ye(qs.stateNode,""),128&g){var b=qs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&g){case 2:gs(qs),qs.flags&=-3;break;case 6:gs(qs),qs.flags&=-3,Es(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Es(qs.alternate,qs);break;case 4:Es(qs.alternate,qs);break;case 8:_s(s,u=qs);var _=u.alternate;ks(u),null!==_&&ks(_)}qs=qs.nextEffect}}catch(N){if(null===qs)throw Error(o(330));Fu(qs,N),qs=qs.nextEffect}}while(null!==qs);if(w=Ur,b=hr(),g=w.focusedElem,s=w.selectionRange,b!==g&&g&&g.ownerDocument&&fr(g.ownerDocument.documentElement,g)){null!==s&&pr(g)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(w,g.value.length)):(w=(b=g.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=g.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=dr(g,_),a=dr(g,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=g;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof g.focus&&g.focus(),g=0;g<b.length;g++)(w=b[g]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Gt=!!Br,Ur=Br=null,e.current=n,qs=r;do{try{for(g=e;null!==qs;){var E=qs.flags;if(36&E&&ps(g,qs.alternate,qs),128&E){b=void 0;var S=qs.ref;if(null!==S){var C=qs.stateNode;switch(qs.tag){case 5:b=C;break;default:b=C}"function"===typeof S?S(b):S.current=b}}qs=qs.nextEffect}}catch(N){if(null===qs)throw Error(o(330));Fu(qs,N),qs=qs.nextEffect}}while(null!==qs);qs=null,Ii(),As=i}else e.current=n;if(Ys)Ys=!1,Xs=e,Js=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((E=qs).sibling=null,E.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64===(64&n.current.flags))}catch(N){}if(hu(e,Hi()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&As)||Vi(),null}function Ou(){for(;null!==qs;){var e=qs.alternate;uu||null===su||(0!==(8&qs.flags)?et(qs,su)&&(uu=!0):13===qs.tag&&Cs(e,qs)&&et(qs,su)&&(uu=!0));var t=qs.flags;0!==(256&t)&&hs(e,qs),0===(512&t)||Ys||(Ys=!0,Ki(97,(function(){return Ru(),null}))),qs=qs.nextEffect}}function Ru(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Wi(e,Iu)}return!1}function Pu(e,t){Zs.push(t,e),Ys||(Ys=!0,Ki(97,(function(){return Ru(),null})))}function Lu(e,t){eu.push(t,e),Ys||(Ys=!0,Ki(97,(function(){return Ru(),null})))}function Iu(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!==(48&As))throw Error(o(331));var t=As;As|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Fu(a,l)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Fu(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Vi(),!0}function Du(e,t,n){ua(e,t=ls(0,t=os(n,t),1)),t=lu(),null!==(e=fu(e,1))&&(Wt(e,1,t),hu(e,t))}function Fu(e,t){if(3===e.tag)Du(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Du(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=cs(n,e=os(t,e),1);if(ua(n,i),i=lu(),null!==(n=fu(n,1)))Wt(n,1,i),hu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(Rs&n)===n&&(4===Is||3===Is&&(62914560&Rs)===Rs&&500>Hi()-zs?wu(e,0):Hs|=n),hu(e,t)}function Uu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===ji()?1:2:(0===au&&(au=Fs),0===(t=jt(62914560&~au))&&(t=4194304))),n=lu(),null!==(e=fu(e,t))&&(Wt(e,t,n),hu(e,n))}function Hu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Hu(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Vu(n.children,i,a,t);case D:s=8,i|=16;break;case C:s=8,i|=1;break;case N:return(e=ju(12,n,t,8|i)).elementType=N,e.type=N,e.lanes=a,e;case x:return(e=ju(13,n,t,i)).type=x,e.elementType=x,e.lanes=a,e;case O:return(e=ju(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return qu(n,i,a,t);case B:return(e=ju(24,n,t,i)).elementType=B,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case T:s=9;break e;case A:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e;case L:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ju(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=ju(23,e,r,t)).elementType=F,e.lanes=n,e}function Qu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Yu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xu(e,t,n,r){var i=t.current,a=lu(),s=cu(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(pi(l)){n=ki(n,l,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ua(i,t),du(i,s,a),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(e,t,null!=n&&!0===n.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Xr]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ju(o);s.call(e)}}Xu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ju(o);u.call(e)}}yu((function(){Xu(t,o,e,i)}))}return Ju(o)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(o(200));return Yu(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:Ra(t);break;case 1:pi(t.type)&&yi(t);break;case 4:xa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Go(e,t,n):(ui(La,1&La.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return ns(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ci.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ha(t,r,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Io(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=$i(i,e),a){case 0:t=jo(null,t,i,e,n);break e;case 1:t=zo(null,t,i,e,n);break e;case 11:t=Do(null,t,i,e,n);break e;case 14:t=Fo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Fa=Vr(t.stateNode.containerInfo.firstChild),Da=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Va.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(e,t,r,n),Ka();t=t.child}return t;case 5:return Ra(t),null===e&&ja(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,jr(r,i)?s=null:null!==a&&jr(r,a)&&(t.flags|=16),Ho(e,t),Io(e,t,s,n),t.child;case 6:return null===e&&ja(t),null;case 13:return Go(e,t,n);case 4:return xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ui(Gi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=sr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&((c=sa(-1,n&-n)).tag=2,ua(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ta(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Fo(e,t,i,a=$i(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,yi(t)):e=!1,na(t,n),ma(t,r,i),ya(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},tl.prototype.render=function(e){Xu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xu(null,e,null,(function(){t[Xr]=null}))},tt=function(e){13===e.tag&&(du(e,4,lu()),el(e,4))},nt=function(e){13===e.tag&&(du(e,67108864,lu()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lu(),n=cu(e);du(e,n,t),el(e,n)}},it=function(e,t){return t()},Me=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ku,Le=function(e,t,n,r,i){var a=As;As|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(As=a)&&(Ks(),Vi())}},Ie=function(){0===(49&As)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hu(e,Hi())}))}Vi()}(),Ru())},De=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Ks(),Vi())}};var al={Events:[ei,ti,ni,Oe,Re,Ru,{current:!1}]},ol={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{bi=ul.inject(sl),wi=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{As=n,Vi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(yu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=ku,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(18)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,d=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(f,0))},i=function(e,t){d=setTimeout(e,t)},a=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,k=null,y=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==k){var e=t.unstable_now();b=e+g;try{k(!0,e)?_.postMessage(null):(m=!1,k=null)}catch(n){throw _.postMessage(null),n}}else m=!1},r=function(e){k=e,m||(m=!0,_.postMessage(null))},i=function(e,n){y=h((function(){e(t.unstable_now())}),n)},a=function(){p(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<N(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>N(o,n))void 0!==u&&0>N(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>N(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function N(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],T=[],A=1,x=null,O=3,R=!1,P=!1,L=!1;function I(e){for(var t=S(T);null!==t;){if(null===t.callback)C(T);else{if(!(t.startTime<=e))break;C(T),t.sortIndex=t.expirationTime,E(M,t)}t=S(T)}}function D(e){if(L=!1,I(e),!P)if(null!==S(M))P=!0,r(F);else{var t=S(T);null!==t&&i(D,t.startTime-e)}}function F(e,n){P=!1,L&&(L=!1,a()),R=!0;var r=O;try{for(I(n),x=S(M);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=x.callback;if("function"===typeof o){x.callback=null,O=x.priorityLevel;var s=o(x.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?x.callback=s:x===S(M)&&C(M),I(n)}else C(M);x=S(M)}if(null!==x)var u=!0;else{var l=S(T);null!==l&&i(D,l.startTime-n),u=!1}return u}finally{x=null,O=r,R=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(M)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,E(T,e),null===S(M)&&e===S(T)&&(L?a():L=!0,i(D,o-s))):(e.sortIndex=u,E(M,e),P||R||(P=!0,r(F))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";var r=n(21);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},,function(e,t,n){"use strict";n(10);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l}]]);
//# sourceMappingURL=2.739d8690.chunk.js.map